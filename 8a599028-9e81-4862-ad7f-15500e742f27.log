"{\"ip_address\":null,\"time\":\"2023-05-06T13:29:04.363Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"save_notebook\",\"cell_source\":\"[\n  {\n    \\"cell_type\\": \\"code\\",\n    \\"source\\": \\"# # Do not forget to check if your notebook log collection plugin is working\\n# from mining_extension import check_logging\\n# check_logging(\\\\"PASTE FULL URL HERE\\\\")\\",\n    \\"execution_count\\": null,\n    \\"id\\": \\"d22ae43fa27a4a3f86efb141048b7e61\\"\n  },\n  {\n    \\"cell_type\\": \\"code\\",\n    \\"source\\": \\"import pandas as pd\\nfeatures_path = "data/task2/"\\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\\n\\ntrain_features.index = range(train_features.shape[0])\\nvalidation_features.index = range(validation_features.shape[0])\\ntest_features.index = range(test_features.shape[0])\\n\\ntrain_features.fillna(0,inplace=True)\\ntest_features.fillna(0,inplace=True)\\nvalidation_features.fillna(0,inplace=True)\\n\\nprint(train_features.shape)\\nprint(validation_features.shape)\\nprint(test_features.shape)\\",\n    \\"execution_count\\": 2,\n    \\"id\\": \\"4a9ec462b11b495ca439820377c646ea\\"\n  },\n  {\n    \\"cell_type\\": \\"code\\",\n    \\"source\\": \\"train_features\\",\n    \\"execution_count\\": 4,\n    \\"id\\": \\"304d47652dba4691997fa16c7f915680\\"\n  },\n  {\n    \\"cell_type\\": \\"code\\",\n    \\"source\\": \\"train_features.text[1]\\",\n    \\"execution_count\\": 8,\n    \\"id\\": \\"3fb558d53ff440aca9325736264edf88\\"\n  },\n  {\n    \\"cell_type\\": \\"code\\",\n    \\"source\\": \\"\\",\n    \\"execution_count\\": null,\n    \\"id\\": \\"173255a48fd04dee8328a65e1bcf2a56\\"\n  }\n]\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:30:39.134Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"d22ae43fa27a4a3f86efb141048b7e61\",\"cell_num\":1,\"cell_source\":\"# # Do not forget to check if your notebook log collection plugin is working\nfrom mining_extension import check_logging\ncheck_logging(\\"PASTE FULL URL HERE\\")\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T13:30:39.134Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"d22ae43fa27a4a3f86efb141048b7e61\",\"cell_num\":1,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"MissingSchema\\",\\"evalue\\":\\"Invalid URL "PASTE FULL URL HERE": No scheme supplied. Perhaps you meant https://PASTE FULL URL HERE?\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:31:01.387Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"d22ae43fa27a4a3f86efb141048b7e61\",\"cell_num\":0,\"cell_source\":\"# # Do not forget to check if your notebook log collection plugin is working\nfrom mining_extension import check_logging\ncheck_logging(\\"http://3.249.245.244:9999\\")\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:31:01.606Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"d22ae43fa27a4a3f86efb141048b7e61\",\"cell_num\":1,\"cell_source\":\"# # Do not forget to check if your notebook log collection plugin is working\nfrom mining_extension import check_logging\ncheck_logging(\\"http://3.249.245.244:9999\\")\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":23}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:31:07.550Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":1,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:31:08.653Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":2,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":38}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:31:19.760Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"304d47652dba4691997fa16c7f915680\",\"cell_num\":2,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:31:19.883Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"304d47652dba4691997fa16c7f915680\",\"cell_num\":3,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":10079}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:31:54.731Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"3fb558d53ff440aca9325736264edf88\",\"cell_num\":3,\"cell_source\":\"train_features.text[1]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:31:54.829Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"3fb558d53ff440aca9325736264edf88\",\"cell_num\":4,\"cell_source\":\"train_features.text[1]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":316}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:32:33.519Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"173255a48fd04dee8328a65e1bcf2a56\",\"cell_num\":4,\"cell_source\":\"train_features.columns\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:32:33.536Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"c13d462027a44686bc000350b2c7bf29\",\"cell_num\":4,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:32:33.658Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"173255a48fd04dee8328a65e1bcf2a56\",\"cell_num\":5,\"cell_source\":\"train_features.columns\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":608}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:32:50.124Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"173255a48fd04dee8328a65e1bcf2a56\",\"cell_num\":null,\"cell_source\":\"train_features.columns\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:34:42.491Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"c13d462027a44686bc000350b2c7bf29\",\"cell_num\":4,\"cell_source\":\"!pip install catboost\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:34:42.518Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"594e660297424c55a97d553ba65f20ec\",\"cell_num\":4,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:35:06.224Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"594e660297424c55a97d553ba65f20ec\",\"cell_num\":5,\"cell_source\":\"!nvidia-smi\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:35:06.233Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"f7dbec5cc1834feb8ed99d884d875808\",\"cell_num\":5,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:35:11.284Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"f7dbec5cc1834feb8ed99d884d875808\",\"cell_num\":6,\"cell_source\":\"!lscpu\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:35:11.293Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"2b13537bdd3c4b188d851b5342594a56\",\"cell_num\":6,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:35:32.591Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"541119218fcf485393e025ce1e598a20\",\"cell_num\":3,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:35:34.472Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"rendered\",\"cell_index\":\"e25c31a8bf0c4e7e8e1de7a0c612abad\",\"cell_num\":4,\"cell_source\":\"\",\"cell_type\":\"markdown\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:35:34.473Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"e25c31a8bf0c4e7e8e1de7a0c612abad\",\"cell_num\":4,\"cell_source\":\"\",\"cell_type\":\"markdown\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:35:34.573Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"cell_index\":\"e25c31a8bf0c4e7e8e1de7a0c612abad\",\"cell_num\":4,\"cell_type\":\"markdown\",\"event\":\"to_markdown\",\"cell_source\":\"\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:36:42.671Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"c13d462027a44686bc000350b2c7bf29\",\"cell_num\":4,\"cell_source\":\"!pip install catboost\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":15036}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:36:43.206Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"594e660297424c55a97d553ba65f20ec\",\"cell_num\":4,\"cell_source\":\"!nvidia-smi\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":42}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:36:43.693Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"f7dbec5cc1834feb8ed99d884d875808\",\"cell_num\":4,\"cell_source\":\"!lscpu\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":37}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:37:24.325Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"rendered\",\"cell_index\":\"e25c31a8bf0c4e7e8e1de7a0c612abad\",\"cell_num\":4,\"cell_source\":\"## Baseline\n\n**I will build my model with CatBoost. So firstly let"s create a model with this library without feature engineering and hyperparameters finding**\",\"cell_type\":\"markdown\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:37:26.701Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"c13d462027a44686bc000350b2c7bf29\",\"cell_num\":null,\"cell_source\":\"!pip install catboost\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:37:48.970Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"594e660297424c55a97d553ba65f20ec\",\"cell_num\":null,\"cell_source\":\"!nvidia-smi\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:37:49.385Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"f7dbec5cc1834feb8ed99d884d875808\",\"cell_num\":null,\"cell_source\":\"!lscpu\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:39:53.438Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":2,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:39:58.924Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":3,\"cell_source\":\"train_features["text/plain"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:39:58.987Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":4,\"cell_source\":\"train_features["text/plain"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":182}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:40:38.724Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":3,\"cell_source\":\"train_features["image/png"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:40:38.814Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":4,\"cell_source\":\"train_features["image/png"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":108}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:40:47.337Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":3,\"cell_source\":\"train_features["text/plain"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:40:47.422Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":4,\"cell_source\":\"train_features["text/plain"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":152}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:41:06.980Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":3,\"cell_source\":\"train_features["text/html"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:41:07.068Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":4,\"cell_source\":\"train_features["text/html"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":45}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:41:19.386Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":3,\"cell_source\":\"train_features["execute_result"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:41:19.464Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":4,\"cell_source\":\"train_features["execute_result"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":48}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:41:32.426Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":3,\"cell_source\":\"train_features["display_data"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:41:32.525Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":4,\"cell_source\":\"train_features["display_data"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":108}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:41:42.868Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":3,\"cell_source\":\"train_features["stream"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:41:42.968Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":4,\"cell_source\":\"train_features["stream"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":80}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:41:51.005Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":3,\"cell_source\":\"train_features["error"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:41:51.087Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":4,\"cell_source\":\"train_features["error"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":30}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:41:59.930Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":4,\"cell_source\":\"train_features["text"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T13:41:59.930Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":4,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"TypeError\\",\\"evalue\\":\\"unhashable type: "list"\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:42:02.239Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":3,\"cell_source\":\"train_features["text"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:42:02.378Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":4,\"cell_source\":\"train_features["text"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":707}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:42:16.214Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":4,\"cell_source\":\"train_features["comment"].\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T13:42:16.214Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":4,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"SyntaxError\\",\\"evalue\\":\\"invalid syntax (49636725.py, line 1)\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:42:17.714Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":3,\"cell_source\":\"train_features["comment"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:42:17.816Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":4,\"cell_source\":\"train_features["comment"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":708}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:42:26.892Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":3,\"cell_source\":\"train_features["code_line_before"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:42:26.985Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":4,\"cell_source\":\"train_features["code_line_before"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":718}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:42:33.501Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":3,\"cell_source\":\"train_features["markdown_heading"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:42:33.623Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":4,\"cell_source\":\"train_features["markdown_heading"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":717}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:42:46.404Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":3,\"cell_source\":\"train_features["packages_info"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:42:46.482Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":4,\"cell_source\":\"train_features["packages_info"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":714}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:44:07.660Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"2b13537bdd3c4b188d851b5342594a56\",\"cell_num\":6,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\ntext_feats = ["text", "comment", "code_line_before", "code_line_after", \n              "markdown_heading", "packages_info"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:44:07.685Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"cfe11c1a3ef5442086eef92a877d4a92\",\"cell_num\":6,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:44:07.793Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"2b13537bdd3c4b188d851b5342594a56\",\"cell_num\":7,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\ntext_feats = ["text", "comment", "code_line_before", "code_line_after", \n              "markdown_heading", "packages_info"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:44:23.098Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"cfe11c1a3ef5442086eef92a877d4a92\",\"cell_num\":8,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T13:44:23.098Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"cfe11c1a3ef5442086eef92a877d4a92\",\"cell_num\":8,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"ModuleNotFoundError\\",\\"evalue\\":\\"No module named "catboost"\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:44:33.315Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"41bb11522e0b4cfd853eeb48f2d60acb\",\"cell_num\":8,\"cell_source\":\"!pip install catboost\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:44:33.328Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"6f2a26df12d143dc8da767d321ead265\",\"cell_num\":8,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:46:29.598Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"41bb11522e0b4cfd853eeb48f2d60acb\",\"cell_num\":9,\"cell_source\":\"!pip install catboost\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":13928},{\\"output_type\\":\\"stream\\",\\"size\\":249}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:47:10.900Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"99a238bdea9d4089899a39d6b5bd5709\",\"cell_num\":7,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:47:12.507Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"99a238bdea9d4089899a39d6b5bd5709\",\"cell_num\":8,\"cell_source\":\"!pip install --upgrade pip\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:47:19.694Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"99a238bdea9d4089899a39d6b5bd5709\",\"cell_num\":8,\"cell_source\":\"!pip install --upgrade pip\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":523}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:47:24.094Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"41bb11522e0b4cfd853eeb48f2d60acb\",\"cell_num\":9,\"cell_source\":\"!pip install catboost\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:49:32.730Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"41bb11522e0b4cfd853eeb48f2d60acb\",\"cell_num\":9,\"cell_source\":\"!pip install catboost\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":16319}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:51:12.527Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"41bb11522e0b4cfd853eeb48f2d60acb\",\"cell_num\":9,\"cell_source\":\"!pip install -U catboost\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:52:34.206Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"41bb11522e0b4cfd853eeb48f2d60acb\",\"cell_num\":9,\"cell_source\":\"!pip install -U catboost\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":16319}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:52:45.181Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"41bb11522e0b4cfd853eeb48f2d60acb\",\"cell_num\":9,\"cell_source\":\"!pip install --no-cache-dir catboost\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:54:29.246Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"41bb11522e0b4cfd853eeb48f2d60acb\",\"cell_num\":9,\"cell_source\":\"!pip install --no-cache-dir catboost\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":17144}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:55:41.865Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"f87e0091f13a44fab1b2a2c42f62303b\",\"cell_num\":9,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:55:44.323Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"f87e0091f13a44fab1b2a2c42f62303b\",\"cell_num\":10,\"cell_source\":\"!pwd\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:55:44.493Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"f87e0091f13a44fab1b2a2c42f62303b\",\"cell_num\":11,\"cell_source\":\"!pwd\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":52}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:56:28.050Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"3b40b8d39cae49ec8c9a078d0aa763f5\",\"cell_num\":9,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:56:32.321Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"3b40b8d39cae49ec8c9a078d0aa763f5\",\"cell_num\":10,\"cell_source\":\"!conda install catboost\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:58:28.532Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"kernel_interrupting\",\"cell_index\":\"\",\"cell_num\":10,\"cell_source\":\"\",\"cell_type\":\"\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:58:29.033Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"3b40b8d39cae49ec8c9a078d0aa763f5\",\"cell_num\":10,\"cell_source\":\"!conda install catboost\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":2294}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T13:58:31.267Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"3b40b8d39cae49ec8c9a078d0aa763f5\",\"cell_num\":10,\"cell_source\":\"!conda install catboost -y\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:00:50.846Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"3b40b8d39cae49ec8c9a078d0aa763f5\",\"cell_num\":10,\"cell_source\":\"!conda install catboost -y\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":2878}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:01:33.455Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"cfe11c1a3ef5442086eef92a877d4a92\",\"cell_num\":8,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T14:01:33.455Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"cfe11c1a3ef5442086eef92a877d4a92\",\"cell_num\":8,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"ModuleNotFoundError\\",\\"evalue\\":\\"No module named "catboost"\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:01:44.998Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"kernel_restarting\",\"cell_index\":\"\",\"cell_num\":10,\"cell_source\":\"\",\"cell_type\":\"\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:01:50.130Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"cfe11c1a3ef5442086eef92a877d4a92\",\"cell_num\":7,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T14:01:50.130Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"cfe11c1a3ef5442086eef92a877d4a92\",\"cell_num\":7,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"ModuleNotFoundError\\",\\"evalue\\":\\"No module named "catboost"\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:02:06.842Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"932001f6c3c74589801b0c7e3825440f\",\"cell_num\":6,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:02:09.746Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"932001f6c3c74589801b0c7e3825440f\",\"cell_num\":7,\"cell_source\":\"!pip install catboost==1.1\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:02:51.884Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"932001f6c3c74589801b0c7e3825440f\",\"cell_num\":7,\"cell_source\":\"!pip install catboost==1.1\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":2980}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:02:58.222Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"cfe11c1a3ef5442086eef92a877d4a92\",\"cell_num\":8,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T14:02:58.222Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"cfe11c1a3ef5442086eef92a877d4a92\",\"cell_num\":8,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"ModuleNotFoundError\\",\\"evalue\\":\\"No module named "sklearn"\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:03:16.211Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"99a238bdea9d4089899a39d6b5bd5709\",\"cell_num\":9,\"cell_source\":\"!pip install -U scikit-learn\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:03:25.343Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"99a238bdea9d4089899a39d6b5bd5709\",\"cell_num\":8,\"cell_source\":\"!pip install -U scikit-learn\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":970}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:03:28.450Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"cfe11c1a3ef5442086eef92a877d4a92\",\"cell_num\":8,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:03:33.003Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"cfe11c1a3ef5442086eef92a877d4a92\",\"cell_num\":9,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:16:10.476Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"932001f6c3c74589801b0c7e3825440f\",\"cell_num\":null,\"cell_source\":\"!pip install catboost==1.1\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:16:13.410Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"99a238bdea9d4089899a39d6b5bd5709\",\"cell_num\":null,\"cell_source\":\"!pip install -U scikit-learn\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:16:13.926Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"41bb11522e0b4cfd853eeb48f2d60acb\",\"cell_num\":null,\"cell_source\":\"!pip install --no-cache-dir catboost\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:16:15.019Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"3b40b8d39cae49ec8c9a078d0aa763f5\",\"cell_num\":null,\"cell_source\":\"!conda install catboost -y\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:16:22.165Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"d22ae43fa27a4a3f86efb141048b7e61\",\"cell_num\":0,\"cell_source\":\"# # Do not forget to check if your notebook log collection plugin is working\nfrom mining_extension import check_logging\ncheck_logging(\\"http://3.249.245.244:9999\\")\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:16:22.808Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"d22ae43fa27a4a3f86efb141048b7e61\",\"cell_num\":1,\"cell_source\":\"# # Do not forget to check if your notebook log collection plugin is working\nfrom mining_extension import check_logging\ncheck_logging(\\"http://3.249.245.244:9999\\")\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":23}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:16:24.271Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":1,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:16:24.487Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":2,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":38}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:16:26.538Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"304d47652dba4691997fa16c7f915680\",\"cell_num\":2,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:16:26.685Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"304d47652dba4691997fa16c7f915680\",\"cell_num\":3,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":10079}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:16:27.710Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":3,\"cell_source\":\"train_features["packages_info"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:16:27.803Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":4,\"cell_source\":\"train_features["packages_info"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":714}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:16:30.403Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"3fb558d53ff440aca9325736264edf88\",\"cell_num\":4,\"cell_source\":\"train_features.text[1]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:16:30.475Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"3fb558d53ff440aca9325736264edf88\",\"cell_num\":5,\"cell_source\":\"train_features.text[1]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":316}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:16:33.653Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"2b13537bdd3c4b188d851b5342594a56\",\"cell_num\":6,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\ntext_feats = ["text", "comment", "code_line_before", "code_line_after", \n              "markdown_heading", "packages_info"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:16:33.727Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"2b13537bdd3c4b188d851b5342594a56\",\"cell_num\":7,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\ntext_feats = ["text", "comment", "code_line_before", "code_line_after", \n              "markdown_heading", "packages_info"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:19:41.793Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":3,\"cell_source\":\"train_features["primary_label"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:19:41.889Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":4,\"cell_source\":\"train_features["primary_label"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":373}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:20:31.375Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":5,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:21:27.706Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":6,\"cell_source\":\"train_features.loc[:, train_features.columns != "primary_label"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:21:27.830Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":7,\"cell_source\":\"train_features.loc[:, train_features.columns != "primary_label"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":10079}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:22:41.447Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"2b13537bdd3c4b188d851b5342594a56\",\"cell_num\":8,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\ncategorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\ntext_feats = ["text", "comment", "code_line_before", "code_line_after", \n              "markdown_heading", "packages_info"]\n\n\ntrain_pool = Pool(train_features.loc[:, train_features.columns != "primary_label"],\n                  train_features["primary_label"], cat_features=categorical_features,\n                 text_features=text_feats)\nval_pool = Pool(validation_features.loc[:, validation_features.columns != "primary_label"],\n                  validation_features["primary_label"], cat_features=categorical_features,\n                 text_features=text_feats)\ntest_pool = Pool(test_features.loc[:, test_features.columns != "primary_label"],\n                  test_features["primary_label"], cat_features=categorical_features,\n                 text_features=text_feats)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T14:22:41.447Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"2b13537bdd3c4b188d851b5342594a56\",\"cell_num\":8,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"NameError\\",\\"evalue\\":\\"name "categorical_features" is not defined\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:22:50.965Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"2b13537bdd3c4b188d851b5342594a56\",\"cell_num\":8,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\ncategorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\ntext_feats = ["text", "comment", "code_line_before", "code_line_after", \n              "markdown_heading", "packages_info"]\n\n\ntrain_pool = Pool(train_features.loc[:, train_features.columns != "primary_label"],\n                  train_features["primary_label"], cat_features=categorical_feats,\n                 text_features=text_feats)\nval_pool = Pool(validation_features.loc[:, validation_features.columns != "primary_label"],\n                  validation_features["primary_label"], cat_features=categorical_feats,\n                 text_features=text_feats)\ntest_pool = Pool(test_features.loc[:, test_features.columns != "primary_label"],\n                  test_features["primary_label"], cat_features=categorical_feats,\n                 text_features=text_feats)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":81},{\\"output_type\\":\\"stream\\",\\"size\\":3425}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:23:05.418Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"2b13537bdd3c4b188d851b5342594a56\",\"cell_num\":8,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\ncategorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\ntext_feats = ["text", "comment", "code_line_before", "code_line_after", \n              "markdown_heading", "packages_info"]\n\n\ntrain_pool = Pool(train_features.loc[:, train_features.columns != "primary_label"],\n                  train_features["primary_label"], cat_features=categorical_feats,\n                 text_features=text_feats)\nval_pool = Pool(validation_features.loc[:, validation_features.columns != "primary_label"],\n                  validation_features["primary_label"], cat_features=categorical_feats,\n                 text_features=text_feats)\ntest_pool = Pool(test_features.loc[:, test_features.columns != "primary_label"],\n                  test_features["primary_label"], cat_features=categorical_feats,\n                 text_features=text_feats)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":81},{\\"output_type\\":\\"stream\\",\\"size\\":3425}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:25:32.951Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"1a65eca3c00d47d38b6a673ceb80d6a4\",\"cell_num\":6,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:25:34.935Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"1a65eca3c00d47d38b6a673ceb80d6a4\",\"cell_num\":7,\"cell_source\":\"train_features["primary_label"].values\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:25:35.061Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"1a65eca3c00d47d38b6a673ceb80d6a4\",\"cell_num\":8,\"cell_source\":\"train_features["primary_label"].values\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":153}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:26:21.644Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"2b13537bdd3c4b188d851b5342594a56\",\"cell_num\":9,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\ncategorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\ntext_feats = ["text", "comment", "code_line_before", "code_line_after", \n              "markdown_heading", "packages_info"]\n\ntrain_pool_feats = train_features.loc[:, train_features.columns != "primary_label"].to_dict("records")\nval_pool_feats = validation_features.loc[:, validation_features.columns != "primary_label"].to_dict("records")\ntest_pool_feats = test_features.loc[:, test_features.columns != "primary_label"].to_dict("records")\ntrain_pool_labels = train_features["primary_label"].values\nval_pool_labels = validation_features["primary_label"].values\ntest_pool_labels = test_features["primary_label"].values\n\ntrain_features_dict = train_features.to_dict("records")\nvalidation_features_dict = validation_features.to_dict("records")\ntest_features_dict = test_features.to_dict("records")\n\ntrain_pool = Pool(train_pool_feats,\n                  train_pool_labels, cat_features=categorical_feats,\n                 text_features=text_feats)\nval_pool = Pool(val_pool_feats,\n                  val_pool_labels, cat_features=categorical_feats,\n                 text_features=text_feats)\ntest_pool = Pool(test_pool_feats,\n                  test_pool_labels, cat_features=categorical_feats,\n                 text_features=text_feats)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T14:26:21.644Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"2b13537bdd3c4b188d851b5342594a56\",\"cell_num\":9,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"KeyError\\",\\"evalue\\":\\""primary_label"\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:26:51.078Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"2b13537bdd3c4b188d851b5342594a56\",\"cell_num\":9,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\ncategorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\ntext_feats = ["text", "comment", "code_line_before", "code_line_after", \n              "markdown_heading", "packages_info"]\n\ntrain_pool_feats = train_features.loc[:, train_features.columns != "primary_label"].to_dict("records")\nval_pool_feats = validation_features.loc[:, validation_features.columns != "primary_label"].to_dict("records")\ntest_pool_feats = test_features.loc[:, test_features.columns != "primary_label"].to_dict("records")\ntrain_pool_labels = train_features["primary_label"].values\nval_pool_labels = validation_features["primary_label"].values\n# test_pool_labels = test_features["primary_label"].values\n\ntrain_features_dict = train_features.to_dict("records")\nvalidation_features_dict = validation_features.to_dict("records")\ntest_features_dict = test_features.to_dict("records")\n\ntrain_pool = Pool(train_pool_feats,\n                  train_pool_labels, cat_features=categorical_feats,\n                 text_features=text_feats)\nval_pool = Pool(val_pool_feats,\n                  val_pool_labels, cat_features=categorical_feats,\n                 text_features=text_feats)\ntest_pool = Pool(test_pool_feats, cat_features=categorical_feats,\n                 text_features=text_feats)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T14:26:51.078Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"2b13537bdd3c4b188d851b5342594a56\",\"cell_num\":9,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"CatBoostError\\",\\"evalue\\":\\"features parameter contains string value "filename" but feature names for a dataset are not specified\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:27:44.144Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"8971ebdf3c344f0fbc2087821f7d1ccc\",\"cell_num\":8,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:27:46.618Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"8971ebdf3c344f0fbc2087821f7d1ccc\",\"cell_num\":9,\"cell_source\":\"train_pool_feats\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:28:07.559Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"8971ebdf3c344f0fbc2087821f7d1ccc\",\"cell_num\":null,\"cell_source\":\"train_pool_feats\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:29:33.256Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"2b13537bdd3c4b188d851b5342594a56\",\"cell_num\":9,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\ncategorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\ntext_feats = ["text", "comment", "code_line_before", "code_line_after", \n              "markdown_heading", "packages_info"]\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\n\ntrain_pool_feats = train_features.loc[:, train_features.columns != "primary_label"].to_dict("records")\nval_pool_feats = validation_features.loc[:, validation_features.columns != "primary_label"].to_dict("records")\ntest_pool_feats = test_features.loc[:, test_features.columns != "primary_label"].to_dict("records")\ntrain_pool_labels = train_features["primary_label"].values\nval_pool_labels = validation_features["primary_label"].values\n# test_pool_labels = test_features["primary_label"].values\n\ntrain_features_dict = train_features.to_dict("records")\nvalidation_features_dict = validation_features.to_dict("records")\ntest_features_dict = test_features.to_dict("records")\n\ntrain_pool = Pool(train_pool_feats,\n                  train_pool_labels, cat_features=categorical_indices,\n                 text_features=text_indices)\nval_pool = Pool(val_pool_feats,\n                  val_pool_labels, cat_features=categorical_indices,\n                 text_features=text_indices)\ntest_pool = Pool(test_pool_feats, cat_features=categorical_indices,\n                 text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T14:29:33.256Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"2b13537bdd3c4b188d851b5342594a56\",\"cell_num\":9,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"CatBoostError\\",\\"evalue\\":\\"Invalid cat_features[1] = 1 value: index must be < 1.\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:30:14.099Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":6,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:30:14.286Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":7,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":10079}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:30:21.336Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":6,\"cell_source\":\"train_features["filename"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:30:21.492Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":7,\"cell_source\":\"train_features["filename"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":324}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:30:23.647Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":6,\"cell_source\":\"train_features["filename"][0]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:30:23.760Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":7,\"cell_source\":\"train_features["filename"][0]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":33}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:31:39.030Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"c275defa5ba04fc085fdf7b2b51176d0\",\"cell_num\":5,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:31:44.423Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"c275defa5ba04fc085fdf7b2b51176d0\",\"cell_num\":6,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:31:44.561Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"c275defa5ba04fc085fdf7b2b51176d0\",\"cell_num\":7,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":10079}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:32:37.025Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"c275defa5ba04fc085fdf7b2b51176d0\",\"cell_num\":6,\"cell_source\":\"from sklearn.model_selection import train_test_split\n\ntrain_test_split(train_features, train_features["primary_label"])\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:32:37.606Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"c275defa5ba04fc085fdf7b2b51176d0\",\"cell_num\":7,\"cell_source\":\"from sklearn.model_selection import train_test_split\n\ntrain_test_split(train_features, train_features["primary_label"])\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":9081}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:32:49.537Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"c275defa5ba04fc085fdf7b2b51176d0\",\"cell_num\":6,\"cell_source\":\"from sklearn.model_selection import train_test_split\n\nX_train, X_test, y_train, y_test = train_test_split(train_features, train_features["primary_label"])\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:32:49.666Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"c275defa5ba04fc085fdf7b2b51176d0\",\"cell_num\":7,\"cell_source\":\"from sklearn.model_selection import train_test_split\n\nX_train, X_test, y_train, y_test = train_test_split(train_features, train_features["primary_label"])\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:32:51.638Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"3a2437db1a834d21a1f3087422c882c6\",\"cell_num\":6,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:32:54.057Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"3a2437db1a834d21a1f3087422c882c6\",\"cell_num\":7,\"cell_source\":\"X_train\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:32:54.165Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"3a2437db1a834d21a1f3087422c882c6\",\"cell_num\":8,\"cell_source\":\"X_train\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":10107}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:32:59.937Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"3a2437db1a834d21a1f3087422c882c6\",\"cell_num\":7,\"cell_source\":\"y_train\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:33:00.119Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"3a2437db1a834d21a1f3087422c882c6\",\"cell_num\":8,\"cell_source\":\"y_train\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":373}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:33:02.963Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"c275defa5ba04fc085fdf7b2b51176d0\",\"cell_num\":null,\"cell_source\":\"from sklearn.model_selection import train_test_split\n\nX_train, X_test, y_train, y_test = train_test_split(train_features, train_features["primary_label"])\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:33:03.688Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"3a2437db1a834d21a1f3087422c882c6\",\"cell_num\":null,\"cell_source\":\"y_train\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:33:29.502Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":7,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\ncategorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\ntext_feats = ["text", "comment", "code_line_before", "code_line_after", \n              "markdown_heading", "packages_info"]\n\npool_train = Pool(X_train.drop(columns=["primary_label"]), y_train["primary_label"],\n                  cat_features = categorical_feats)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T14:33:29.502Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":7,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"KeyError\\",\\"evalue\\":\\""primary_label"\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:33:47.181Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":7,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\ncategorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\ntext_feats = ["text", "comment", "code_line_before", "code_line_after", \n              "markdown_heading", "packages_info"]\n\npool_train = Pool(train_features.drop(columns=["primary_label"]), train_features["primary_label"],\n                  cat_features = categorical_feats)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":81},{\\"output_type\\":\\"stream\\",\\"size\\":3442}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:35:14.785Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":7,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\ncategorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\ntext_feats = ["text", "comment", "code_line_before", "code_line_after", \n              "markdown_heading", "packages_info"]\n\npool_train = Pool(train_features.drop(columns=["primary_label"]).values, train_features["primary_label"].values,\n                  cat_features=categorical_feats)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T14:35:14.785Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":7,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"CatBoostError\\",\\"evalue\\":\\"features parameter contains string value "filename" but feature names for a dataset are not specified\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:35:22.699Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":7,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\ncategorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\ntext_feats = ["text", "comment", "code_line_before", "code_line_after", \n              "markdown_heading", "packages_info"]\n\npool_train = Pool(train_features.drop(columns=["primary_label"]).values, train_features["primary_label"].values)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T14:35:22.699Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":7,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"CatBoostError\\",\\"evalue\\":\\"Bad value for num_feature[non_default_doc_idx=0,feature_idx=0]=\\\\"nb_54880.ipynb\\\\": Cannot convert "b"nb_54880.ipynb"" to float\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:35:47.662Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":7,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\ncategorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\ntext_feats = ["text", "comment", "code_line_before", "code_line_after", \n              "markdown_heading", "packages_info"]\n\npool_train = Pool(train_features.drop(columns=["primary_label"]).values, train_features["primary_label"].values,\n                  cat_features=categorical_feats)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T14:35:47.662Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":7,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"CatBoostError\\",\\"evalue\\":\\"features parameter contains string value "filename" but feature names for a dataset are not specified\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:37:07.440Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":7,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\ncategorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\ntext_feats = ["text", "comment", "code_line_before", "code_line_after", \n              "markdown_heading", "packages_info"]\n\npool_train = Pool(train_features.drop(columns=["primary_label"]).values, train_features["primary_label"].values,\n                  cat_features=categorical_feats)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T14:37:07.440Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":7,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"CatBoostError\\",\\"evalue\\":\\"features parameter contains string value "filename" but feature names for a dataset are not specified\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:37:22.199Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":7,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\ncategorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\ntext_feats = ["text", "comment", "code_line_before", "code_line_after", \n              "markdown_heading", "packages_info"]\n\npool_train = Pool(train_features.drop(columns=["primary_label"]).values, train_features["primary_label"].values,\n                  cat_features=[0])\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T14:37:22.199Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":7,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"CatBoostError\\",\\"evalue\\":\\"Bad value for num_feature[non_default_doc_idx=0,feature_idx=1]=\\\\"code\\\\": Cannot convert "b"code"" to float\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:38:39.472Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":7,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\ncategorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\ntext_feats = ["text", "comment", "code_line_before", "code_line_after", \n              "markdown_heading", "packages_info"]\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\n\n\npool_train = Pool(train_features.drop(columns=["primary_label"]).values, train_features["primary_label"].values,\n                  cat_features=[0])\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T14:38:39.472Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":7,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"CatBoostError\\",\\"evalue\\":\\"Bad value for num_feature[non_default_doc_idx=0,feature_idx=1]=\\\\"code\\\\": Cannot convert "b"code"" to float\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:38:51.378Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":7,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\ncategorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\ntext_feats = ["text", "comment", "code_line_before", "code_line_after", \n              "markdown_heading", "packages_info"]\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\n\n\npool_train = Pool(train_features.drop(columns=["primary_label"]).values,\n                  train_features["primary_label"].values,\n                  cat_features=categorical_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T14:38:51.378Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":7,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"CatBoostError\\",\\"evalue\\":\\"Bad value for num_feature[non_default_doc_idx=0,feature_idx=15]=\\\\"["import pandas as pd", "import numpy as np"]\\\\": Cannot convert obj ["import pandas as pd", "import numpy as np"] to float\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:39:15.410Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":7,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\ncategorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\ntext_feats = ["text", "comment", "code_line_before", "code_line_after", \n              "markdown_heading", "packages_info"]\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\n\n\npool_train = Pool(train_features.drop(columns=["primary_label"]).values,\n                  train_features["primary_label"].values,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T14:39:15.410Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":7,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"CatBoostError\\",\\"evalue\\":\\"Invalid type for text_feature[non-default value idx=0,feature_idx=15]=["import pandas as pd", "import numpy as np"] : text_features must have string type\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:42:50.712Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"3ec21725acc5480d810e377218b8b82d\",\"cell_num\":5,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:42:58.694Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"3ec21725acc5480d810e377218b8b82d\",\"cell_num\":6,\"cell_source\":\"train_features["filename"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:42:58.826Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"3ec21725acc5480d810e377218b8b82d\",\"cell_num\":7,\"cell_source\":\"train_features["filename"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":324}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:43:04.022Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"3ec21725acc5480d810e377218b8b82d\",\"cell_num\":6,\"cell_source\":\"train_features["cell_type"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:43:04.152Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"3ec21725acc5480d810e377218b8b82d\",\"cell_num\":7,\"cell_source\":\"train_features["cell_type"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":215}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:43:09.376Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"3ec21725acc5480d810e377218b8b82d\",\"cell_num\":6,\"cell_source\":\"train_features["text/plain"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:43:09.518Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"3ec21725acc5480d810e377218b8b82d\",\"cell_num\":7,\"cell_source\":\"train_features["text/plain"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":182}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:43:21.738Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"3ec21725acc5480d810e377218b8b82d\",\"cell_num\":6,\"cell_source\":\"train_features["text"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:43:21.876Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"3ec21725acc5480d810e377218b8b82d\",\"cell_num\":7,\"cell_source\":\"train_features["text"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":707}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:43:25.339Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"3ec21725acc5480d810e377218b8b82d\",\"cell_num\":6,\"cell_source\":\"train_features["text"][0]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:43:25.490Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"3ec21725acc5480d810e377218b8b82d\",\"cell_num\":7,\"cell_source\":\"train_features["text"][0]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":62}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:43:30.164Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"3ec21725acc5480d810e377218b8b82d\",\"cell_num\":6,\"cell_source\":\"train_features["comment"][0]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:43:30.292Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"3ec21725acc5480d810e377218b8b82d\",\"cell_num\":7,\"cell_source\":\"train_features["comment"][0]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":19}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:43:32.690Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"3ec21725acc5480d810e377218b8b82d\",\"cell_num\":6,\"cell_source\":\"train_features["comment"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:43:32.822Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"3ec21725acc5480d810e377218b8b82d\",\"cell_num\":7,\"cell_source\":\"train_features["comment"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":708}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:43:34.996Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"3ec21725acc5480d810e377218b8b82d\",\"cell_num\":6,\"cell_source\":\"train_features["comment"][1]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:43:35.133Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"3ec21725acc5480d810e377218b8b82d\",\"cell_num\":7,\"cell_source\":\"train_features["comment"][1]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":110}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:43:39.436Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"3ec21725acc5480d810e377218b8b82d\",\"cell_num\":6,\"cell_source\":\"train_features["code_line_before"][1]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:43:39.566Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"3ec21725acc5480d810e377218b8b82d\",\"cell_num\":7,\"cell_source\":\"train_features["code_line_before"][1]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":39}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:43:42.010Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"3ec21725acc5480d810e377218b8b82d\",\"cell_num\":6,\"cell_source\":\"train_features["code_line_before"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:43:42.141Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"3ec21725acc5480d810e377218b8b82d\",\"cell_num\":7,\"cell_source\":\"train_features["code_line_before"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":718}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:43:48.970Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"3ec21725acc5480d810e377218b8b82d\",\"cell_num\":6,\"cell_source\":\"train_features["code_line_before"][2]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:43:49.110Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"3ec21725acc5480d810e377218b8b82d\",\"cell_num\":7,\"cell_source\":\"train_features["code_line_before"][2]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":153}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:44:44.737Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"3ec21725acc5480d810e377218b8b82d\",\"cell_num\":7,\"cell_source\":\"max(train_features["code_line_before"].apply(len).max(),\n              validation_features["code_line_before"].apply(len).max(),\n              test_features["code_line_before"].apply(len).max())\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T14:44:44.737Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"3ec21725acc5480d810e377218b8b82d\",\"cell_num\":7,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"TypeError\\",\\"evalue\\":\\"object of type "int" has no len()\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:44:58.441Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"2331e4b09fb04096928da1082e3486a8\",\"cell_num\":5,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:44:59.741Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"2331e4b09fb04096928da1082e3486a8\",\"cell_num\":6,\"cell_source\":\"train_features["code_line_before"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:44:59.856Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"2331e4b09fb04096928da1082e3486a8\",\"cell_num\":7,\"cell_source\":\"train_features["code_line_before"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":718}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:45:10.936Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"2331e4b09fb04096928da1082e3486a8\",\"cell_num\":7,\"cell_source\":\"len(None)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T14:45:10.936Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"2331e4b09fb04096928da1082e3486a8\",\"cell_num\":7,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"TypeError\\",\\"evalue\\":\\"object of type "NoneType" has no len()\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:45:21.224Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"2331e4b09fb04096928da1082e3486a8\",\"cell_num\":7,\"cell_source\":\"None.apply(len)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T14:45:21.224Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"2331e4b09fb04096928da1082e3486a8\",\"cell_num\":7,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"AttributeError\\",\\"evalue\\":\\""NoneType" object has no attribute "apply"\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:45:47.558Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"3d04962eaf314fae989a829b1aeea70c\",\"cell_num\":6,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:47:01.870Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"3d04962eaf314fae989a829b1aeea70c\",\"cell_num\":8,\"cell_source\":\"def my_len(it):\n    if isinstance(it, list):\n        return len\n    else:\n        0\n\nmax(train_features["code_line_before"].apply(my_len).max(),\n              validation_features["code_line_before"].apply(my_len).max(),\n              test_features["code_line_before"].apply(my_len).max())\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T14:47:01.870Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"3d04962eaf314fae989a829b1aeea70c\",\"cell_num\":8,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"TypeError\\",\\"evalue\\":\\"">=" not supported between instances of "float" and "builtin_function_or_method"\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:47:17.363Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"3d04962eaf314fae989a829b1aeea70c\",\"cell_num\":7,\"cell_source\":\"def my_len(it):\n    if isinstance(it, list):\n        return len\n    else:\n        0\n\ntrain_features["code_line_before"].apply(my_len)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:47:17.492Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"3d04962eaf314fae989a829b1aeea70c\",\"cell_num\":8,\"cell_source\":\"def my_len(it):\n    if isinstance(it, list):\n        return len\n    else:\n        0\n\ntrain_features["code_line_before"].apply(my_len)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":431}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:47:32.184Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"3d04962eaf314fae989a829b1aeea70c\",\"cell_num\":7,\"cell_source\":\"def my_len(it):\n    if isinstance(it, list):\n        return len(it)\n    else:\n        0\n\nmax(train_features["code_line_before"].apply(my_len).max(),\n              validation_features["code_line_before"].apply(my_len).max(),\n              test_features["code_line_before"].apply(my_len).max())\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:47:32.309Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"3d04962eaf314fae989a829b1aeea70c\",\"cell_num\":8,\"cell_source\":\"def my_len(it):\n    if isinstance(it, list):\n        return len(it)\n    else:\n        0\n\nmax(train_features["code_line_before"].apply(my_len).max(),\n              validation_features["code_line_before"].apply(my_len).max(),\n              test_features["code_line_before"].apply(my_len).max())\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":20}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:48:03.287Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"2331e4b09fb04096928da1082e3486a8\",\"cell_num\":6,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:48:03.412Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"2331e4b09fb04096928da1082e3486a8\",\"cell_num\":7,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":10079}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:48:17.558Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"2331e4b09fb04096928da1082e3486a8\",\"cell_num\":6,\"cell_source\":\"train_features["text"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:48:17.736Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"2331e4b09fb04096928da1082e3486a8\",\"cell_num\":7,\"cell_source\":\"train_features["text"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":707}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:48:44.196Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"3d04962eaf314fae989a829b1aeea70c\",\"cell_num\":7,\"cell_source\":\"def my_len(it):\n    if isinstance(it, list):\n        return len(it)\n    else:\n        0\n\nmax(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:48:44.320Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"3d04962eaf314fae989a829b1aeea70c\",\"cell_num\":8,\"cell_source\":\"def my_len(it):\n    if isinstance(it, list):\n        return len(it)\n    else:\n        0\n\nmax(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":20}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:49:01.921Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"35f18be26d0643bb848aadb3c98ddcd1\",\"cell_num\":6,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:49:13.788Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"35f18be26d0643bb848aadb3c98ddcd1\",\"cell_num\":7,\"cell_source\":\"max(train_features["comment"].apply(my_len).max(),\n              validation_features["comment"].apply(my_len).max(),\n              test_features["comment"].apply(my_len).max())\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:49:13.902Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"35f18be26d0643bb848aadb3c98ddcd1\",\"cell_num\":8,\"cell_source\":\"max(train_features["comment"].apply(my_len).max(),\n              validation_features["comment"].apply(my_len).max(),\n              test_features["comment"].apply(my_len).max())\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":19}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:49:41.353Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"35f18be26d0643bb848aadb3c98ddcd1\",\"cell_num\":7,\"cell_source\":\"max(train_features["code_line_before"].apply(my_len).max(),\n              validation_features["code_line_before"].apply(my_len).max(),\n              test_features["code_line_before"].apply(my_len).max())\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:49:41.469Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"35f18be26d0643bb848aadb3c98ddcd1\",\"cell_num\":8,\"cell_source\":\"max(train_features["code_line_before"].apply(my_len).max(),\n              validation_features["code_line_before"].apply(my_len).max(),\n              test_features["code_line_before"].apply(my_len).max())\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":20}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:49:49.627Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"35f18be26d0643bb848aadb3c98ddcd1\",\"cell_num\":7,\"cell_source\":\"max(train_features["code_line_after"].apply(my_len).max(),\n              validation_features["code_line_after"].apply(my_len).max(),\n              test_features["code_line_after"].apply(my_len).max())\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:49:49.755Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"35f18be26d0643bb848aadb3c98ddcd1\",\"cell_num\":8,\"cell_source\":\"max(train_features["code_line_after"].apply(my_len).max(),\n              validation_features["code_line_after"].apply(my_len).max(),\n              test_features["code_line_after"].apply(my_len).max())\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":20}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:49:58.169Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"3ec21725acc5480d810e377218b8b82d\",\"cell_num\":10,\"cell_source\":\"max(train_features["markdown_heading"].apply(len).max(),\n              validation_features["markdown_heading"].apply(len).max(),\n              test_features["markdown_heading"].apply(len).max())\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T14:49:58.169Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"3ec21725acc5480d810e377218b8b82d\",\"cell_num\":10,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"TypeError\\",\\"evalue\\":\\"object of type "int" has no len()\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:50:08.285Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"35f18be26d0643bb848aadb3c98ddcd1\",\"cell_num\":7,\"cell_source\":\"max(train_features["markdown_heading"].apply(my_len).max(),\n              validation_features["markdown_heading"].apply(my_len).max(),\n              test_features["markdown_heading"].apply(my_len).max())\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:50:08.413Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"35f18be26d0643bb848aadb3c98ddcd1\",\"cell_num\":8,\"cell_source\":\"max(train_features["markdown_heading"].apply(my_len).max(),\n              validation_features["markdown_heading"].apply(my_len).max(),\n              test_features["markdown_heading"].apply(my_len).max())\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":20}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:50:10.774Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"3ec21725acc5480d810e377218b8b82d\",\"cell_num\":null,\"cell_source\":\"max(train_features["markdown_heading"].apply(len).max(),\n              validation_features["markdown_heading"].apply(len).max(),\n              test_features["markdown_heading"].apply(len).max())\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:50:17.840Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"35f18be26d0643bb848aadb3c98ddcd1\",\"cell_num\":7,\"cell_source\":\"max(train_features["packages_info"].apply(my_len).max(),\n              validation_features["packages_info"].apply(my_len).max(),\n              test_features["packages_info"].apply(my_len).max())\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:50:17.973Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"35f18be26d0643bb848aadb3c98ddcd1\",\"cell_num\":8,\"cell_source\":\"max(train_features["packages_info"].apply(my_len).max(),\n              validation_features["packages_info"].apply(my_len).max(),\n              test_features["packages_info"].apply(my_len).max())\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":19}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:51:28.616Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"35f18be26d0643bb848aadb3c98ddcd1\",\"cell_num\":7,\"cell_source\":\"max(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:51:28.777Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"35f18be26d0643bb848aadb3c98ddcd1\",\"cell_num\":8,\"cell_source\":\"max(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":20}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:51:51.630Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"2331e4b09fb04096928da1082e3486a8\",\"cell_num\":6,\"cell_source\":\"train_features["code_line_before"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:51:51.751Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"2331e4b09fb04096928da1082e3486a8\",\"cell_num\":7,\"cell_source\":\"train_features["code_line_before"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":718}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:52:00.762Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"acbffd0b48074dd982bd0d8eb49606b5\",\"cell_num\":6,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:52:16.095Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"acbffd0b48074dd982bd0d8eb49606b5\",\"cell_num\":8,\"cell_source\":\"train_features["code_line_before"].apply(lambda x: x.join())\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T14:52:16.095Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"acbffd0b48074dd982bd0d8eb49606b5\",\"cell_num\":8,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"AttributeError\\",\\"evalue\\":\\""int" object has no attribute "join"\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:52:22.101Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"a267c6b6b6d147ec9e8b9b15841b69ed\",\"cell_num\":6,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:53:40.914Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"acbffd0b48074dd982bd0d8eb49606b5\",\"cell_num\":9,\"cell_source\":\"train_features["code_line_before"].apply(my_join)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T14:53:40.914Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"acbffd0b48074dd982bd0d8eb49606b5\",\"cell_num\":9,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"NameError\\",\\"evalue\\":\\"name "my_join" is not defined\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:53:42.656Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a267c6b6b6d147ec9e8b9b15841b69ed\",\"cell_num\":7,\"cell_source\":\"def my_join(x):\n    if isinstance(it, list):\n        return "".join(x)\n    else:\n        return ""\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:53:42.748Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a267c6b6b6d147ec9e8b9b15841b69ed\",\"cell_num\":8,\"cell_source\":\"def my_join(x):\n    if isinstance(it, list):\n        return "".join(x)\n    else:\n        return ""\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:53:43.100Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"acbffd0b48074dd982bd0d8eb49606b5\",\"cell_num\":9,\"cell_source\":\"train_features["code_line_before"].apply(my_join)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T14:53:43.100Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"acbffd0b48074dd982bd0d8eb49606b5\",\"cell_num\":9,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"NameError\\",\\"evalue\\":\\"name "it" is not defined\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:53:49.240Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a267c6b6b6d147ec9e8b9b15841b69ed\",\"cell_num\":7,\"cell_source\":\"def my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:53:49.340Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a267c6b6b6d147ec9e8b9b15841b69ed\",\"cell_num\":8,\"cell_source\":\"def my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:53:49.403Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"acbffd0b48074dd982bd0d8eb49606b5\",\"cell_num\":8,\"cell_source\":\"train_features["code_line_before"].apply(my_join)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:53:49.615Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"acbffd0b48074dd982bd0d8eb49606b5\",\"cell_num\":9,\"cell_source\":\"train_features["code_line_before"].apply(my_join)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":718}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:54:30.412Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"acbffd0b48074dd982bd0d8eb49606b5\",\"cell_num\":8,\"cell_source\":\"train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:54:30.555Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"acbffd0b48074dd982bd0d8eb49606b5\",\"cell_num\":9,\"cell_source\":\"train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:54:53.080Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"35f18be26d0643bb848aadb3c98ddcd1\",\"cell_num\":null,\"cell_source\":\"max(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:56:02.416Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a267c6b6b6d147ec9e8b9b15841b69ed\",\"cell_num\":7,\"cell_source\":\"def my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\n\ndef my_len(it):\n    if isinstance(it, list):\n        return len(it)\n    else:\n        0\n\ndef create_new_text_feats(df, feature_name, max_len):\n    for i in range(max_len):\n        new_feature_name = f\\"{feature_name}_{i}\\"\n        df[new_feature_name] = df[feature_name].apply(lambda x: x[i] if len(x) > i else None)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:56:02.518Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a267c6b6b6d147ec9e8b9b15841b69ed\",\"cell_num\":8,\"cell_source\":\"def my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\n\ndef my_len(it):\n    if isinstance(it, list):\n        return len(it)\n    else:\n        0\n\ndef create_new_text_feats(df, feature_name, max_len):\n    for i in range(max_len):\n        new_feature_name = f\\"{feature_name}_{i}\\"\n        df[new_feature_name] = df[feature_name].apply(lambda x: x[i] if len(x) > i else None)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:56:04.128Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":7,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:56:50.809Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"3d04962eaf314fae989a829b1aeea70c\",\"cell_num\":10,\"cell_source\":\"max_len_text = max(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\nmax_len_comment = max(train_features["comment"].apply(my_len).max(),\n              validation_features["comment"].apply(my_len).max(),\n              test_features["comment"].apply(my_len).max())\nmax_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n              validation_features["packages_info"].apply(my_len).max(),\n              test_features["packages_info"].apply(my_len).max())\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:56:50.983Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"3d04962eaf314fae989a829b1aeea70c\",\"cell_num\":11,\"cell_source\":\"max_len_text = max(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\nmax_len_comment = max(train_features["comment"].apply(my_len).max(),\n              validation_features["comment"].apply(my_len).max(),\n              test_features["comment"].apply(my_len).max())\nmax_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n              validation_features["packages_info"].apply(my_len).max(),\n              test_features["packages_info"].apply(my_len).max())\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:56:59.542Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":9,\"cell_source\":\"create_new_features(train_features, "comment", max_len_comment)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T14:56:59.542Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":9,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"NameError\\",\\"evalue\\":\\"name "create_new_features" is not defined\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:57:01.565Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a267c6b6b6d147ec9e8b9b15841b69ed\",\"cell_num\":7,\"cell_source\":\"def my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\n\ndef my_len(it):\n    if isinstance(it, list):\n        return len(it)\n    else:\n        0\n\ndef create_new_text_feats(df, feature_name, max_len):\n    for i in range(max_len):\n        new_feature_name = f\\"{feature_name}_{i}\\"\n        df[new_feature_name] = df[feature_name].apply(lambda x: x[i] if len(x) > i else None)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:57:01.661Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a267c6b6b6d147ec9e8b9b15841b69ed\",\"cell_num\":8,\"cell_source\":\"def my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\n\ndef my_len(it):\n    if isinstance(it, list):\n        return len(it)\n    else:\n        0\n\ndef create_new_text_feats(df, feature_name, max_len):\n    for i in range(max_len):\n        new_feature_name = f\\"{feature_name}_{i}\\"\n        df[new_feature_name] = df[feature_name].apply(lambda x: x[i] if len(x) > i else None)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:57:06.686Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":8,\"cell_source\":\"create_new_text_feats(train_features, "comment", max_len_comment)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:57:06.896Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":9,\"cell_source\":\"create_new_text_feats(train_features, "comment", max_len_comment)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:57:09.678Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"a39a3f24edf941a6b527fc038350babc\",\"cell_num\":8,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:57:10.848Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a39a3f24edf941a6b527fc038350babc\",\"cell_num\":9,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:57:10.974Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a39a3f24edf941a6b527fc038350babc\",\"cell_num\":10,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":9854}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:58:20.669Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":8,\"cell_source\":\"create_new_text_feats(train_features, "comment", max_len_comment)\ncreate_new_text_feats(train_features, "text", max_len_text)\ncreate_new_text_feats(train_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:58:21.824Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":9,\"cell_source\":\"create_new_text_feats(train_features, "comment", max_len_comment)\ncreate_new_text_feats(train_features, "text", max_len_text)\ncreate_new_text_feats(train_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":53314},{\\"output_type\\":\\"stream\\",\\"size\\":33154},{\\"output_type\\":\\"stream\\",\\"size\\":43010},{\\"output_type\\":\\"stream\\",\\"size\\":43458},{\\"output_type\\":\\"stream\\",\\"size\\":19714}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:58:38.846Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a39a3f24edf941a6b527fc038350babc\",\"cell_num\":9,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:58:39.129Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a39a3f24edf941a6b527fc038350babc\",\"cell_num\":10,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":10745}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:58:49.497Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":1,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:58:50.021Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":2,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":38}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:58:55.942Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":8,\"cell_source\":\"create_new_text_feats(train_features, "comment", max_len_comment)\ncreate_new_text_feats(train_features, "text", max_len_text)\ncreate_new_text_feats(train_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:58:57.044Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":9,\"cell_source\":\"create_new_text_feats(train_features, "comment", max_len_comment)\ncreate_new_text_feats(train_features, "text", max_len_text)\ncreate_new_text_feats(train_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":58242},{\\"output_type\\":\\"stream\\",\\"size\\":49730},{\\"output_type\\":\\"stream\\",\\"size\\":47042},{\\"output_type\\":\\"stream\\",\\"size\\":35842}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:59:25.242Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":8,\"cell_source\":\"# create_new_text_feats(train_features, "comment", max_len_comment)\n# create_new_text_feats(train_features, "text", max_len_text)\n# create_new_text_feats(train_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:59:25.355Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":9,\"cell_source\":\"# create_new_text_feats(train_features, "comment", max_len_comment)\n# create_new_text_feats(train_features, "text", max_len_text)\n# create_new_text_feats(train_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:59:27.658Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a39a3f24edf941a6b527fc038350babc\",\"cell_num\":9,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:59:27.892Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a39a3f24edf941a6b527fc038350babc\",\"cell_num\":10,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":10745}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:59:32.284Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a267c6b6b6d147ec9e8b9b15841b69ed\",\"cell_num\":7,\"cell_source\":\"def my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\n\ndef my_len(it):\n    if isinstance(it, list):\n        return len(it)\n    else:\n        0\n\ndef create_new_text_feats(df, feature_name, max_len):\n    for i in range(max_len):\n        new_feature_name = f\\"{feature_name}_{i}\\"\n        df[new_feature_name] = df[feature_name].apply(lambda x: x[i] if len(x) > i else "")\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:59:32.389Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a267c6b6b6d147ec9e8b9b15841b69ed\",\"cell_num\":8,\"cell_source\":\"def my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\n\ndef my_len(it):\n    if isinstance(it, list):\n        return len(it)\n    else:\n        0\n\ndef create_new_text_feats(df, feature_name, max_len):\n    for i in range(max_len):\n        new_feature_name = f\\"{feature_name}_{i}\\"\n        df[new_feature_name] = df[feature_name].apply(lambda x: x[i] if len(x) > i else "")\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:59:35.291Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":1,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:59:35.425Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":2,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":38}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:59:42.954Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":8,\"cell_source\":\"create_new_text_feats(train_features, "comment", max_len_comment)\ncreate_new_text_feats(train_features, "text", max_len_text)\ncreate_new_text_feats(train_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:59:44.159Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":9,\"cell_source\":\"create_new_text_feats(train_features, "comment", max_len_comment)\ncreate_new_text_feats(train_features, "text", max_len_text)\ncreate_new_text_feats(train_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":43361},{\\"output_type\\":\\"stream\\",\\"size\\":37103},{\\"output_type\\":\\"stream\\",\\"size\\":38891},{\\"output_type\\":\\"stream\\",\\"size\\":44702},{\\"output_type\\":\\"stream\\",\\"size\\":26375}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:59:45.232Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":8,\"cell_source\":\"# create_new_text_feats(train_features, "comment", max_len_comment)\n# create_new_text_feats(train_features, "text", max_len_text)\n# create_new_text_feats(train_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:59:45.344Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":9,\"cell_source\":\"# create_new_text_feats(train_features, "comment", max_len_comment)\n# create_new_text_feats(train_features, "text", max_len_text)\n# create_new_text_feats(train_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:59:47.050Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a39a3f24edf941a6b527fc038350babc\",\"cell_num\":9,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T14:59:47.252Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a39a3f24edf941a6b527fc038350babc\",\"cell_num\":10,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":10345}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:00:23.452Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":1,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:00:23.738Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":2,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":38}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:00:26.561Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a267c6b6b6d147ec9e8b9b15841b69ed\",\"cell_num\":7,\"cell_source\":\"def my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\n\ndef my_len(it):\n    if isinstance(it, list):\n        return len(it)\n    else:\n        0\n\ndef create_new_text_feats(df, feature_name, max_len):\n    for i in range(max_len):\n        new_feature_name = f\\"{feature_name}_{i}\\"\n        df[new_feature_name] = df[feature_name].apply(lambda x: x[i] if len(x) > i else "")\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:00:26.692Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a267c6b6b6d147ec9e8b9b15841b69ed\",\"cell_num\":8,\"cell_source\":\"def my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\n\ndef my_len(it):\n    if isinstance(it, list):\n        return len(it)\n    else:\n        0\n\ndef create_new_text_feats(df, feature_name, max_len):\n    for i in range(max_len):\n        new_feature_name = f\\"{feature_name}_{i}\\"\n        df[new_feature_name] = df[feature_name].apply(lambda x: x[i] if len(x) > i else "")\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:00:32.113Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":8,\"cell_source\":\"train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n\n\nmax_len_text = max(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\nmax_len_comment = max(train_features["comment"].apply(my_len).max(),\n              validation_features["comment"].apply(my_len).max(),\n              test_features["comment"].apply(my_len).max())\nmax_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n              validation_features["packages_info"].apply(my_len).max(),\n              test_features["packages_info"].apply(my_len).max())\n\ncreate_new_text_feats(train_features, "comment", max_len_comment)\ncreate_new_text_feats(train_features, "text", max_len_text)\ncreate_new_text_feats(train_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:00:33.322Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":9,\"cell_source\":\"train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n\n\nmax_len_text = max(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\nmax_len_comment = max(train_features["comment"].apply(my_len).max(),\n              validation_features["comment"].apply(my_len).max(),\n              test_features["comment"].apply(my_len).max())\nmax_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n              validation_features["packages_info"].apply(my_len).max(),\n              test_features["packages_info"].apply(my_len).max())\n\ncreate_new_text_feats(train_features, "comment", max_len_comment)\ncreate_new_text_feats(train_features, "text", max_len_text)\ncreate_new_text_feats(train_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":59006},{\\"output_type\\":\\"stream\\",\\"size\\":46043},{\\"output_type\\":\\"stream\\",\\"size\\":42914},{\\"output_type\\":\\"stream\\",\\"size\\":30398},{\\"output_type\\":\\"stream\\",\\"size\\":13859}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:00:35.346Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":8,\"cell_source\":\"# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n\n\n# max_len_text = max(train_features["text"].apply(my_len).max(),\n#               validation_features["text"].apply(my_len).max(),\n#               test_features["text"].apply(my_len).max())\n# max_len_comment = max(train_features["comment"].apply(my_len).max(),\n#               validation_features["comment"].apply(my_len).max(),\n#               test_features["comment"].apply(my_len).max())\n# max_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n#               validation_features["packages_info"].apply(my_len).max(),\n#               test_features["packages_info"].apply(my_len).max())\n\n# create_new_text_feats(train_features, "comment", max_len_comment)\n# create_new_text_feats(train_features, "text", max_len_text)\n# create_new_text_feats(train_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:00:35.471Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":9,\"cell_source\":\"# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n\n\n# max_len_text = max(train_features["text"].apply(my_len).max(),\n#               validation_features["text"].apply(my_len).max(),\n#               test_features["text"].apply(my_len).max())\n# max_len_comment = max(train_features["comment"].apply(my_len).max(),\n#               validation_features["comment"].apply(my_len).max(),\n#               test_features["comment"].apply(my_len).max())\n# max_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n#               validation_features["packages_info"].apply(my_len).max(),\n#               test_features["packages_info"].apply(my_len).max())\n\n# create_new_text_feats(train_features, "comment", max_len_comment)\n# create_new_text_feats(train_features, "text", max_len_text)\n# create_new_text_feats(train_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:00:37.408Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a39a3f24edf941a6b527fc038350babc\",\"cell_num\":9,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:00:37.622Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a39a3f24edf941a6b527fc038350babc\",\"cell_num\":10,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":10345}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:00:56.804Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"acbffd0b48074dd982bd0d8eb49606b5\",\"cell_num\":null,\"cell_source\":\"train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:00:58.206Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"3d04962eaf314fae989a829b1aeea70c\",\"cell_num\":null,\"cell_source\":\"max_len_text = max(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\nmax_len_comment = max(train_features["comment"].apply(my_len).max(),\n              validation_features["comment"].apply(my_len).max(),\n              test_features["comment"].apply(my_len).max())\nmax_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n              validation_features["packages_info"].apply(my_len).max(),\n              test_features["packages_info"].apply(my_len).max())\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:00:59.905Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":9,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:01:29.444Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"1924b0d8bc7c4adc822daaca158b8053\",\"cell_num\":9,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:01:41.549Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"1924b0d8bc7c4adc822daaca158b8053\",\"cell_num\":11,\"cell_source\":\"df["cell_number"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T15:01:41.549Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"1924b0d8bc7c4adc822daaca158b8053\",\"cell_num\":11,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"NameError\\",\\"evalue\\":\\"name "df" is not defined\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:01:46.476Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"1924b0d8bc7c4adc822daaca158b8053\",\"cell_num\":10,\"cell_source\":\"train_features["cell_number"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:01:46.609Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"1924b0d8bc7c4adc822daaca158b8053\",\"cell_num\":11,\"cell_source\":\"train_features["cell_number"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":1111}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:02:25.326Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"1924b0d8bc7c4adc822daaca158b8053\",\"cell_num\":10,\"cell_source\":\"train_features["execution_count"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:02:25.463Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"1924b0d8bc7c4adc822daaca158b8053\",\"cell_num\":11,\"cell_source\":\"train_features["execution_count"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":2682}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:03:18.572Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"1924b0d8bc7c4adc822daaca158b8053\",\"cell_num\":null,\"cell_source\":\"train_features["execution_count"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:03:51.219Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":10,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count"]\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:03:51.365Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":11,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count"]\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:03:54.581Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"38f5ac1dfe3f44478d4b8da2b7fac9db\",\"cell_num\":10,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:03:55.548Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"38f5ac1dfe3f44478d4b8da2b7fac9db\",\"cell_num\":11,\"cell_source\":\"text_feats\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:03:55.710Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"38f5ac1dfe3f44478d4b8da2b7fac9db\",\"cell_num\":12,\"cell_source\":\"text_feats\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":8234}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:04:00.193Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"38f5ac1dfe3f44478d4b8da2b7fac9db\",\"cell_num\":11,\"cell_source\":\"len(text_feats)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:04:00.351Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"38f5ac1dfe3f44478d4b8da2b7fac9db\",\"cell_num\":12,\"cell_source\":\"len(text_feats)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":20}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:04:05.504Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"38f5ac1dfe3f44478d4b8da2b7fac9db\",\"cell_num\":null,\"cell_source\":\"len(text_feats)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:04:41.923Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":10,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count"]\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats]\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:04:42.041Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":11,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count"]\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats]\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:04:50.819Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":12,\"cell_source\":\"pool_train = Pool(train_features.drop(columns=["primary_label"]).values,\n                  train_features["primary_label"].values,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T15:04:50.819Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":12,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"CatBoostError\\",\\"evalue\\":\\"Invalid text_features[540] = 554 value: index must be < 554.\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:05:21.867Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"f600137f593f4832a879962533df3fc4\",\"cell_num\":9,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:05:37.493Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"f600137f593f4832a879962533df3fc4\",\"cell_num\":10,\"cell_source\":\"train_features.columns[540]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:05:37.622Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"f600137f593f4832a879962533df3fc4\",\"cell_num\":11,\"cell_source\":\"train_features.columns[540]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":35}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:05:40.139Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"ee06370032824f92b6536e1d4a6ab67e\",\"cell_num\":10,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:05:45.291Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"ee06370032824f92b6536e1d4a6ab67e\",\"cell_num\":11,\"cell_source\":\"train_features["packages_info_54"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:05:45.422Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"ee06370032824f92b6536e1d4a6ab67e\",\"cell_num\":12,\"cell_source\":\"train_features["packages_info_54"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":189}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:05:48.769Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"ee06370032824f92b6536e1d4a6ab67e\",\"cell_num\":11,\"cell_source\":\"train_features["packages_info_54"][0]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:05:48.904Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"ee06370032824f92b6536e1d4a6ab67e\",\"cell_num\":12,\"cell_source\":\"train_features["packages_info_54"][0]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":19}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:06:22.792Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"fbd40d7057174bb682994fda59d4ffdd\",\"cell_num\":12,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:06:28.286Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"fbd40d7057174bb682994fda59d4ffdd\",\"cell_num\":13,\"cell_source\":\"text_indices\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:06:28.414Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"fbd40d7057174bb682994fda59d4ffdd\",\"cell_num\":14,\"cell_source\":\"text_indices\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":3716}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:07:22.921Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":1,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:07:23.061Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":2,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":38}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:07:25.687Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a267c6b6b6d147ec9e8b9b15841b69ed\",\"cell_num\":7,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\ndef my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\n\ndef my_len(it):\n    if isinstance(it, list):\n        return len(it)\n    else:\n        0\n\ndef create_new_text_feats(df, feature_name, max_len):\n    for i in range(max_len):\n        new_feature_name = f\\"{feature_name}_{i}\\"\n        df[new_feature_name] = df[feature_name].apply(lambda x: x[i] if len(x) > i else "")\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:07:25.814Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a267c6b6b6d147ec9e8b9b15841b69ed\",\"cell_num\":8,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\ndef my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\n\ndef my_len(it):\n    if isinstance(it, list):\n        return len(it)\n    else:\n        0\n\ndef create_new_text_feats(df, feature_name, max_len):\n    for i in range(max_len):\n        new_feature_name = f\\"{feature_name}_{i}\\"\n        df[new_feature_name] = df[feature_name].apply(lambda x: x[i] if len(x) > i else "")\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:07:26.864Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":8,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n\n\ntrain_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n\n\nmax_len_text = max(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\nmax_len_comment = max(train_features["comment"].apply(my_len).max(),\n              validation_features["comment"].apply(my_len).max(),\n              test_features["comment"].apply(my_len).max())\nmax_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n              validation_features["packages_info"].apply(my_len).max(),\n              test_features["packages_info"].apply(my_len).max())\n\ncreate_new_text_feats(train_features, "comment", max_len_comment)\ncreate_new_text_feats(train_features, "text", max_len_text)\ncreate_new_text_feats(train_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:07:28.153Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":9,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n\n\ntrain_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n\n\nmax_len_text = max(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\nmax_len_comment = max(train_features["comment"].apply(my_len).max(),\n              validation_features["comment"].apply(my_len).max(),\n              test_features["comment"].apply(my_len).max())\nmax_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n              validation_features["packages_info"].apply(my_len).max(),\n              test_features["packages_info"].apply(my_len).max())\n\ncreate_new_text_feats(train_features, "comment", max_len_comment)\ncreate_new_text_feats(train_features, "text", max_len_text)\ncreate_new_text_feats(train_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":48725},{\\"output_type\\":\\"stream\\",\\"size\\":33974},{\\"output_type\\":\\"stream\\",\\"size\\":46490},{\\"output_type\\":\\"stream\\",\\"size\\":29951},{\\"output_type\\":\\"stream\\",\\"size\\":33080}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:07:30.331Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":8,\"cell_source\":\"# train_labels = train_features["primary_label"]\n# train_features = train_features.drop(columns=["primary_label"])\n\n\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n\n\n# max_len_text = max(train_features["text"].apply(my_len).max(),\n#               validation_features["text"].apply(my_len).max(),\n#               test_features["text"].apply(my_len).max())\n# max_len_comment = max(train_features["comment"].apply(my_len).max(),\n#               validation_features["comment"].apply(my_len).max(),\n#               test_features["comment"].apply(my_len).max())\n# max_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n#               validation_features["packages_info"].apply(my_len).max(),\n#               test_features["packages_info"].apply(my_len).max())\n\n# create_new_text_feats(train_features, "comment", max_len_comment)\n# create_new_text_feats(train_features, "text", max_len_text)\n# create_new_text_feats(train_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:07:30.467Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":9,\"cell_source\":\"# train_labels = train_features["primary_label"]\n# train_features = train_features.drop(columns=["primary_label"])\n\n\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n\n\n# max_len_text = max(train_features["text"].apply(my_len).max(),\n#               validation_features["text"].apply(my_len).max(),\n#               test_features["text"].apply(my_len).max())\n# max_len_comment = max(train_features["comment"].apply(my_len).max(),\n#               validation_features["comment"].apply(my_len).max(),\n#               test_features["comment"].apply(my_len).max())\n# max_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n#               validation_features["packages_info"].apply(my_len).max(),\n#               test_features["packages_info"].apply(my_len).max())\n\n# create_new_text_feats(train_features, "comment", max_len_comment)\n# create_new_text_feats(train_features, "text", max_len_text)\n# create_new_text_feats(train_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:07:32.530Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a39a3f24edf941a6b527fc038350babc\",\"cell_num\":9,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:07:32.730Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a39a3f24edf941a6b527fc038350babc\",\"cell_num\":10,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":10345}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:07:37.818Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"f600137f593f4832a879962533df3fc4\",\"cell_num\":null,\"cell_source\":\"train_features.columns[540]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:07:38.148Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"ee06370032824f92b6536e1d4a6ab67e\",\"cell_num\":null,\"cell_source\":\"train_features["packages_info_54"][0]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:07:40.965Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":10,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count"]\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats]\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:07:41.073Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":11,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count"]\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats]\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:07:42.903Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"fbd40d7057174bb682994fda59d4ffdd\",\"cell_num\":null,\"cell_source\":\"text_indices\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:07:44.348Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":12,\"cell_source\":\"pool_train = Pool(train_features.drop(columns=["primary_label"]).values,\n                  train_features["primary_label"].values,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T15:07:44.348Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":12,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"KeyError\\",\\"evalue\\":\\"\\\\"["primary_label"] not found in axis\\\\"\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:08:21.471Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":12,\"cell_source\":\"pool_train = Pool(train_features.values,\n                  train_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T15:08:21.471Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":12,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"CatBoostError\\",\\"evalue\\":\\"Invalid type for text_feature[non-default value idx=0,feature_idx=14]=0 : text_features must have string type\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:09:47.434Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":10,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count"]\ntext_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed]\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:09:47.556Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":11,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count"]\ntext_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed]\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:09:49.808Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":12,\"cell_source\":\"pool_train = Pool(train_features.values,\n                  train_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T15:09:49.808Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":12,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"CatBoostError\\",\\"evalue\\":\\"Invalid type for text_feature[non-default value idx=0,feature_idx=14]=0 : text_features must have string type\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:10:17.588Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"b0f4132efcb0422a897a0858693f7454\",\"cell_num\":10,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:10:19.320Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"b0f4132efcb0422a897a0858693f7454\",\"cell_num\":12,\"cell_source\":\"v\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T15:10:19.320Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"b0f4132efcb0422a897a0858693f7454\",\"cell_num\":12,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"NameError\\",\\"evalue\\":\\"name "v" is not defined\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:10:21.731Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"b0f4132efcb0422a897a0858693f7454\",\"cell_num\":11,\"cell_source\":\"text_feats\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:10:21.852Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"b0f4132efcb0422a897a0858693f7454\",\"cell_num\":12,\"cell_source\":\"text_feats\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":8173}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:10:26.272Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"b0f4132efcb0422a897a0858693f7454\",\"cell_num\":11,\"cell_source\":\"len(text_feats)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:10:26.397Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"b0f4132efcb0422a897a0858693f7454\",\"cell_num\":12,\"cell_source\":\"len(text_feats)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":20}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:10:53.775Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"b0f4132efcb0422a897a0858693f7454\",\"cell_num\":11,\"cell_source\":\"train_features = train_features.drop(columns=text_feats_fixed)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:10:53.912Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"b0f4132efcb0422a897a0858693f7454\",\"cell_num\":12,\"cell_source\":\"train_features = train_features.drop(columns=text_feats_fixed)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:10:56.240Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":13,\"cell_source\":\"pool_train = Pool(train_features.values,\n                  train_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T15:10:56.240Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":13,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"CatBoostError\\",\\"evalue\\":\\"Invalid text_features[534] = 551 value: index must be < 551.\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:11:14.744Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":1,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:11:14.917Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":2,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":38}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:11:19.385Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":8,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n\n\ntrain_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n\n\nmax_len_text = max(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\nmax_len_comment = max(train_features["comment"].apply(my_len).max(),\n              validation_features["comment"].apply(my_len).max(),\n              test_features["comment"].apply(my_len).max())\nmax_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n              validation_features["packages_info"].apply(my_len).max(),\n              test_features["packages_info"].apply(my_len).max())\n\ncreate_new_text_feats(train_features, "comment", max_len_comment)\ncreate_new_text_feats(train_features, "text", max_len_text)\ncreate_new_text_feats(train_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:11:20.503Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":9,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n\n\ntrain_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n\n\nmax_len_text = max(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\nmax_len_comment = max(train_features["comment"].apply(my_len).max(),\n              validation_features["comment"].apply(my_len).max(),\n              test_features["comment"].apply(my_len).max())\nmax_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n              validation_features["packages_info"].apply(my_len).max(),\n              test_features["packages_info"].apply(my_len).max())\n\ncreate_new_text_feats(train_features, "comment", max_len_comment)\ncreate_new_text_feats(train_features, "text", max_len_text)\ncreate_new_text_feats(train_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":53642},{\\"output_type\\":\\"stream\\",\\"size\\":48278},{\\"output_type\\":\\"stream\\",\\"size\\":41573},{\\"output_type\\":\\"stream\\",\\"size\\":44255},{\\"output_type\\":\\"stream\\",\\"size\\":4472}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:11:22.436Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":8,\"cell_source\":\"# train_labels = train_features["primary_label"]\n# train_features = train_features.drop(columns=["primary_label"])\n\n\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n\n\n# max_len_text = max(train_features["text"].apply(my_len).max(),\n#               validation_features["text"].apply(my_len).max(),\n#               test_features["text"].apply(my_len).max())\n# max_len_comment = max(train_features["comment"].apply(my_len).max(),\n#               validation_features["comment"].apply(my_len).max(),\n#               test_features["comment"].apply(my_len).max())\n# max_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n#               validation_features["packages_info"].apply(my_len).max(),\n#               test_features["packages_info"].apply(my_len).max())\n\n# create_new_text_feats(train_features, "comment", max_len_comment)\n# create_new_text_feats(train_features, "text", max_len_text)\n# create_new_text_feats(train_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:11:22.549Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":9,\"cell_source\":\"# train_labels = train_features["primary_label"]\n# train_features = train_features.drop(columns=["primary_label"])\n\n\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n\n\n# max_len_text = max(train_features["text"].apply(my_len).max(),\n#               validation_features["text"].apply(my_len).max(),\n#               test_features["text"].apply(my_len).max())\n# max_len_comment = max(train_features["comment"].apply(my_len).max(),\n#               validation_features["comment"].apply(my_len).max(),\n#               test_features["comment"].apply(my_len).max())\n# max_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n#               validation_features["packages_info"].apply(my_len).max(),\n#               test_features["packages_info"].apply(my_len).max())\n\n# create_new_text_feats(train_features, "comment", max_len_comment)\n# create_new_text_feats(train_features, "text", max_len_text)\n# create_new_text_feats(train_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:11:26.041Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":10,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count"]\ntext_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed]\ntrain_features = train_features.drop(columns=text_feats_fixed)\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:11:26.173Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":11,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count"]\ntext_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed]\ntrain_features = train_features.drop(columns=text_feats_fixed)\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:11:33.135Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"b0f4132efcb0422a897a0858693f7454\",\"cell_num\":null,\"cell_source\":\"train_features = train_features.drop(columns=text_feats_fixed)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:11:34.329Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":12,\"cell_source\":\"pool_train = Pool(train_features.values,\n                  train_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T15:11:34.329Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":12,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"CatBoostError\\",\\"evalue\\":\\"Invalid type for text_feature[non-default value idx=0,feature_idx=14]=0 : text_features must have string type\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:12:43.720Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"8f86d673de1543cc87b436607ba39f83\",\"cell_num\":10,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:12:45.218Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"8f86d673de1543cc87b436607ba39f83\",\"cell_num\":11,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:12:45.340Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"8f86d673de1543cc87b436607ba39f83\",\"cell_num\":12,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":10369}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:13:07.355Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"8f86d673de1543cc87b436607ba39f83\",\"cell_num\":11,\"cell_source\":\"train_features.columns[14]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:13:07.557Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"8f86d673de1543cc87b436607ba39f83\",\"cell_num\":12,\"cell_source\":\"train_features.columns[14]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":24}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:13:16.750Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"8f86d673de1543cc87b436607ba39f83\",\"cell_num\":11,\"cell_source\":\"train_features["error"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:13:16.869Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"8f86d673de1543cc87b436607ba39f83\",\"cell_num\":12,\"cell_source\":\"train_features["error"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":177}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:13:21.276Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"8f86d673de1543cc87b436607ba39f83\",\"cell_num\":11,\"cell_source\":\"train_features["error"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:13:21.406Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"8f86d673de1543cc87b436607ba39f83\",\"cell_num\":12,\"cell_source\":\"train_features["error"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":30}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:13:38.060Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":11,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\ntext_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed]\ntrain_features = train_features.drop(columns=text_feats_fixed)\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T15:13:38.060Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":11,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"KeyError\\",\\"evalue\\":\\"\\\\"["text", "comment", "packages_info"] not found in axis\\\\"\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:13:43.332Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":1,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:13:43.792Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":2,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":38}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:13:48.786Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":8,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n\n\ntrain_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n\n\nmax_len_text = max(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\nmax_len_comment = max(train_features["comment"].apply(my_len).max(),\n              validation_features["comment"].apply(my_len).max(),\n              test_features["comment"].apply(my_len).max())\nmax_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n              validation_features["packages_info"].apply(my_len).max(),\n              test_features["packages_info"].apply(my_len).max())\n\ncreate_new_text_feats(train_features, "comment", max_len_comment)\ncreate_new_text_feats(train_features, "text", max_len_text)\ncreate_new_text_feats(train_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:13:49.811Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":9,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n\n\ntrain_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n\n\nmax_len_text = max(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\nmax_len_comment = max(train_features["comment"].apply(my_len).max(),\n              validation_features["comment"].apply(my_len).max(),\n              test_features["comment"].apply(my_len).max())\nmax_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n              validation_features["packages_info"].apply(my_len).max(),\n              test_features["packages_info"].apply(my_len).max())\n\ncreate_new_text_feats(train_features, "comment", max_len_comment)\ncreate_new_text_feats(train_features, "text", max_len_text)\ncreate_new_text_feats(train_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":56324},{\\"output_type\\":\\"stream\\",\\"size\\":48278},{\\"output_type\\":\\"stream\\",\\"size\\":57218},{\\"output_type\\":\\"stream\\",\\"size\\":30398}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:13:51.853Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":8,\"cell_source\":\"# train_labels = train_features["primary_label"]\n# train_features = train_features.drop(columns=["primary_label"])\n\n\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n\n\n# max_len_text = max(train_features["text"].apply(my_len).max(),\n#               validation_features["text"].apply(my_len).max(),\n#               test_features["text"].apply(my_len).max())\n# max_len_comment = max(train_features["comment"].apply(my_len).max(),\n#               validation_features["comment"].apply(my_len).max(),\n#               test_features["comment"].apply(my_len).max())\n# max_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n#               validation_features["packages_info"].apply(my_len).max(),\n#               test_features["packages_info"].apply(my_len).max())\n\n# create_new_text_feats(train_features, "comment", max_len_comment)\n# create_new_text_feats(train_features, "text", max_len_text)\n# create_new_text_feats(train_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:13:51.965Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":9,\"cell_source\":\"# train_labels = train_features["primary_label"]\n# train_features = train_features.drop(columns=["primary_label"])\n\n\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n\n\n# max_len_text = max(train_features["text"].apply(my_len).max(),\n#               validation_features["text"].apply(my_len).max(),\n#               test_features["text"].apply(my_len).max())\n# max_len_comment = max(train_features["comment"].apply(my_len).max(),\n#               validation_features["comment"].apply(my_len).max(),\n#               test_features["comment"].apply(my_len).max())\n# max_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n#               validation_features["packages_info"].apply(my_len).max(),\n#               test_features["packages_info"].apply(my_len).max())\n\n# create_new_text_feats(train_features, "comment", max_len_comment)\n# create_new_text_feats(train_features, "text", max_len_text)\n# create_new_text_feats(train_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:13:57.381Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"a39a3f24edf941a6b527fc038350babc\",\"cell_num\":null,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:13:58.602Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":9,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\ntext_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed]\ntrain_features = train_features.drop(columns=text_feats_fixed)\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:13:58.739Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":10,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\ntext_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed]\ntrain_features = train_features.drop(columns=text_feats_fixed)\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:14:02.593Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":12,\"cell_source\":\"pool_train = Pool(train_features.values,\n                  train_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T15:14:02.593Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":12,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"CatBoostError\\",\\"evalue\\":\\"Invalid type for text_feature[non-default value idx=0,feature_idx=18]=1 : text_features must have string type\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:14:10.642Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"c5506636516240f59615893e08c7e647\",\"cell_num\":9,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:14:14.615Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"c5506636516240f59615893e08c7e647\",\"cell_num\":10,\"cell_source\":\"train_features.columns[18]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:14:14.733Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"c5506636516240f59615893e08c7e647\",\"cell_num\":11,\"cell_source\":\"train_features.columns[18]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":35}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:14:18.810Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"8f86d673de1543cc87b436607ba39f83\",\"cell_num\":11,\"cell_source\":\"train_features["helper_functions"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:14:18.942Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"8f86d673de1543cc87b436607ba39f83\",\"cell_num\":12,\"cell_source\":\"train_features["helper_functions"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":188}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:14:26.164Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"8f86d673de1543cc87b436607ba39f83\",\"cell_num\":11,\"cell_source\":\"train_features["helper_functions"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:14:26.299Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"8f86d673de1543cc87b436607ba39f83\",\"cell_num\":12,\"cell_source\":\"train_features["helper_functions"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":30}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:14:35.901Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":1,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:14:36.072Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":2,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":38}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:14:40.095Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":8,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n\n\ntrain_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n\n\nmax_len_text = max(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\nmax_len_comment = max(train_features["comment"].apply(my_len).max(),\n              validation_features["comment"].apply(my_len).max(),\n              test_features["comment"].apply(my_len).max())\nmax_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n              validation_features["packages_info"].apply(my_len).max(),\n              test_features["packages_info"].apply(my_len).max())\n\ncreate_new_text_feats(train_features, "comment", max_len_comment)\ncreate_new_text_feats(train_features, "text", max_len_text)\ncreate_new_text_feats(train_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:14:41.362Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":9,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n\n\ntrain_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n\n\nmax_len_text = max(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\nmax_len_comment = max(train_features["comment"].apply(my_len).max(),\n              validation_features["comment"].apply(my_len).max(),\n              test_features["comment"].apply(my_len).max())\nmax_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n              validation_features["packages_info"].apply(my_len).max(),\n              test_features["packages_info"].apply(my_len).max())\n\ncreate_new_text_feats(train_features, "comment", max_len_comment)\ncreate_new_text_feats(train_features, "text", max_len_text)\ncreate_new_text_feats(train_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":51407},{\\"output_type\\":\\"stream\\",\\"size\\":49172},{\\"output_type\\":\\"stream\\",\\"size\\":28610},{\\"output_type\\":\\"stream\\",\\"size\\":42020},{\\"output_type\\":\\"stream\\",\\"size\\":21011}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:14:42.931Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":8,\"cell_source\":\"# train_labels = train_features["primary_label"]\n# train_features = train_features.drop(columns=["primary_label"])\n\n\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n\n\n# max_len_text = max(train_features["text"].apply(my_len).max(),\n#               validation_features["text"].apply(my_len).max(),\n#               test_features["text"].apply(my_len).max())\n# max_len_comment = max(train_features["comment"].apply(my_len).max(),\n#               validation_features["comment"].apply(my_len).max(),\n#               test_features["comment"].apply(my_len).max())\n# max_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n#               validation_features["packages_info"].apply(my_len).max(),\n#               test_features["packages_info"].apply(my_len).max())\n\n# create_new_text_feats(train_features, "comment", max_len_comment)\n# create_new_text_feats(train_features, "text", max_len_text)\n# create_new_text_feats(train_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:14:43.049Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":9,\"cell_source\":\"# train_labels = train_features["primary_label"]\n# train_features = train_features.drop(columns=["primary_label"])\n\n\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n\n\n# max_len_text = max(train_features["text"].apply(my_len).max(),\n#               validation_features["text"].apply(my_len).max(),\n#               test_features["text"].apply(my_len).max())\n# max_len_comment = max(train_features["comment"].apply(my_len).max(),\n#               validation_features["comment"].apply(my_len).max(),\n#               test_features["comment"].apply(my_len).max())\n# max_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n#               validation_features["packages_info"].apply(my_len).max(),\n#               test_features["packages_info"].apply(my_len).max())\n\n# create_new_text_feats(train_features, "comment", max_len_comment)\n# create_new_text_feats(train_features, "text", max_len_text)\n# create_new_text_feats(train_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:14:45.105Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":9,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error", "helper_functions"]\ntext_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed]\ntrain_features = train_features.drop(columns=text_feats_fixed)\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:14:45.249Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":10,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error", "helper_functions"]\ntext_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed]\ntrain_features = train_features.drop(columns=text_feats_fixed)\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:14:47.235Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":13,\"cell_source\":\"pool_train = Pool(train_features.values,\n                  train_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T15:14:47.235Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":13,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"CatBoostError\\",\\"evalue\\":\\"Invalid type for text_feature[non-default value idx=0,feature_idx=19]=0 : text_features must have string type\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:14:53.699Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"c5506636516240f59615893e08c7e647\",\"cell_num\":10,\"cell_source\":\"train_features.columns[19]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:14:53.835Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"c5506636516240f59615893e08c7e647\",\"cell_num\":11,\"cell_source\":\"train_features.columns[19]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":28}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:14:56.278Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"8f86d673de1543cc87b436607ba39f83\",\"cell_num\":11,\"cell_source\":\"train_features["load_data"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:14:56.394Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"8f86d673de1543cc87b436607ba39f83\",\"cell_num\":12,\"cell_source\":\"train_features["load_data"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":30}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:15:28.032Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"8f86d673de1543cc87b436607ba39f83\",\"cell_num\":11,\"cell_source\":\"train_features["helper_functions"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:15:28.153Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"8f86d673de1543cc87b436607ba39f83\",\"cell_num\":12,\"cell_source\":\"train_features["helper_functions"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":30}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:15:34.932Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"8f86d673de1543cc87b436607ba39f83\",\"cell_num\":11,\"cell_source\":\"train_features["data_preprocessing"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:15:35.060Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"8f86d673de1543cc87b436607ba39f83\",\"cell_num\":12,\"cell_source\":\"train_features["data_preprocessing"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":30}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:15:44.628Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"8f86d673de1543cc87b436607ba39f83\",\"cell_num\":11,\"cell_source\":\"train_features["data_exploration"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:15:44.751Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"8f86d673de1543cc87b436607ba39f83\",\"cell_num\":12,\"cell_source\":\"train_features["data_exploration"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":30}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:15:52.707Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"8f86d673de1543cc87b436607ba39f83\",\"cell_num\":11,\"cell_source\":\"train_features["modelling"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:15:52.833Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"8f86d673de1543cc87b436607ba39f83\",\"cell_num\":12,\"cell_source\":\"train_features["modelling"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":30}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:17:08.019Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":1,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:17:08.232Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":2,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":38}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:17:10.812Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":8,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n\n\ntrain_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n\n\nmax_len_text = max(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\nmax_len_comment = max(train_features["comment"].apply(my_len).max(),\n              validation_features["comment"].apply(my_len).max(),\n              test_features["comment"].apply(my_len).max())\nmax_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n              validation_features["packages_info"].apply(my_len).max(),\n              test_features["packages_info"].apply(my_len).max())\n\ncreate_new_text_feats(train_features, "comment", max_len_comment)\ncreate_new_text_feats(train_features, "text", max_len_text)\ncreate_new_text_feats(train_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:17:12.060Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":9,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n\n\ntrain_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n\n\nmax_len_text = max(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\nmax_len_comment = max(train_features["comment"].apply(my_len).max(),\n              validation_features["comment"].apply(my_len).max(),\n              test_features["comment"].apply(my_len).max())\nmax_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n              validation_features["packages_info"].apply(my_len).max(),\n              test_features["packages_info"].apply(my_len).max())\n\ncreate_new_text_feats(train_features, "comment", max_len_comment)\ncreate_new_text_feats(train_features, "text", max_len_text)\ncreate_new_text_feats(train_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":54536},{\\"output_type\\":\\"stream\\",\\"size\\":34421},{\\"output_type\\":\\"stream\\",\\"size\\":50513},{\\"output_type\\":\\"stream\\",\\"size\\":37103},{\\"output_type\\":\\"stream\\",\\"size\\":15647}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:17:13.152Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":8,\"cell_source\":\"# train_labels = train_features["primary_label"]\n# train_features = train_features.drop(columns=["primary_label"])\n\n\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n\n\n# max_len_text = max(train_features["text"].apply(my_len).max(),\n#               validation_features["text"].apply(my_len).max(),\n#               test_features["text"].apply(my_len).max())\n# max_len_comment = max(train_features["comment"].apply(my_len).max(),\n#               validation_features["comment"].apply(my_len).max(),\n#               test_features["comment"].apply(my_len).max())\n# max_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n#               validation_features["packages_info"].apply(my_len).max(),\n#               test_features["packages_info"].apply(my_len).max())\n\n# create_new_text_feats(train_features, "comment", max_len_comment)\n# create_new_text_feats(train_features, "text", max_len_text)\n# create_new_text_feats(train_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:17:13.282Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":9,\"cell_source\":\"# train_labels = train_features["primary_label"]\n# train_features = train_features.drop(columns=["primary_label"])\n\n\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n\n\n# max_len_text = max(train_features["text"].apply(my_len).max(),\n#               validation_features["text"].apply(my_len).max(),\n#               test_features["text"].apply(my_len).max())\n# max_len_comment = max(train_features["comment"].apply(my_len).max(),\n#               validation_features["comment"].apply(my_len).max(),\n#               test_features["comment"].apply(my_len).max())\n# max_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n#               validation_features["packages_info"].apply(my_len).max(),\n#               test_features["packages_info"].apply(my_len).max())\n\n# create_new_text_feats(train_features, "comment", max_len_comment)\n# create_new_text_feats(train_features, "text", max_len_text)\n# create_new_text_feats(train_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:17:16.643Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":9,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error", "helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\ntext_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed]\ntrain_features = train_features.drop(columns=text_feats_fixed)\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:17:16.780Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":10,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error", "helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\ntext_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed]\ntrain_features = train_features.drop(columns=text_feats_fixed)\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:17:21.546Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"c5506636516240f59615893e08c7e647\",\"cell_num\":null,\"cell_source\":\"train_features.columns[19]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:17:22.074Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"8f86d673de1543cc87b436607ba39f83\",\"cell_num\":null,\"cell_source\":\"train_features["modelling"].unique()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:17:23.069Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":10,\"cell_source\":\"pool_train = Pool(train_features.values,\n                  train_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:17:23.423Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":11,\"cell_source\":\"pool_train = Pool(train_features.values,\n                  train_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:17:33.497Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"1a65eca3c00d47d38b6a673ceb80d6a4\",\"cell_num\":null,\"cell_source\":\"train_features["primary_label"].values\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:17:35.324Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"d09e7299a1214bdba0a1109b988855ad\",\"cell_num\":10,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:17:35.748Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"8bea03e09b0841229db6bc828da5b991\",\"cell_num\":11,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:17:35.920Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"ddfea19a658b449597cf9d11b9da91fc\",\"cell_num\":12,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:17:36.101Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"a7da9e38c46540b68511374d1467d680\",\"cell_num\":13,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:20:10.568Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":1,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:20:11.019Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":2,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":38}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:20:14.379Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a267c6b6b6d147ec9e8b9b15841b69ed\",\"cell_num\":7,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\ndef my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\n\ndef my_len(it):\n    if isinstance(it, list):\n        return len(it)\n    else:\n        0\n\ndef create_new_text_feats(df, feature_name, max_len):\n    for i in range(max_len):\n        new_feature_name = f\\"{feature_name}_{i}\\"\n        df[new_feature_name] = df[feature_name].apply(lambda x: x[i] if len(x) > i else "")\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:20:14.560Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a267c6b6b6d147ec9e8b9b15841b69ed\",\"cell_num\":8,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\ndef my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\n\ndef my_len(it):\n    if isinstance(it, list):\n        return len(it)\n    else:\n        0\n\ndef create_new_text_feats(df, feature_name, max_len):\n    for i in range(max_len):\n        new_feature_name = f\\"{feature_name}_{i}\\"\n        df[new_feature_name] = df[feature_name].apply(lambda x: x[i] if len(x) > i else "")\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:20:37.133Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":9,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\ntest_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\ntrain_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\ntest_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\ntest_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\ntest_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\nvalidation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\nvalidation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\nvalidation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n\n\nmax_len_text = max(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\nmax_len_comment = max(train_features["comment"].apply(my_len).max(),\n              validation_features["comment"].apply(my_len).max(),\n              test_features["comment"].apply(my_len).max())\nmax_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n              validation_features["packages_info"].apply(my_len).max(),\n              test_features["packages_info"].apply(my_len).max())\n\n\ncreate_new_text_feats(train_features, "comment", max_len_comment)\ncreate_new_text_feats(train_features, "text", max_len_text)\ncreate_new_text_feats(train_features, "packages_info", max_len_packages)\n\ncreate_new_text_feats(test_features, "comment", max_len_comment)\ncreate_new_text_feats(test_features, "text", max_len_text)\ncreate_new_text_feats(test_features, "packages_info", max_len_packages)\n\ncreate_new_text_feats(validation_features, "comment", max_len_comment)\ncreate_new_text_feats(validation_features, "text", max_len_text)\ncreate_new_text_feats(validation_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T15:20:37.133Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":9,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"KeyError\\",\\"evalue\\":\\"\\\\"["primary_label"] not found in axis\\\\"\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:20:49.754Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":8,\"cell_source\":\"# train_labels = train_features["primary_label"]\n# train_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\ntrain_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\ntest_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\ntest_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\ntest_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\nvalidation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\nvalidation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\nvalidation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n\n\nmax_len_text = max(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\nmax_len_comment = max(train_features["comment"].apply(my_len).max(),\n              validation_features["comment"].apply(my_len).max(),\n              test_features["comment"].apply(my_len).max())\nmax_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n              validation_features["packages_info"].apply(my_len).max(),\n              test_features["packages_info"].apply(my_len).max())\n\n\ncreate_new_text_feats(train_features, "comment", max_len_comment)\ncreate_new_text_feats(train_features, "text", max_len_text)\ncreate_new_text_feats(train_features, "packages_info", max_len_packages)\n\ncreate_new_text_feats(test_features, "comment", max_len_comment)\ncreate_new_text_feats(test_features, "text", max_len_text)\ncreate_new_text_feats(test_features, "packages_info", max_len_packages)\n\ncreate_new_text_feats(validation_features, "comment", max_len_comment)\ncreate_new_text_feats(validation_features, "text", max_len_text)\ncreate_new_text_feats(validation_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:20:52.417Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":8,\"cell_source\":\"# train_labels = train_features["primary_label"]\n# train_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\ntrain_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\ntest_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\ntest_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\ntest_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\nvalidation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\nvalidation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\nvalidation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n\n\nmax_len_text = max(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\nmax_len_comment = max(train_features["comment"].apply(my_len).max(),\n              validation_features["comment"].apply(my_len).max(),\n              test_features["comment"].apply(my_len).max())\nmax_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n              validation_features["packages_info"].apply(my_len).max(),\n              test_features["packages_info"].apply(my_len).max())\n\n\ncreate_new_text_feats(train_features, "comment", max_len_comment)\ncreate_new_text_feats(train_features, "text", max_len_text)\ncreate_new_text_feats(train_features, "packages_info", max_len_packages)\n\ncreate_new_text_feats(test_features, "comment", max_len_comment)\ncreate_new_text_feats(test_features, "text", max_len_text)\ncreate_new_text_feats(test_features, "packages_info", max_len_packages)\n\ncreate_new_text_feats(validation_features, "comment", max_len_comment)\ncreate_new_text_feats(validation_features, "text", max_len_text)\ncreate_new_text_feats(validation_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":56324},{\\"output_type\\":\\"stream\\",\\"size\\":36656},{\\"output_type\\":\\"stream\\",\\"size\\":27269},{\\"output_type\\":\\"stream\\",\\"size\\":41573},{\\"output_type\\":\\"stream\\",\\"size\\":24140},{\\"output_type\\":\\"stream\\",\\"size\\":45149},{\\"output_type\\":\\"stream\\",\\"size\\":80462},{\\"output_type\\":\\"stream\\",\\"size\\":72863},{\\"output_type\\":\\"stream\\",\\"size\\":62582},{\\"output_type\\":\\"stream\\",\\"size\\":87614},{\\"output_type\\":\\"stream\\",\\"size\\":42020}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:20:59.286Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":8,\"cell_source\":\"# train_labels = train_features["primary_label"]\n# train_features = train_features.drop(columns=["primary_label"])\n# # test_labels = test_features["primary_label"]\n# # test_features = test_features.drop(columns=["primary_label"])\n# validation_labels = validation_features["primary_label"]\n# validation_features = validation_features.drop(columns=["primary_label"])\n\n\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n# test_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\n# test_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\n# test_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\n# validation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\n# validation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\n# validation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n\n\n# max_len_text = max(train_features["text"].apply(my_len).max(),\n#               validation_features["text"].apply(my_len).max(),\n#               test_features["text"].apply(my_len).max())\n# max_len_comment = max(train_features["comment"].apply(my_len).max(),\n#               validation_features["comment"].apply(my_len).max(),\n#               test_features["comment"].apply(my_len).max())\n# max_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n#               validation_features["packages_info"].apply(my_len).max(),\n#               test_features["packages_info"].apply(my_len).max())\n\n\n# create_new_text_feats(train_features, "comment", max_len_comment)\n# create_new_text_feats(train_features, "text", max_len_text)\n# create_new_text_feats(train_features, "packages_info", max_len_packages)\n\n# create_new_text_feats(test_features, "comment", max_len_comment)\n# create_new_text_feats(test_features, "text", max_len_text)\n# create_new_text_feats(test_features, "packages_info", max_len_packages)\n\n# create_new_text_feats(validation_features, "comment", max_len_comment)\n# create_new_text_feats(validation_features, "text", max_len_text)\n# create_new_text_feats(validation_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:20:59.437Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":9,\"cell_source\":\"# train_labels = train_features["primary_label"]\n# train_features = train_features.drop(columns=["primary_label"])\n# # test_labels = test_features["primary_label"]\n# # test_features = test_features.drop(columns=["primary_label"])\n# validation_labels = validation_features["primary_label"]\n# validation_features = validation_features.drop(columns=["primary_label"])\n\n\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n# test_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\n# test_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\n# test_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\n# validation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\n# validation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\n# validation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n\n\n# max_len_text = max(train_features["text"].apply(my_len).max(),\n#               validation_features["text"].apply(my_len).max(),\n#               test_features["text"].apply(my_len).max())\n# max_len_comment = max(train_features["comment"].apply(my_len).max(),\n#               validation_features["comment"].apply(my_len).max(),\n#               test_features["comment"].apply(my_len).max())\n# max_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n#               validation_features["packages_info"].apply(my_len).max(),\n#               test_features["packages_info"].apply(my_len).max())\n\n\n# create_new_text_feats(train_features, "comment", max_len_comment)\n# create_new_text_feats(train_features, "text", max_len_text)\n# create_new_text_feats(train_features, "packages_info", max_len_packages)\n\n# create_new_text_feats(test_features, "comment", max_len_comment)\n# create_new_text_feats(test_features, "text", max_len_text)\n# create_new_text_feats(test_features, "packages_info", max_len_packages)\n\n# create_new_text_feats(validation_features, "comment", max_len_comment)\n# create_new_text_feats(validation_features, "text", max_len_text)\n# create_new_text_feats(validation_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:21:26.046Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":9,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error", "helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\ntext_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed]\n\ntrain_features = train_features.drop(columns=text_feats_fixed)\nvalidation_features = validation_features.drop(columns=text_feats_fixed)\n\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:21:26.222Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":10,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error", "helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\ntext_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed]\n\ntrain_features = train_features.drop(columns=text_feats_fixed)\nvalidation_features = validation_features.drop(columns=text_feats_fixed)\n\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:21:27.690Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":10,\"cell_source\":\"pool_train = Pool(train_features.values,\n                  train_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:21:28.071Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":11,\"cell_source\":\"pool_train = Pool(train_features.values,\n                  train_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:21:53.559Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"d09e7299a1214bdba0a1109b988855ad\",\"cell_num\":12,\"cell_source\":\"pool_test = Pool(test_features.values,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T15:21:53.559Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"d09e7299a1214bdba0a1109b988855ad\",\"cell_num\":12,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"CatBoostError\\",\\"evalue\\":\\"Invalid text_features[519] = 544 value: index must be < 544.\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:22:08.251Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"7a95004409db49518b3021f42dec23e2\",\"cell_num\":10,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:22:17.395Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"7a95004409db49518b3021f42dec23e2\",\"cell_num\":11,\"cell_source\":\"pool_train = Pool(validation_features.values,\n                  validation_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:22:17.570Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"7a95004409db49518b3021f42dec23e2\",\"cell_num\":12,\"cell_source\":\"pool_train = Pool(validation_features.values,\n                  validation_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:23:00.577Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"f9d5a9d379804cf180e34a2de24259f5\",\"cell_num\":9,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:23:07.596Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"f9d5a9d379804cf180e34a2de24259f5\",\"cell_num\":10,\"cell_source\":\"train_features.shape, test_features.shape\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:23:07.729Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"f9d5a9d379804cf180e34a2de24259f5\",\"cell_num\":11,\"cell_source\":\"train_features.shape, test_features.shape\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":43}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:23:17.124Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"f9d5a9d379804cf180e34a2de24259f5\",\"cell_num\":10,\"cell_source\":\"train_features.shape, validation_features.shape\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:23:17.270Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"f9d5a9d379804cf180e34a2de24259f5\",\"cell_num\":11,\"cell_source\":\"train_features.shape, validation_features.shape\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":43}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:23:24.263Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"f9d5a9d379804cf180e34a2de24259f5\",\"cell_num\":10,\"cell_source\":\"train_features.shape, validation_features.shape, test_features.shape\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:23:24.410Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"f9d5a9d379804cf180e34a2de24259f5\",\"cell_num\":11,\"cell_source\":\"train_features.shape, validation_features.shape, test_features.shape\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":56}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:23:41.171Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"635be58b229f490996a12951471a2c01\",\"cell_num\":9,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:24:06.071Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"635be58b229f490996a12951471a2c01\",\"cell_num\":10,\"cell_source\":\"set(train_features).difference(set(test_features))\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:24:06.214Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"635be58b229f490996a12951471a2c01\",\"cell_num\":11,\"cell_source\":\"set(train_features).difference(set(test_features))\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":207}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:24:48.308Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"22c2ea1973414883b3bc399acbc523aa\",\"cell_num\":9,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:24:54.536Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"22c2ea1973414883b3bc399acbc523aa\",\"cell_num\":10,\"cell_source\":\"train_labels\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:24:54.652Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"22c2ea1973414883b3bc399acbc523aa\",\"cell_num\":11,\"cell_source\":\"train_labels\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":373}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:26:06.350Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":1,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:26:06.518Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":2,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":38}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:26:09.765Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a267c6b6b6d147ec9e8b9b15841b69ed\",\"cell_num\":7,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\ndef my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\n\ndef my_len(it):\n    if isinstance(it, list):\n        return len(it)\n    else:\n        0\n\ndef create_new_text_feats(df, feature_name, max_len):\n    for i in range(max_len):\n        new_feature_name = f\\"{feature_name}_{i}\\"\n        df[new_feature_name] = df[feature_name].apply(lambda x: x[i] if len(x) > i else "")\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:26:09.954Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a267c6b6b6d147ec9e8b9b15841b69ed\",\"cell_num\":8,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\ndef my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\n\ndef my_len(it):\n    if isinstance(it, list):\n        return len(it)\n    else:\n        0\n\ndef create_new_text_feats(df, feature_name, max_len):\n    for i in range(max_len):\n        new_feature_name = f\\"{feature_name}_{i}\\"\n        df[new_feature_name] = df[feature_name].apply(lambda x: x[i] if len(x) > i else "")\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:26:11.236Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":8,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\ntrain_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\ntest_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\ntest_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\ntest_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\nvalidation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\nvalidation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\nvalidation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n\n\nmax_len_text = max(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\nmax_len_comment = max(train_features["comment"].apply(my_len).max(),\n              validation_features["comment"].apply(my_len).max(),\n              test_features["comment"].apply(my_len).max())\nmax_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n              validation_features["packages_info"].apply(my_len).max(),\n              test_features["packages_info"].apply(my_len).max())\n\n\ncreate_new_text_feats(train_features, "comment", max_len_comment)\ncreate_new_text_feats(train_features, "text", max_len_text)\ncreate_new_text_feats(train_features, "packages_info", max_len_packages)\n\ncreate_new_text_feats(test_features, "comment", max_len_comment)\ncreate_new_text_feats(test_features, "text", max_len_text)\ncreate_new_text_feats(test_features, "packages_info", max_len_packages)\n\ncreate_new_text_feats(validation_features, "comment", max_len_comment)\ncreate_new_text_feats(validation_features, "text", max_len_text)\ncreate_new_text_feats(validation_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:26:13.742Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":9,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\ntrain_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\ntest_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\ntest_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\ntest_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\nvalidation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\nvalidation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\nvalidation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n\n\nmax_len_text = max(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\nmax_len_comment = max(train_features["comment"].apply(my_len).max(),\n              validation_features["comment"].apply(my_len).max(),\n              test_features["comment"].apply(my_len).max())\nmax_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n              validation_features["packages_info"].apply(my_len).max(),\n              test_features["packages_info"].apply(my_len).max())\n\n\ncreate_new_text_feats(train_features, "comment", max_len_comment)\ncreate_new_text_feats(train_features, "text", max_len_text)\ncreate_new_text_feats(train_features, "packages_info", max_len_packages)\n\ncreate_new_text_feats(test_features, "comment", max_len_comment)\ncreate_new_text_feats(test_features, "text", max_len_text)\ncreate_new_text_feats(test_features, "packages_info", max_len_packages)\n\ncreate_new_text_feats(validation_features, "comment", max_len_comment)\ncreate_new_text_feats(validation_features, "text", max_len_text)\ncreate_new_text_feats(validation_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":61241},{\\"output_type\\":\\"stream\\",\\"size\\":43808},{\\"output_type\\":\\"stream\\",\\"size\\":45596},{\\"output_type\\":\\"stream\\",\\"size\\":39785},{\\"output_type\\":\\"stream\\",\\"size\\":45596},{\\"output_type\\":\\"stream\\",\\"size\\":100577},{\\"output_type\\":\\"stream\\",\\"size\\":47831},{\\"output_type\\":\\"stream\\",\\"size\\":89849},{\\"output_type\\":\\"stream\\",\\"size\\":90296},{\\"output_type\\":\\"stream\\",\\"size\\":12071}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:26:15.499Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":8,\"cell_source\":\"# train_labels = train_features["primary_label"]\n# train_features = train_features.drop(columns=["primary_label"])\n# # test_labels = test_features["primary_label"]\n# # test_features = test_features.drop(columns=["primary_label"])\n# validation_labels = validation_features["primary_label"]\n# validation_features = validation_features.drop(columns=["primary_label"])\n\n\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n# test_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\n# test_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\n# test_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\n# validation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\n# validation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\n# validation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n\n\n# max_len_text = max(train_features["text"].apply(my_len).max(),\n#               validation_features["text"].apply(my_len).max(),\n#               test_features["text"].apply(my_len).max())\n# max_len_comment = max(train_features["comment"].apply(my_len).max(),\n#               validation_features["comment"].apply(my_len).max(),\n#               test_features["comment"].apply(my_len).max())\n# max_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n#               validation_features["packages_info"].apply(my_len).max(),\n#               test_features["packages_info"].apply(my_len).max())\n\n\n# create_new_text_feats(train_features, "comment", max_len_comment)\n# create_new_text_feats(train_features, "text", max_len_text)\n# create_new_text_feats(train_features, "packages_info", max_len_packages)\n\n# create_new_text_feats(test_features, "comment", max_len_comment)\n# create_new_text_feats(test_features, "text", max_len_text)\n# create_new_text_feats(test_features, "packages_info", max_len_packages)\n\n# create_new_text_feats(validation_features, "comment", max_len_comment)\n# create_new_text_feats(validation_features, "text", max_len_text)\n# create_new_text_feats(validation_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:26:15.672Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":9,\"cell_source\":\"# train_labels = train_features["primary_label"]\n# train_features = train_features.drop(columns=["primary_label"])\n# # test_labels = test_features["primary_label"]\n# # test_features = test_features.drop(columns=["primary_label"])\n# validation_labels = validation_features["primary_label"]\n# validation_features = validation_features.drop(columns=["primary_label"])\n\n\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n# test_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\n# test_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\n# test_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\n# validation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\n# validation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\n# validation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n\n\n# max_len_text = max(train_features["text"].apply(my_len).max(),\n#               validation_features["text"].apply(my_len).max(),\n#               test_features["text"].apply(my_len).max())\n# max_len_comment = max(train_features["comment"].apply(my_len).max(),\n#               validation_features["comment"].apply(my_len).max(),\n#               test_features["comment"].apply(my_len).max())\n# max_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n#               validation_features["packages_info"].apply(my_len).max(),\n#               test_features["packages_info"].apply(my_len).max())\n\n\n# create_new_text_feats(train_features, "comment", max_len_comment)\n# create_new_text_feats(train_features, "text", max_len_text)\n# create_new_text_feats(train_features, "packages_info", max_len_packages)\n\n# create_new_text_feats(test_features, "comment", max_len_comment)\n# create_new_text_feats(test_features, "text", max_len_text)\n# create_new_text_feats(test_features, "packages_info", max_len_packages)\n\n# create_new_text_feats(validation_features, "comment", max_len_comment)\n# create_new_text_feats(validation_features, "text", max_len_text)\n# create_new_text_feats(validation_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:26:19.801Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":10,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\ntext_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed and not in primary_labels]\n\ntrain_features = train_features.drop(columns=text_feats_fixed)\nvalidation_features = validation_features.drop(columns=text_feats_fixed)\n\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T15:26:19.801Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":10,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"SyntaxError\\",\\"evalue\\":\\"invalid syntax (4270206597.py, line 10)\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:26:30.837Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":9,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\ntext_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\ntrain_features = train_features.drop(columns=text_feats_fixed)\nvalidation_features = validation_features.drop(columns=text_feats_fixed)\n\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:26:31.018Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":10,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\ntext_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\ntrain_features = train_features.drop(columns=text_feats_fixed)\nvalidation_features = validation_features.drop(columns=text_feats_fixed)\n\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:26:33.910Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"22c2ea1973414883b3bc399acbc523aa\",\"cell_num\":null,\"cell_source\":\"train_labels\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:26:35.172Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"635be58b229f490996a12951471a2c01\",\"cell_num\":10,\"cell_source\":\"set(train_features).difference(set(test_features))\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:26:35.320Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"635be58b229f490996a12951471a2c01\",\"cell_num\":11,\"cell_source\":\"set(train_features).difference(set(test_features))\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":207}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:26:47.324Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"16c659a6658b4200b237a0742bae7855\",\"cell_num\":9,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:27:06.079Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"16c659a6658b4200b237a0742bae7855\",\"cell_num\":10,\"cell_source\":\"[1, 2] + ["3"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:27:06.197Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"16c659a6658b4200b237a0742bae7855\",\"cell_num\":11,\"cell_source\":\"[1, 2] + ["3"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":28}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:27:22.466Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":1,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:27:22.626Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":2,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":38}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:27:26.627Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":8,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\ntrain_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\ntest_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\ntest_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\ntest_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\nvalidation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\nvalidation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\nvalidation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n\n\nmax_len_text = max(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\nmax_len_comment = max(train_features["comment"].apply(my_len).max(),\n              validation_features["comment"].apply(my_len).max(),\n              test_features["comment"].apply(my_len).max())\nmax_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n              validation_features["packages_info"].apply(my_len).max(),\n              test_features["packages_info"].apply(my_len).max())\n\n\ncreate_new_text_feats(train_features, "comment", max_len_comment)\ncreate_new_text_feats(train_features, "text", max_len_text)\ncreate_new_text_feats(train_features, "packages_info", max_len_packages)\n\ncreate_new_text_feats(test_features, "comment", max_len_comment)\ncreate_new_text_feats(test_features, "text", max_len_text)\ncreate_new_text_feats(test_features, "packages_info", max_len_packages)\n\ncreate_new_text_feats(validation_features, "comment", max_len_comment)\ncreate_new_text_feats(validation_features, "text", max_len_text)\ncreate_new_text_feats(validation_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:27:29.506Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":9,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\ntrain_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\ntest_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\ntest_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\ntest_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\nvalidation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\nvalidation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\nvalidation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n\n\nmax_len_text = max(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\nmax_len_comment = max(train_features["comment"].apply(my_len).max(),\n              validation_features["comment"].apply(my_len).max(),\n              test_features["comment"].apply(my_len).max())\nmax_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n              validation_features["packages_info"].apply(my_len).max(),\n              test_features["packages_info"].apply(my_len).max())\n\n\ncreate_new_text_feats(train_features, "comment", max_len_comment)\ncreate_new_text_feats(train_features, "text", max_len_text)\ncreate_new_text_feats(train_features, "packages_info", max_len_packages)\n\ncreate_new_text_feats(test_features, "comment", max_len_comment)\ncreate_new_text_feats(test_features, "text", max_len_text)\ncreate_new_text_feats(test_features, "packages_info", max_len_packages)\n\ncreate_new_text_feats(validation_features, "comment", max_len_comment)\ncreate_new_text_feats(validation_features, "text", max_len_text)\ncreate_new_text_feats(validation_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":45149},{\\"output_type\\":\\"stream\\",\\"size\\":36209},{\\"output_type\\":\\"stream\\",\\"size\\":29504},{\\"output_type\\":\\"stream\\",\\"size\\":35315},{\\"output_type\\":\\"stream\\",\\"size\\":33080},{\\"output_type\\":\\"stream\\",\\"size\\":14753},{\\"output_type\\":\\"stream\\",\\"size\\":83591},{\\"output_type\\":\\"stream\\",\\"size\\":44702},{\\"output_type\\":\\"stream\\",\\"size\\":62135},{\\"output_type\\":\\"stream\\",\\"size\\":92084},{\\"output_type\\":\\"stream\\",\\"size\\":80909},{\\"output_type\\":\\"stream\\",\\"size\\":19223}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:27:30.618Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":8,\"cell_source\":\"# train_labels = train_features["primary_label"]\n# train_features = train_features.drop(columns=["primary_label"])\n# # test_labels = test_features["primary_label"]\n# # test_features = test_features.drop(columns=["primary_label"])\n# validation_labels = validation_features["primary_label"]\n# validation_features = validation_features.drop(columns=["primary_label"])\n\n\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n# test_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\n# test_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\n# test_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\n# validation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\n# validation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\n# validation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n\n\n# max_len_text = max(train_features["text"].apply(my_len).max(),\n#               validation_features["text"].apply(my_len).max(),\n#               test_features["text"].apply(my_len).max())\n# max_len_comment = max(train_features["comment"].apply(my_len).max(),\n#               validation_features["comment"].apply(my_len).max(),\n#               test_features["comment"].apply(my_len).max())\n# max_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n#               validation_features["packages_info"].apply(my_len).max(),\n#               test_features["packages_info"].apply(my_len).max())\n\n\n# create_new_text_feats(train_features, "comment", max_len_comment)\n# create_new_text_feats(train_features, "text", max_len_text)\n# create_new_text_feats(train_features, "packages_info", max_len_packages)\n\n# create_new_text_feats(test_features, "comment", max_len_comment)\n# create_new_text_feats(test_features, "text", max_len_text)\n# create_new_text_feats(test_features, "packages_info", max_len_packages)\n\n# create_new_text_feats(validation_features, "comment", max_len_comment)\n# create_new_text_feats(validation_features, "text", max_len_text)\n# create_new_text_feats(validation_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:27:30.790Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":9,\"cell_source\":\"# train_labels = train_features["primary_label"]\n# train_features = train_features.drop(columns=["primary_label"])\n# # test_labels = test_features["primary_label"]\n# # test_features = test_features.drop(columns=["primary_label"])\n# validation_labels = validation_features["primary_label"]\n# validation_features = validation_features.drop(columns=["primary_label"])\n\n\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n# test_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\n# test_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\n# test_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\n# validation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\n# validation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\n# validation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n\n\n# max_len_text = max(train_features["text"].apply(my_len).max(),\n#               validation_features["text"].apply(my_len).max(),\n#               test_features["text"].apply(my_len).max())\n# max_len_comment = max(train_features["comment"].apply(my_len).max(),\n#               validation_features["comment"].apply(my_len).max(),\n#               test_features["comment"].apply(my_len).max())\n# max_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n#               validation_features["packages_info"].apply(my_len).max(),\n#               test_features["packages_info"].apply(my_len).max())\n\n\n# create_new_text_feats(train_features, "comment", max_len_comment)\n# create_new_text_feats(train_features, "text", max_len_text)\n# create_new_text_feats(train_features, "packages_info", max_len_packages)\n\n# create_new_text_feats(test_features, "comment", max_len_comment)\n# create_new_text_feats(test_features, "text", max_len_text)\n# create_new_text_feats(test_features, "packages_info", max_len_packages)\n\n# create_new_text_feats(validation_features, "comment", max_len_comment)\n# create_new_text_feats(validation_features, "text", max_len_text)\n# create_new_text_feats(validation_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:27:34.498Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":9,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\ntext_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\ntrain_features = train_features.drop(columns=text_feats_fixed+primary_labels)\nvalidation_features = validation_features.drop(columns=text_feats_fixed+primary_labels)\n\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:27:34.671Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":10,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\ntext_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\ntrain_features = train_features.drop(columns=text_feats_fixed+primary_labels)\nvalidation_features = validation_features.drop(columns=text_feats_fixed+primary_labels)\n\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:27:37.290Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"16c659a6658b4200b237a0742bae7855\",\"cell_num\":null,\"cell_source\":\"[1, 2] + ["3"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:27:38.444Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"635be58b229f490996a12951471a2c01\",\"cell_num\":10,\"cell_source\":\"set(train_features).difference(set(test_features))\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:27:38.591Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"635be58b229f490996a12951471a2c01\",\"cell_num\":11,\"cell_source\":\"set(train_features).difference(set(test_features))\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":22}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:27:40.268Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"635be58b229f490996a12951471a2c01\",\"cell_num\":null,\"cell_source\":\"set(train_features).difference(set(test_features))\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:27:41.871Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"f9d5a9d379804cf180e34a2de24259f5\",\"cell_num\":10,\"cell_source\":\"train_features.shape, validation_features.shape, test_features.shape\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:27:42.010Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"f9d5a9d379804cf180e34a2de24259f5\",\"cell_num\":11,\"cell_source\":\"train_features.shape, validation_features.shape, test_features.shape\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":56}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:27:55.345Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"6ab78ea124bf4bc68b333e25a1fc12fb\",\"cell_num\":9,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:28:07.487Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"6ab78ea124bf4bc68b333e25a1fc12fb\",\"cell_num\":10,\"cell_source\":\"set(test_features).difference(set(train_features))\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:28:07.628Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6ab78ea124bf4bc68b333e25a1fc12fb\",\"cell_num\":11,\"cell_source\":\"set(test_features).difference(set(train_features))\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":53}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:28:33.250Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"6ab78ea124bf4bc68b333e25a1fc12fb\",\"cell_num\":10,\"cell_source\":\"test_features = test_features.drop(columns=text_feats_fixed)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:28:33.420Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6ab78ea124bf4bc68b333e25a1fc12fb\",\"cell_num\":11,\"cell_source\":\"test_features = test_features.drop(columns=text_feats_fixed)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:28:36.509Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"6ab78ea124bf4bc68b333e25a1fc12fb\",\"cell_num\":null,\"cell_source\":\"test_features = test_features.drop(columns=text_feats_fixed)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:28:38.203Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"f9d5a9d379804cf180e34a2de24259f5\",\"cell_num\":10,\"cell_source\":\"train_features.shape, validation_features.shape, test_features.shape\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:28:38.346Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"f9d5a9d379804cf180e34a2de24259f5\",\"cell_num\":11,\"cell_source\":\"train_features.shape, validation_features.shape, test_features.shape\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":56}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:28:40.058Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"f9d5a9d379804cf180e34a2de24259f5\",\"cell_num\":null,\"cell_source\":\"train_features.shape, validation_features.shape, test_features.shape\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:28:41.112Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":10,\"cell_source\":\"pool_train = Pool(train_features.values,\n                  train_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:28:41.427Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":11,\"cell_source\":\"pool_train = Pool(train_features.values,\n                  train_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:28:41.563Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"7a95004409db49518b3021f42dec23e2\",\"cell_num\":11,\"cell_source\":\"pool_train = Pool(validation_features.values,\n                  validation_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:28:41.886Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"7a95004409db49518b3021f42dec23e2\",\"cell_num\":12,\"cell_source\":\"pool_train = Pool(validation_features.values,\n                  validation_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:28:42.313Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"d09e7299a1214bdba0a1109b988855ad\",\"cell_num\":12,\"cell_source\":\"pool_test = Pool(test_features.values,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:28:42.470Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"d09e7299a1214bdba0a1109b988855ad\",\"cell_num\":13,\"cell_source\":\"pool_test = Pool(test_features.values,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:28:50.897Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"7a95004409db49518b3021f42dec23e2\",\"cell_num\":null,\"cell_source\":\"pool_train = Pool(validation_features.values,\n                  validation_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:28:51.436Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"d09e7299a1214bdba0a1109b988855ad\",\"cell_num\":null,\"cell_source\":\"pool_test = Pool(test_features.values,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:28:54.155Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"8bea03e09b0841229db6bc828da5b991\",\"cell_num\":null,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:28:55.016Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"ddfea19a658b449597cf9d11b9da91fc\",\"cell_num\":null,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:28:55.712Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"a7da9e38c46540b68511374d1467d680\",\"cell_num\":null,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:29:00.982Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"2b13537bdd3c4b188d851b5342594a56\",\"cell_num\":null,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\ncategorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\ntext_feats = ["text", "comment", "code_line_before", "code_line_after", \n              "markdown_heading", "packages_info"]\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\n\ntrain_pool_feats = train_features.loc[:, train_features.columns != "primary_label"].to_dict("records")\nval_pool_feats = validation_features.loc[:, validation_features.columns != "primary_label"].to_dict("records")\ntest_pool_feats = test_features.loc[:, test_features.columns != "primary_label"].to_dict("records")\ntrain_pool_labels = train_features["primary_label"].values\nval_pool_labels = validation_features["primary_label"].values\n# test_pool_labels = test_features["primary_label"].values\n\ntrain_features_dict = train_features.to_dict("records")\nvalidation_features_dict = validation_features.to_dict("records")\ntest_features_dict = test_features.to_dict("records")\n\ntrain_pool = Pool(train_pool_feats,\n                  train_pool_labels, cat_features=categorical_indices,\n                 text_features=text_indices)\nval_pool = Pool(val_pool_feats,\n                  val_pool_labels, cat_features=categorical_indices,\n                 text_features=text_indices)\ntest_pool = Pool(test_pool_feats, cat_features=categorical_indices,\n                 text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:30:31.410Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":10,\"cell_source\":\"pool_train = Pool(train_features.values,\n                  train_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_val = Pool(validation_features.values,\n                  validation_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_test = Pool(test_features.values,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:30:31.897Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":11,\"cell_source\":\"pool_train = Pool(train_features.values,\n                  train_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_val = Pool(validation_features.values,\n                  validation_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_test = Pool(test_features.values,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:30:36.036Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"cfe11c1a3ef5442086eef92a877d4a92\",\"cell_num\":12,\"cell_source\":\"catboost_clf = CatBoostClassifier(random_seed=3407, iterations=1000,\n                                 loss_function="MultiClass", custom_metric=["F1"])\n\ncatboost_clf_opt.fit(\n    pool_train,\n    eval_set=pool_val,\n    verbose=False\n)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T15:30:36.036Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"cfe11c1a3ef5442086eef92a877d4a92\",\"cell_num\":12,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"NameError\\",\\"evalue\\":\\"name "catboost_clf_opt" is not defined\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:30:56.105Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"cfe11c1a3ef5442086eef92a877d4a92\",\"cell_num\":12,\"cell_source\":\"catboost_clf = CatBoostClassifier(random_seed=3407, iterations=1000,\n                                 loss_function="MultiClass", custom_metric=["F1"])\n\ncatboost_clf.fit(\n    pool_train,\n    eval_set=pool_val\n)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T15:30:56.105Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"cfe11c1a3ef5442086eef92a877d4a92\",\"cell_num\":12,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"CatBoostError\\",\\"evalue\\":\\"catboost/private/libs/feature_estimator/text_feature_estimators.cpp:89: Dictionary size is 0, check out data or try to decrease occurrence_lower_bound parameter\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:34:14.161Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":1,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:34:14.992Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":2,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":38}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:34:29.022Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a267c6b6b6d147ec9e8b9b15841b69ed\",\"cell_num\":7,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\ndef my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return "SPECIALWORDFORSLAVA"\n\ndef my_len(it):\n    if isinstance(it, list):\n        return len(it)\n    else:\n        0\n\ndef create_new_text_feats(df, feature_name, max_len):\n    for i in range(max_len):\n        new_feature_name = f\\"{feature_name}_{i}\\"\n        df[new_feature_name] = df[feature_name].apply(lambda x: x[i] if len(x) > i else "SPECIALWORDFORSLAVA")\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:34:29.181Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a267c6b6b6d147ec9e8b9b15841b69ed\",\"cell_num\":8,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\ndef my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return "SPECIALWORDFORSLAVA"\n\ndef my_len(it):\n    if isinstance(it, list):\n        return len(it)\n    else:\n        0\n\ndef create_new_text_feats(df, feature_name, max_len):\n    for i in range(max_len):\n        new_feature_name = f\\"{feature_name}_{i}\\"\n        df[new_feature_name] = df[feature_name].apply(lambda x: x[i] if len(x) > i else "SPECIALWORDFORSLAVA")\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:34:34.594Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":8,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\ntrain_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\ntest_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\ntest_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\ntest_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\nvalidation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\nvalidation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\nvalidation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n\n\nmax_len_text = max(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\nmax_len_comment = max(train_features["comment"].apply(my_len).max(),\n              validation_features["comment"].apply(my_len).max(),\n              test_features["comment"].apply(my_len).max())\nmax_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n              validation_features["packages_info"].apply(my_len).max(),\n              test_features["packages_info"].apply(my_len).max())\n\n\ncreate_new_text_feats(train_features, "comment", max_len_comment)\ncreate_new_text_feats(train_features, "text", max_len_text)\ncreate_new_text_feats(train_features, "packages_info", max_len_packages)\n\ncreate_new_text_feats(test_features, "comment", max_len_comment)\ncreate_new_text_feats(test_features, "text", max_len_text)\ncreate_new_text_feats(test_features, "packages_info", max_len_packages)\n\ncreate_new_text_feats(validation_features, "comment", max_len_comment)\ncreate_new_text_feats(validation_features, "text", max_len_text)\ncreate_new_text_feats(validation_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:34:36.758Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":9,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\ntrain_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\ntest_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\ntest_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\ntest_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\nvalidation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\nvalidation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\nvalidation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n\n\nmax_len_text = max(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\nmax_len_comment = max(train_features["comment"].apply(my_len).max(),\n              validation_features["comment"].apply(my_len).max(),\n              test_features["comment"].apply(my_len).max())\nmax_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n              validation_features["packages_info"].apply(my_len).max(),\n              test_features["packages_info"].apply(my_len).max())\n\n\ncreate_new_text_feats(train_features, "comment", max_len_comment)\ncreate_new_text_feats(train_features, "text", max_len_text)\ncreate_new_text_feats(train_features, "packages_info", max_len_packages)\n\ncreate_new_text_feats(test_features, "comment", max_len_comment)\ncreate_new_text_feats(test_features, "text", max_len_text)\ncreate_new_text_feats(test_features, "packages_info", max_len_packages)\n\ncreate_new_text_feats(validation_features, "comment", max_len_comment)\ncreate_new_text_feats(validation_features, "text", max_len_text)\ncreate_new_text_feats(validation_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":59184},{\\"output_type\\":\\"stream\\",\\"size\\":50796},{\\"output_type\\":\\"stream\\",\\"size\\":57320},{\\"output_type\\":\\"stream\\",\\"size\\":41010},{\\"output_type\\":\\"stream\\",\\"size\\":83882},{\\"output_type\\":\\"stream\\",\\"size\\":83416},{\\"output_type\\":\\"stream\\",\\"size\\":46136},{\\"output_type\\":\\"stream\\",\\"size\\":93668},{\\"output_type\\":\\"stream\\",\\"size\\":85746}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:34:40.983Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":8,\"cell_source\":\"# train_labels = train_features["primary_label"]\n# train_features = train_features.drop(columns=["primary_label"])\n# # test_labels = test_features["primary_label"]\n# # test_features = test_features.drop(columns=["primary_label"])\n# validation_labels = validation_features["primary_label"]\n# validation_features = validation_features.drop(columns=["primary_label"])\n\n\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n# test_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\n# test_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\n# test_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\n# validation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\n# validation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\n# validation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n\n\n# max_len_text = max(train_features["text"].apply(my_len).max(),\n#               validation_features["text"].apply(my_len).max(),\n#               test_features["text"].apply(my_len).max())\n# max_len_comment = max(train_features["comment"].apply(my_len).max(),\n#               validation_features["comment"].apply(my_len).max(),\n#               test_features["comment"].apply(my_len).max())\n# max_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n#               validation_features["packages_info"].apply(my_len).max(),\n#               test_features["packages_info"].apply(my_len).max())\n\n\n# create_new_text_feats(train_features, "comment", max_len_comment)\n# create_new_text_feats(train_features, "text", max_len_text)\n# create_new_text_feats(train_features, "packages_info", max_len_packages)\n\n# create_new_text_feats(test_features, "comment", max_len_comment)\n# create_new_text_feats(test_features, "text", max_len_text)\n# create_new_text_feats(test_features, "packages_info", max_len_packages)\n\n# create_new_text_feats(validation_features, "comment", max_len_comment)\n# create_new_text_feats(validation_features, "text", max_len_text)\n# create_new_text_feats(validation_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:34:41.127Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":9,\"cell_source\":\"# train_labels = train_features["primary_label"]\n# train_features = train_features.drop(columns=["primary_label"])\n# # test_labels = test_features["primary_label"]\n# # test_features = test_features.drop(columns=["primary_label"])\n# validation_labels = validation_features["primary_label"]\n# validation_features = validation_features.drop(columns=["primary_label"])\n\n\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n# test_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\n# test_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\n# test_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\n# validation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\n# validation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\n# validation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n\n\n# max_len_text = max(train_features["text"].apply(my_len).max(),\n#               validation_features["text"].apply(my_len).max(),\n#               test_features["text"].apply(my_len).max())\n# max_len_comment = max(train_features["comment"].apply(my_len).max(),\n#               validation_features["comment"].apply(my_len).max(),\n#               test_features["comment"].apply(my_len).max())\n# max_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n#               validation_features["packages_info"].apply(my_len).max(),\n#               test_features["packages_info"].apply(my_len).max())\n\n\n# create_new_text_feats(train_features, "comment", max_len_comment)\n# create_new_text_feats(train_features, "text", max_len_text)\n# create_new_text_feats(train_features, "packages_info", max_len_packages)\n\n# create_new_text_feats(test_features, "comment", max_len_comment)\n# create_new_text_feats(test_features, "text", max_len_text)\n# create_new_text_feats(test_features, "packages_info", max_len_packages)\n\n# create_new_text_feats(validation_features, "comment", max_len_comment)\n# create_new_text_feats(validation_features, "text", max_len_text)\n# create_new_text_feats(validation_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:34:44.467Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":9,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\ntext_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\ntrain_features = train_features.drop(columns=text_feats_fixed+primary_labels)\nvalidation_features = validation_features.drop(columns=text_feats_fixed+primary_labels)\ntest_features = test_features.drop(columns=text_feats_fixed)\n\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:34:44.694Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":10,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\ntext_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\ntrain_features = train_features.drop(columns=text_feats_fixed+primary_labels)\nvalidation_features = validation_features.drop(columns=text_feats_fixed+primary_labels)\ntest_features = test_features.drop(columns=text_feats_fixed)\n\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:34:46.126Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":10,\"cell_source\":\"pool_train = Pool(train_features.values,\n                  train_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_val = Pool(validation_features.values,\n                  validation_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_test = Pool(test_features.values,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:34:47.022Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":11,\"cell_source\":\"pool_train = Pool(train_features.values,\n                  train_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_val = Pool(validation_features.values,\n                  validation_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_test = Pool(test_features.values,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:34:50.368Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"cfe11c1a3ef5442086eef92a877d4a92\",\"cell_num\":12,\"cell_source\":\"catboost_clf = CatBoostClassifier(random_seed=3407, iterations=1000,\n                                 loss_function="MultiClass", custom_metric=["F1"])\n\ncatboost_clf.fit(\n    pool_train,\n    eval_set=pool_val\n)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T15:34:50.368Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"cfe11c1a3ef5442086eef92a877d4a92\",\"cell_num\":12,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"CatBoostError\\",\\"evalue\\":\\"catboost/private/libs/feature_estimator/text_feature_estimators.cpp:89: Dictionary size is 0, check out data or try to decrease occurrence_lower_bound parameter\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:35:04.796Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"8a75930d02ad47a0b372ab5bfa870f54\",\"cell_num\":9,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:35:06.410Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"8a75930d02ad47a0b372ab5bfa870f54\",\"cell_num\":10,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:35:06.548Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"8a75930d02ad47a0b372ab5bfa870f54\",\"cell_num\":11,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":12776}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:36:18.784Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"8a75930d02ad47a0b372ab5bfa870f54\",\"cell_num\":10,\"cell_source\":\"train_features[text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:36:19.080Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"8a75930d02ad47a0b372ab5bfa870f54\",\"cell_num\":11,\"cell_source\":\"train_features[text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":18623}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:36:30.926Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"8a75930d02ad47a0b372ab5bfa870f54\",\"cell_num\":10,\"cell_source\":\"train_features[text_feats].apply(len)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:36:31.144Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"8a75930d02ad47a0b372ab5bfa870f54\",\"cell_num\":11,\"cell_source\":\"train_features[text_feats].apply(len)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":328}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:36:39.801Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"8a75930d02ad47a0b372ab5bfa870f54\",\"cell_num\":10,\"cell_source\":\"train_features[text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:36:39.959Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"8a75930d02ad47a0b372ab5bfa870f54\",\"cell_num\":11,\"cell_source\":\"train_features[text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":18623}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:38:19.069Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"8a75930d02ad47a0b372ab5bfa870f54\",\"cell_num\":10,\"cell_source\":\"train_features[text_feats].applymap(lambda x: len(x))\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:38:24.219Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"8a75930d02ad47a0b372ab5bfa870f54\",\"cell_num\":10,\"cell_source\":\"train_features[text_feats].applymap(lambda x: len(x))\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":10327}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:38:41.204Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"8a75930d02ad47a0b372ab5bfa870f54\",\"cell_num\":10,\"cell_source\":\"lenghtsss = train_features[text_feats].applymap(lambda x: len(x))\nlenghtsss\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:38:43.360Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"43f85f73799a4219882643226e502f2f\",\"cell_num\":10,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:38:45.654Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"8a75930d02ad47a0b372ab5bfa870f54\",\"cell_num\":11,\"cell_source\":\"lenghtsss = train_features[text_feats].applymap(lambda x: len(x))\nlenghtsss\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":10327}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:38:48.952Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"43f85f73799a4219882643226e502f2f\",\"cell_num\":11,\"cell_source\":\"lenghtsss.min()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:38:49.179Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"43f85f73799a4219882643226e502f2f\",\"cell_num\":12,\"cell_source\":\"lenghtsss.min()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":306}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:41:01.236Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"8a75930d02ad47a0b372ab5bfa870f54\",\"cell_num\":10,\"cell_source\":\"def add_small(s):\n    if len(s) < const:\n        return s + "small"\n    else:\n        return s\n    \nconst = 3\ntrain_features[text_feats].applymap(add_small)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:41:02.244Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"8a75930d02ad47a0b372ab5bfa870f54\",\"cell_num\":10,\"cell_source\":\"def add_small(s):\n    if len(s) < const:\n        return s + "small"\n    else:\n        return s\n    \nconst = 3\ntrain_features[text_feats].applymap(add_small)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":18623}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:41:10.456Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"857ea4ece7af48488fe2921a17dfffe7\",\"cell_num\":10,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:41:12.153Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"857ea4ece7af48488fe2921a17dfffe7\",\"cell_num\":11,\"cell_source\":\" train_features[text_feats].applymap(lambda x: len(x))\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:41:13.437Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"857ea4ece7af48488fe2921a17dfffe7\",\"cell_num\":12,\"cell_source\":\" train_features[text_feats].applymap(lambda x: len(x))\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":10327}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:41:18.515Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"857ea4ece7af48488fe2921a17dfffe7\",\"cell_num\":null,\"cell_source\":\" train_features[text_feats].applymap(lambda x: len(x))\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:42:13.645Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"ee7203bf35b841c19346d2743a87255a\",\"cell_num\":10,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:42:31.857Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"ee7203bf35b841c19346d2743a87255a\",\"cell_num\":11,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:42:31.987Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"ee7203bf35b841c19346d2743a87255a\",\"cell_num\":12,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":12776}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:43:17.958Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"ee7203bf35b841c19346d2743a87255a\",\"cell_num\":11,\"cell_source\":\"train_features[text_feats].applymap(lambda x: len(x))\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:43:19.363Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"ee7203bf35b841c19346d2743a87255a\",\"cell_num\":11,\"cell_source\":\"train_features[text_feats].applymap(lambda x: len(x))\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":10327}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:43:21.560Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"51b6ac6ce1344a16a4b3c24615caa6bb\",\"cell_num\":11,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:43:23.503Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"51b6ac6ce1344a16a4b3c24615caa6bb\",\"cell_num\":12,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:43:23.622Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"51b6ac6ce1344a16a4b3c24615caa6bb\",\"cell_num\":13,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":12776}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:43:29.563Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"ee7203bf35b841c19346d2743a87255a\",\"cell_num\":11,\"cell_source\":\"train_features[text_feats].applymap(lambda x: len(x)).min()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:43:30.884Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"ee7203bf35b841c19346d2743a87255a\",\"cell_num\":12,\"cell_source\":\"train_features[text_feats].applymap(lambda x: len(x)).min()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":306}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:43:35.540Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"8a75930d02ad47a0b372ab5bfa870f54\",\"cell_num\":10,\"cell_source\":\"def add_small(s):\n    if len(s) < const:\n        return s + "small"\n    else:\n        return s\n    \nconst = 3\ntrain_features[text_feats].applymap(add_small)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:43:36.497Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"8a75930d02ad47a0b372ab5bfa870f54\",\"cell_num\":11,\"cell_source\":\"def add_small(s):\n    if len(s) < const:\n        return s + "small"\n    else:\n        return s\n    \nconst = 3\ntrain_features[text_feats].applymap(add_small)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":18623}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:43:38.444Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"ee7203bf35b841c19346d2743a87255a\",\"cell_num\":11,\"cell_source\":\"train_features[text_feats].applymap(lambda x: len(x)).min()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:43:39.710Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"ee7203bf35b841c19346d2743a87255a\",\"cell_num\":12,\"cell_source\":\"train_features[text_feats].applymap(lambda x: len(x)).min()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":306}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:43:50.268Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"8a75930d02ad47a0b372ab5bfa870f54\",\"cell_num\":10,\"cell_source\":\"def add_small(s):\n    if len(s) < const:\n        return s + "small"\n    else:\n        return s\n    \nconst = 3\ntrain_features[text_feats] = train_features[text_feats].applymap(add_small)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:43:51.273Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"8a75930d02ad47a0b372ab5bfa870f54\",\"cell_num\":11,\"cell_source\":\"def add_small(s):\n    if len(s) < const:\n        return s + "small"\n    else:\n        return s\n    \nconst = 3\ntrain_features[text_feats] = train_features[text_feats].applymap(add_small)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:43:52.275Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"ee7203bf35b841c19346d2743a87255a\",\"cell_num\":11,\"cell_source\":\"train_features[text_feats].applymap(lambda x: len(x)).min()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:43:53.698Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"ee7203bf35b841c19346d2743a87255a\",\"cell_num\":10,\"cell_source\":\"train_features[text_feats].applymap(lambda x: len(x)).min()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":306}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:44:29.312Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":1,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:44:29.667Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":2,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":38}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:44:32.147Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a267c6b6b6d147ec9e8b9b15841b69ed\",\"cell_num\":7,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\ndef my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return "SPECIALWORDFORSLAVA"\n\ndef my_len(it):\n    if isinstance(it, list):\n        return len(it)\n    else:\n        0\n\ndef create_new_text_feats(df, feature_name, max_len):\n    for i in range(max_len):\n        new_feature_name = f\\"{feature_name}_{i}\\"\n        df[new_feature_name] = df[feature_name].apply(lambda x: x[i] if len(x) > i else "SPECIALWORDFORSLAVA")\n        \ndef add_small(s):\n    if len(s) < const:\n        return s + "small"\n    else:\n        return s\nconst = 3\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:44:32.343Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a267c6b6b6d147ec9e8b9b15841b69ed\",\"cell_num\":8,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\ndef my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return "SPECIALWORDFORSLAVA"\n\ndef my_len(it):\n    if isinstance(it, list):\n        return len(it)\n    else:\n        0\n\ndef create_new_text_feats(df, feature_name, max_len):\n    for i in range(max_len):\n        new_feature_name = f\\"{feature_name}_{i}\\"\n        df[new_feature_name] = df[feature_name].apply(lambda x: x[i] if len(x) > i else "SPECIALWORDFORSLAVA")\n        \ndef add_small(s):\n    if len(s) < const:\n        return s + "small"\n    else:\n        return s\nconst = 3\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:44:34.836Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":8,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\ntrain_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\ntest_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\ntest_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\ntest_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\nvalidation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\nvalidation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\nvalidation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n\n\nmax_len_text = max(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\nmax_len_comment = max(train_features["comment"].apply(my_len).max(),\n              validation_features["comment"].apply(my_len).max(),\n              test_features["comment"].apply(my_len).max())\nmax_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n              validation_features["packages_info"].apply(my_len).max(),\n              test_features["packages_info"].apply(my_len).max())\n\n\ncreate_new_text_feats(train_features, "comment", max_len_comment)\ncreate_new_text_feats(train_features, "text", max_len_text)\ncreate_new_text_feats(train_features, "packages_info", max_len_packages)\n\ncreate_new_text_feats(test_features, "comment", max_len_comment)\ncreate_new_text_feats(test_features, "text", max_len_text)\ncreate_new_text_feats(test_features, "packages_info", max_len_packages)\n\ncreate_new_text_feats(validation_features, "comment", max_len_comment)\ncreate_new_text_feats(validation_features, "text", max_len_text)\ncreate_new_text_feats(validation_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:44:37.709Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":9,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\ntrain_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\ntest_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\ntest_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\ntest_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\nvalidation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\nvalidation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\nvalidation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n\n\nmax_len_text = max(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\nmax_len_comment = max(train_features["comment"].apply(my_len).max(),\n              validation_features["comment"].apply(my_len).max(),\n              test_features["comment"].apply(my_len).max())\nmax_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n              validation_features["packages_info"].apply(my_len).max(),\n              test_features["packages_info"].apply(my_len).max())\n\n\ncreate_new_text_feats(train_features, "comment", max_len_comment)\ncreate_new_text_feats(train_features, "text", max_len_text)\ncreate_new_text_feats(train_features, "packages_info", max_len_packages)\n\ncreate_new_text_feats(test_features, "comment", max_len_comment)\ncreate_new_text_feats(test_features, "text", max_len_text)\ncreate_new_text_feats(test_features, "packages_info", max_len_packages)\n\ncreate_new_text_feats(validation_features, "comment", max_len_comment)\ncreate_new_text_feats(validation_features, "text", max_len_text)\ncreate_new_text_feats(validation_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":46037},{\\"output_type\\":\\"stream\\",\\"size\\":45572},{\\"output_type\\":\\"stream\\",\\"size\\":37667},{\\"output_type\\":\\"stream\\",\\"size\\":37667},{\\"output_type\\":\\"stream\\",\\"size\\":33017},{\\"output_type\\":\\"stream\\",\\"size\\":81377},{\\"output_type\\":\\"stream\\",\\"size\\":66032},{\\"output_type\\":\\"stream\\",\\"size\\":42317},{\\"output_type\\":\\"stream\\",\\"size\\":24647},{\\"output_type\\":\\"stream\\",\\"size\\":95792},{\\"output_type\\":\\"stream\\",\\"size\\":75797},{\\"output_type\\":\\"stream\\",\\"size\\":13952}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:44:38.766Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":8,\"cell_source\":\"# train_labels = train_features["primary_label"]\n# train_features = train_features.drop(columns=["primary_label"])\n# # test_labels = test_features["primary_label"]\n# # test_features = test_features.drop(columns=["primary_label"])\n# validation_labels = validation_features["primary_label"]\n# validation_features = validation_features.drop(columns=["primary_label"])\n\n\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n# test_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\n# test_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\n# test_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\n# validation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\n# validation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\n# validation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n\n\n# max_len_text = max(train_features["text"].apply(my_len).max(),\n#               validation_features["text"].apply(my_len).max(),\n#               test_features["text"].apply(my_len).max())\n# max_len_comment = max(train_features["comment"].apply(my_len).max(),\n#               validation_features["comment"].apply(my_len).max(),\n#               test_features["comment"].apply(my_len).max())\n# max_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n#               validation_features["packages_info"].apply(my_len).max(),\n#               test_features["packages_info"].apply(my_len).max())\n\n\n# create_new_text_feats(train_features, "comment", max_len_comment)\n# create_new_text_feats(train_features, "text", max_len_text)\n# create_new_text_feats(train_features, "packages_info", max_len_packages)\n\n# create_new_text_feats(test_features, "comment", max_len_comment)\n# create_new_text_feats(test_features, "text", max_len_text)\n# create_new_text_feats(test_features, "packages_info", max_len_packages)\n\n# create_new_text_feats(validation_features, "comment", max_len_comment)\n# create_new_text_feats(validation_features, "text", max_len_text)\n# create_new_text_feats(validation_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:44:38.958Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":9,\"cell_source\":\"# train_labels = train_features["primary_label"]\n# train_features = train_features.drop(columns=["primary_label"])\n# # test_labels = test_features["primary_label"]\n# # test_features = test_features.drop(columns=["primary_label"])\n# validation_labels = validation_features["primary_label"]\n# validation_features = validation_features.drop(columns=["primary_label"])\n\n\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n# test_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\n# test_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\n# test_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\n# validation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\n# validation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\n# validation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n\n\n# max_len_text = max(train_features["text"].apply(my_len).max(),\n#               validation_features["text"].apply(my_len).max(),\n#               test_features["text"].apply(my_len).max())\n# max_len_comment = max(train_features["comment"].apply(my_len).max(),\n#               validation_features["comment"].apply(my_len).max(),\n#               test_features["comment"].apply(my_len).max())\n# max_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n#               validation_features["packages_info"].apply(my_len).max(),\n#               test_features["packages_info"].apply(my_len).max())\n\n\n# create_new_text_feats(train_features, "comment", max_len_comment)\n# create_new_text_feats(train_features, "text", max_len_text)\n# create_new_text_feats(train_features, "packages_info", max_len_packages)\n\n# create_new_text_feats(test_features, "comment", max_len_comment)\n# create_new_text_feats(test_features, "text", max_len_text)\n# create_new_text_feats(test_features, "packages_info", max_len_packages)\n\n# create_new_text_feats(validation_features, "comment", max_len_comment)\n# create_new_text_feats(validation_features, "text", max_len_text)\n# create_new_text_feats(validation_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:44:43.456Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":9,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\ntext_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\ntrain_features = train_features.drop(columns=text_feats_fixed+primary_labels)\nvalidation_features = validation_features.drop(columns=text_feats_fixed+primary_labels)\ntest_features = test_features.drop(columns=text_feats_fixed)\n\ntrain_features[text_feats] = train_features[text_feats].applymap(add_small)\ntest_features[text_feats] = test_features[text_feats].applymap(add_small)\nvalidation_features[text_feats] = validation_features[text_feats].applymap(add_small)\n\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:44:45.972Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":10,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\ntext_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\ntrain_features = train_features.drop(columns=text_feats_fixed+primary_labels)\nvalidation_features = validation_features.drop(columns=text_feats_fixed+primary_labels)\ntest_features = test_features.drop(columns=text_feats_fixed)\n\ntrain_features[text_feats] = train_features[text_feats].applymap(add_small)\ntest_features[text_feats] = test_features[text_feats].applymap(add_small)\nvalidation_features[text_feats] = validation_features[text_feats].applymap(add_small)\n\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:44:47.919Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"8a75930d02ad47a0b372ab5bfa870f54\",\"cell_num\":null,\"cell_source\":\"def add_small(s):\n    if len(s) < const:\n        return s + "small"\n    else:\n        return s\n    \nconst = 3\ntrain_features[text_feats] = train_features[text_feats].applymap(add_small)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:44:48.497Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"ee7203bf35b841c19346d2743a87255a\",\"cell_num\":null,\"cell_source\":\"train_features[text_feats].applymap(lambda x: len(x)).min()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:44:49.186Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"51b6ac6ce1344a16a4b3c24615caa6bb\",\"cell_num\":null,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:44:50.201Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"43f85f73799a4219882643226e502f2f\",\"cell_num\":null,\"cell_source\":\"lenghtsss.min()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:44:51.800Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":10,\"cell_source\":\"pool_train = Pool(train_features.values,\n                  train_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_val = Pool(validation_features.values,\n                  validation_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_test = Pool(test_features.values,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:44:53.521Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":11,\"cell_source\":\"pool_train = Pool(train_features.values,\n                  train_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_val = Pool(validation_features.values,\n                  validation_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_test = Pool(test_features.values,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T15:44:57.674Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"cfe11c1a3ef5442086eef92a877d4a92\",\"cell_num\":12,\"cell_source\":\"catboost_clf = CatBoostClassifier(random_seed=3407, iterations=1000,\n                                 loss_function="MultiClass", custom_metric=["F1"])\n\ncatboost_clf.fit(\n    pool_train,\n    eval_set=pool_val\n)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T15:44:57.674Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"cfe11c1a3ef5442086eef92a877d4a92\",\"cell_num\":12,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"CatBoostError\\",\\"evalue\\":\\"catboost/private/libs/feature_estimator/text_feature_estimators.cpp:89: Dictionary size is 0, check out data or try to decrease occurrence_lower_bound parameter\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:14:40.503Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"kernel_restarting\",\"cell_index\":\"\",\"cell_num\":11,\"cell_source\":\"\",\"cell_type\":\"\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:15:23.300Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"d22ae43fa27a4a3f86efb141048b7e61\",\"cell_num\":0,\"cell_source\":\"# # Do not forget to check if your notebook log collection plugin is working\nfrom mining_extension import check_logging\ncheck_logging(\\"http://3.249.245.244:9999\\")\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:15:23.759Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"d22ae43fa27a4a3f86efb141048b7e61\",\"cell_num\":1,\"cell_source\":\"# # Do not forget to check if your notebook log collection plugin is working\nfrom mining_extension import check_logging\ncheck_logging(\\"http://3.249.245.244:9999\\")\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":23}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:15:27.369Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":1,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:15:28.206Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":2,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":38}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:15:29.725Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"304d47652dba4691997fa16c7f915680\",\"cell_num\":2,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:15:29.910Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"304d47652dba4691997fa16c7f915680\",\"cell_num\":3,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":10079}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:15:31.356Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":3,\"cell_source\":\"train_features["primary_label"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:15:31.470Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":4,\"cell_source\":\"train_features["primary_label"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":373}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:15:31.772Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"3fb558d53ff440aca9325736264edf88\",\"cell_num\":4,\"cell_source\":\"train_features.text[1]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:15:31.818Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"3fb558d53ff440aca9325736264edf88\",\"cell_num\":5,\"cell_source\":\"train_features.text[1]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":316}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:15:34.286Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"2331e4b09fb04096928da1082e3486a8\",\"cell_num\":6,\"cell_source\":\"train_features["code_line_before"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:15:34.427Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"2331e4b09fb04096928da1082e3486a8\",\"cell_num\":7,\"cell_source\":\"train_features["code_line_before"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":718}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:15:35.797Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a267c6b6b6d147ec9e8b9b15841b69ed\",\"cell_num\":7,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\ndef my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return "SPECIALWORDFORSLAVA"\n\ndef my_len(it):\n    if isinstance(it, list):\n        return len(it)\n    else:\n        0\n\ndef create_new_text_feats(df, feature_name, max_len):\n    for i in range(max_len):\n        new_feature_name = f\\"{feature_name}_{i}\\"\n        df[new_feature_name] = df[feature_name].apply(lambda x: x[i] if len(x) > i else "SPECIALWORDFORSLAVA")\n        \ndef add_small(s):\n    if len(s) < const:\n        return s + "small"\n    else:\n        return s\nconst = 3\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:15:37.440Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a267c6b6b6d147ec9e8b9b15841b69ed\",\"cell_num\":8,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\ndef my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return "SPECIALWORDFORSLAVA"\n\ndef my_len(it):\n    if isinstance(it, list):\n        return len(it)\n    else:\n        0\n\ndef create_new_text_feats(df, feature_name, max_len):\n    for i in range(max_len):\n        new_feature_name = f\\"{feature_name}_{i}\\"\n        df[new_feature_name] = df[feature_name].apply(lambda x: x[i] if len(x) > i else "SPECIALWORDFORSLAVA")\n        \ndef add_small(s):\n    if len(s) < const:\n        return s + "small"\n    else:\n        return s\nconst = 3\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:15:38.248Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":8,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\ntrain_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\ntest_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\ntest_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\ntest_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\nvalidation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\nvalidation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\nvalidation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n\n\nmax_len_text = max(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\nmax_len_comment = max(train_features["comment"].apply(my_len).max(),\n              validation_features["comment"].apply(my_len).max(),\n              test_features["comment"].apply(my_len).max())\nmax_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n              validation_features["packages_info"].apply(my_len).max(),\n              test_features["packages_info"].apply(my_len).max())\n\n\ncreate_new_text_feats(train_features, "comment", max_len_comment)\ncreate_new_text_feats(train_features, "text", max_len_text)\ncreate_new_text_feats(train_features, "packages_info", max_len_packages)\n\ncreate_new_text_feats(test_features, "comment", max_len_comment)\ncreate_new_text_feats(test_features, "text", max_len_text)\ncreate_new_text_feats(test_features, "packages_info", max_len_packages)\n\ncreate_new_text_feats(validation_features, "comment", max_len_comment)\ncreate_new_text_feats(validation_features, "text", max_len_text)\ncreate_new_text_feats(validation_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:15:40.466Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":9,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\ntrain_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\ntest_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\ntest_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\ntest_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\nvalidation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\nvalidation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\nvalidation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n\n\nmax_len_text = max(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\nmax_len_comment = max(train_features["comment"].apply(my_len).max(),\n              validation_features["comment"].apply(my_len).max(),\n              test_features["comment"].apply(my_len).max())\nmax_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n              validation_features["packages_info"].apply(my_len).max(),\n              test_features["packages_info"].apply(my_len).max())\n\n\ncreate_new_text_feats(train_features, "comment", max_len_comment)\ncreate_new_text_feats(train_features, "text", max_len_text)\ncreate_new_text_feats(train_features, "packages_info", max_len_packages)\n\ncreate_new_text_feats(test_features, "comment", max_len_comment)\ncreate_new_text_feats(test_features, "text", max_len_text)\ncreate_new_text_feats(test_features, "packages_info", max_len_packages)\n\ncreate_new_text_feats(validation_features, "comment", max_len_comment)\ncreate_new_text_feats(validation_features, "text", max_len_text)\ncreate_new_text_feats(validation_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":68504},{\\"output_type\\":\\"stream\\",\\"size\\":48932},{\\"output_type\\":\\"stream\\",\\"size\\":55456},{\\"output_type\\":\\"stream\\",\\"size\\":62912},{\\"output_type\\":\\"stream\\",\\"size\\":71300},{\\"output_type\\":\\"stream\\",\\"size\\":87144},{\\"output_type\\":\\"stream\\",\\"size\\":62912},{\\"output_type\\":\\"stream\\",\\"size\\":77824},{\\"output_type\\":\\"stream\\",\\"size\\":66174}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:15:53.280Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":8,\"cell_source\":\"# train_labels = train_features["primary_label"]\n# train_features = train_features.drop(columns=["primary_label"])\n# # test_labels = test_features["primary_label"]\n# # test_features = test_features.drop(columns=["primary_label"])\n# validation_labels = validation_features["primary_label"]\n# validation_features = validation_features.drop(columns=["primary_label"])\n\n\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n# test_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\n# test_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\n# test_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\n# validation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\n# validation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\n# validation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n\n\n# max_len_text = max(train_features["text"].apply(my_len).max(),\n#               validation_features["text"].apply(my_len).max(),\n#               test_features["text"].apply(my_len).max())\n# max_len_comment = max(train_features["comment"].apply(my_len).max(),\n#               validation_features["comment"].apply(my_len).max(),\n#               test_features["comment"].apply(my_len).max())\n# max_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n#               validation_features["packages_info"].apply(my_len).max(),\n#               test_features["packages_info"].apply(my_len).max())\n\n\n# create_new_text_feats(train_features, "comment", max_len_comment)\n# create_new_text_feats(train_features, "text", max_len_text)\n# create_new_text_feats(train_features, "packages_info", max_len_packages)\n\n# create_new_text_feats(test_features, "comment", max_len_comment)\n# create_new_text_feats(test_features, "text", max_len_text)\n# create_new_text_feats(test_features, "packages_info", max_len_packages)\n\n# create_new_text_feats(validation_features, "comment", max_len_comment)\n# create_new_text_feats(validation_features, "text", max_len_text)\n# create_new_text_feats(validation_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:15:53.422Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":9,\"cell_source\":\"# train_labels = train_features["primary_label"]\n# train_features = train_features.drop(columns=["primary_label"])\n# # test_labels = test_features["primary_label"]\n# # test_features = test_features.drop(columns=["primary_label"])\n# validation_labels = validation_features["primary_label"]\n# validation_features = validation_features.drop(columns=["primary_label"])\n\n\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n# test_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\n# test_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\n# test_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\n# validation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\n# validation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\n# validation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n\n\n# max_len_text = max(train_features["text"].apply(my_len).max(),\n#               validation_features["text"].apply(my_len).max(),\n#               test_features["text"].apply(my_len).max())\n# max_len_comment = max(train_features["comment"].apply(my_len).max(),\n#               validation_features["comment"].apply(my_len).max(),\n#               test_features["comment"].apply(my_len).max())\n# max_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n#               validation_features["packages_info"].apply(my_len).max(),\n#               test_features["packages_info"].apply(my_len).max())\n\n\n# create_new_text_feats(train_features, "comment", max_len_comment)\n# create_new_text_feats(train_features, "text", max_len_text)\n# create_new_text_feats(train_features, "packages_info", max_len_packages)\n\n# create_new_text_feats(test_features, "comment", max_len_comment)\n# create_new_text_feats(test_features, "text", max_len_text)\n# create_new_text_feats(test_features, "packages_info", max_len_packages)\n\n# create_new_text_feats(validation_features, "comment", max_len_comment)\n# create_new_text_feats(validation_features, "text", max_len_text)\n# create_new_text_feats(validation_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:15:57.179Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":9,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\ntext_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\ntrain_features = train_features.drop(columns=text_feats_fixed+primary_labels)\nvalidation_features = validation_features.drop(columns=text_feats_fixed+primary_labels)\ntest_features = test_features.drop(columns=text_feats_fixed)\n\ntrain_features[text_feats] = train_features[text_feats].applymap(add_small)\ntest_features[text_feats] = test_features[text_feats].applymap(add_small)\nvalidation_features[text_feats] = validation_features[text_feats].applymap(add_small)\n\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:15:58.904Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":10,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\ntext_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\ntrain_features = train_features.drop(columns=text_feats_fixed+primary_labels)\nvalidation_features = validation_features.drop(columns=text_feats_fixed+primary_labels)\ntest_features = test_features.drop(columns=text_feats_fixed)\n\ntrain_features[text_feats] = train_features[text_feats].applymap(add_small)\ntest_features[text_feats] = test_features[text_feats].applymap(add_small)\nvalidation_features[text_feats] = validation_features[text_feats].applymap(add_small)\n\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:16:03.237Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":10,\"cell_source\":\"pool_train = Pool(train_features.values,\n                  train_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_val = Pool(validation_features.values,\n                  validation_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_test = Pool(test_features.values,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:16:04.077Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":11,\"cell_source\":\"pool_train = Pool(train_features.values,\n                  train_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_val = Pool(validation_features.values,\n                  validation_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_test = Pool(test_features.values,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:16:08.088Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"kernel_restarting\",\"cell_index\":\"\",\"cell_num\":12,\"cell_source\":\"\",\"cell_type\":\"\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:22:00.273Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"d22ae43fa27a4a3f86efb141048b7e61\",\"cell_num\":0,\"cell_source\":\"# # Do not forget to check if your notebook log collection plugin is working\nfrom mining_extension import check_logging\ncheck_logging(\\"http://3.249.245.244:9999\\")\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:22:00.873Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"d22ae43fa27a4a3f86efb141048b7e61\",\"cell_num\":1,\"cell_source\":\"# # Do not forget to check if your notebook log collection plugin is working\nfrom mining_extension import check_logging\ncheck_logging(\\"http://3.249.245.244:9999\\")\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":23}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:22:02.097Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":1,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:22:03.055Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":2,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":38}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:22:03.564Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"304d47652dba4691997fa16c7f915680\",\"cell_num\":2,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:22:03.760Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"304d47652dba4691997fa16c7f915680\",\"cell_num\":3,\"cell_source\":\"train_features\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":10079}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:22:14.828Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":3,\"cell_source\":\"train_features["primary_label"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:22:14.952Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"c56df92196074ecb9e84cd8177203883\",\"cell_num\":4,\"cell_source\":\"train_features["primary_label"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":373}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:22:22.639Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a267c6b6b6d147ec9e8b9b15841b69ed\",\"cell_num\":7,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\ndef my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return "SPECIALWORDFORSLAVA"\n\ndef my_len(it):\n    if isinstance(it, list):\n        return len(it)\n    else:\n        0\n\ndef create_new_text_feats(df, feature_name, max_len):\n    for i in range(max_len):\n        new_feature_name = f\\"{feature_name}_{i}\\"\n        df[new_feature_name] = df[feature_name].apply(lambda x: x[i] if len(x) > i else "SPECIALWORDFORSLAVA")\n        \ndef add_small(s):\n    if len(s) < const:\n        return s + "small"\n    else:\n        return s\nconst = 3\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:22:24.233Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a267c6b6b6d147ec9e8b9b15841b69ed\",\"cell_num\":8,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\ndef my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return "SPECIALWORDFORSLAVA"\n\ndef my_len(it):\n    if isinstance(it, list):\n        return len(it)\n    else:\n        0\n\ndef create_new_text_feats(df, feature_name, max_len):\n    for i in range(max_len):\n        new_feature_name = f\\"{feature_name}_{i}\\"\n        df[new_feature_name] = df[feature_name].apply(lambda x: x[i] if len(x) > i else "SPECIALWORDFORSLAVA")\n        \ndef add_small(s):\n    if len(s) < const:\n        return s + "small"\n    else:\n        return s\nconst = 3\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:22:50.271Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"169fed988ff74243868eb11d9a67e0ed\",\"cell_num\":7,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:22:53.957Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"169fed988ff74243868eb11d9a67e0ed\",\"cell_num\":8,\"cell_source\":\"max_len_text = max(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\nmax_len_comment = max(train_features["comment"].apply(my_len).max(),\n              validation_features["comment"].apply(my_len).max(),\n              test_features["comment"].apply(my_len).max())\nmax_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n              validation_features["packages_info"].apply(my_len).max(),\n              test_features["packages_info"].apply(my_len).max())\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:22:54.148Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"169fed988ff74243868eb11d9a67e0ed\",\"cell_num\":9,\"cell_source\":\"max_len_text = max(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\nmax_len_comment = max(train_features["comment"].apply(my_len).max(),\n              validation_features["comment"].apply(my_len).max(),\n              test_features["comment"].apply(my_len).max())\nmax_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n              validation_features["packages_info"].apply(my_len).max(),\n              test_features["packages_info"].apply(my_len).max())\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:22:57.772Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"9cc202e1df5f45c5976dfef36fd8f678\",\"cell_num\":8,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:23:24.596Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"9cc202e1df5f45c5976dfef36fd8f678\",\"cell_num\":9,\"cell_source\":\"max_len_text, max_len_comment, max_len_packages\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:23:24.790Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"9cc202e1df5f45c5976dfef36fd8f678\",\"cell_num\":10,\"cell_source\":\"max_len_text, max_len_comment, max_len_packages\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":30}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:24:12.346Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":10,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\ntrain_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\ntest_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\ntest_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\ntest_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\nvalidation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\nvalidation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\nvalidation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n\n\n# max_len_text = max(train_features["text"].apply(my_len).max(),\n#               validation_features["text"].apply(my_len).max(),\n#               test_features["text"].apply(my_len).max())\n# max_len_comment = max(train_features["comment"].apply(my_len).max(),\n#               validation_features["comment"].apply(my_len).max(),\n#               test_features["comment"].apply(my_len).max())\n# max_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n#               validation_features["packages_info"].apply(my_len).max(),\n#               test_features["packages_info"].apply(my_len).max())\nmax_len_text = 10\nmax_len_comment = 10\nmax_len_packages = 10\n\n\ncreate_new_text_feats(train_features, "comment", max_len_comment)\ncreate_new_text_feats(train_features, "text", max_len_text)\ncreate_new_text_feats(train_features, "packages_info", max_len_packages)\n\ncreate_new_text_feats(test_features, "comment", max_len_comment)\ncreate_new_text_feats(test_features, "text", max_len_text)\ncreate_new_text_feats(test_features, "packages_info", max_len_packages)\n\ncreate_new_text_feats(validation_features, "comment", max_len_comment)\ncreate_new_text_feats(validation_features, "text", max_len_text)\ncreate_new_text_feats(validation_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:24:12.582Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"a23f0c701f3e4932a90fa3b8a4241dcb\",\"cell_num\":11,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\ntrain_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\ntest_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\ntest_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\ntest_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\nvalidation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\nvalidation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\nvalidation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n\n\n# max_len_text = max(train_features["text"].apply(my_len).max(),\n#               validation_features["text"].apply(my_len).max(),\n#               test_features["text"].apply(my_len).max())\n# max_len_comment = max(train_features["comment"].apply(my_len).max(),\n#               validation_features["comment"].apply(my_len).max(),\n#               test_features["comment"].apply(my_len).max())\n# max_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n#               validation_features["packages_info"].apply(my_len).max(),\n#               test_features["packages_info"].apply(my_len).max())\nmax_len_text = 10\nmax_len_comment = 10\nmax_len_packages = 10\n\n\ncreate_new_text_feats(train_features, "comment", max_len_comment)\ncreate_new_text_feats(train_features, "text", max_len_text)\ncreate_new_text_feats(train_features, "packages_info", max_len_packages)\n\ncreate_new_text_feats(test_features, "comment", max_len_comment)\ncreate_new_text_feats(test_features, "text", max_len_text)\ncreate_new_text_feats(test_features, "packages_info", max_len_packages)\n\ncreate_new_text_feats(validation_features, "comment", max_len_comment)\ncreate_new_text_feats(validation_features, "text", max_len_text)\ncreate_new_text_feats(validation_features, "packages_info", max_len_packages)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:24:15.970Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":11,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\ntext_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\ntrain_features = train_features.drop(columns=text_feats_fixed+primary_labels)\nvalidation_features = validation_features.drop(columns=text_feats_fixed+primary_labels)\ntest_features = test_features.drop(columns=text_feats_fixed)\n\ntrain_features[text_feats] = train_features[text_feats].applymap(add_small)\ntest_features[text_feats] = test_features[text_feats].applymap(add_small)\nvalidation_features[text_feats] = validation_features[text_feats].applymap(add_small)\n\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:24:16.169Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"af1783d2b782402a9a3891ed8f27ee32\",\"cell_num\":12,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\ntext_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\ntrain_features = train_features.drop(columns=text_feats_fixed+primary_labels)\nvalidation_features = validation_features.drop(columns=text_feats_fixed+primary_labels)\ntest_features = test_features.drop(columns=text_feats_fixed)\n\ntrain_features[text_feats] = train_features[text_feats].applymap(add_small)\ntest_features[text_feats] = test_features[text_feats].applymap(add_small)\nvalidation_features[text_feats] = validation_features[text_feats].applymap(add_small)\n\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:24:18.891Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":12,\"cell_source\":\"pool_train = Pool(train_features.values,\n                  train_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_val = Pool(validation_features.values,\n                  validation_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_test = Pool(test_features.values,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:24:19.068Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6527ed331b04414285e24597d31930bf\",\"cell_num\":13,\"cell_source\":\"pool_train = Pool(train_features.values,\n                  train_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_val = Pool(validation_features.values,\n                  validation_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_test = Pool(test_features.values,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:26:39.180Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"cfe11c1a3ef5442086eef92a877d4a92\",\"cell_num\":13,\"cell_source\":\"catboost_clf = CatBoostClassifier(random_seed=3407, iterations=10,\n                                 loss_function="MultiClass", custom_metric=["F1"])\n\ncatboost_clf.fit(\n    pool_train,\n    eval_set=pool_val\n)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":517},{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T16:26:39.180Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"cfe11c1a3ef5442086eef92a877d4a92\",\"cell_num\":13,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"KeyboardInterrupt\\",\\"evalue\\":\\"\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:26:39.182Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"cfe11c1a3ef5442086eef92a877d4a92\",\"cell_num\":13,\"cell_source\":\"catboost_clf = CatBoostClassifier(random_seed=3407, iterations=10,\n                                 loss_function="MultiClass", custom_metric=["F1"])\n\ncatboost_clf.fit(\n    pool_train,\n    eval_set=pool_val\n)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":517},{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T16:26:39.182Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"cfe11c1a3ef5442086eef92a877d4a92\",\"cell_num\":13,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"KeyboardInterrupt\\",\\"evalue\\":\\"\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:26:39.184Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"cfe11c1a3ef5442086eef92a877d4a92\",\"cell_num\":13,\"cell_source\":\"catboost_clf = CatBoostClassifier(random_seed=3407, iterations=10,\n                                 loss_function="MultiClass", custom_metric=["F1"])\n\ncatboost_clf.fit(\n    pool_train,\n    eval_set=pool_val\n)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":517},{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T16:26:39.184Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"cfe11c1a3ef5442086eef92a877d4a92\",\"cell_num\":13,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"KeyboardInterrupt\\",\\"evalue\\":\\"\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:26:41.174Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"cfe11c1a3ef5442086eef92a877d4a92\",\"cell_num\":13,\"cell_source\":\"catboost_clf = CatBoostClassifier(random_seed=3407, iterations=10,\n                                 loss_function="MultiClass", custom_metric=["F1"])\n\ncatboost_clf.fit(\n    pool_train,\n    eval_set=pool_val\n)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:27:14.519Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"f87e0091f13a44fab1b2a2c42f62303b\",\"cell_num\":null,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:30:41.926Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"cfe11c1a3ef5442086eef92a877d4a92\",\"cell_num\":14,\"cell_source\":\"catboost_clf = CatBoostClassifier(random_seed=3407, iterations=10,\n                                 loss_function="MultiClass", custom_metric=["F1"])\n\ncatboost_clf.fit(\n    pool_train,\n    eval_set=pool_val\n)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":1006},{\\"output_type\\":\\"execute_result\\",\\"size\\":69}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:30:50.944Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"6f2a26df12d143dc8da767d321ead265\",\"cell_num\":14,\"cell_source\":\"val_preds = catboost_clf.predict(pool_val)\nf1 = f1_score(pool_val.get_label(), val_preds, average=None)\nprint(\\"F1 score on the validation dataset:\\", f1)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:30:50.981Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"95c652769ed2403b92af389a450f4258\",\"cell_num\":14,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:30:51.218Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6f2a26df12d143dc8da767d321ead265\",\"cell_num\":15,\"cell_source\":\"val_preds = catboost_clf.predict(pool_val)\nf1 = f1_score(pool_val.get_label(), val_preds, average=None)\nprint(\\"F1 score on the validation dataset:\\", f1)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":153}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:31:26.366Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"6f2a26df12d143dc8da767d321ead265\",\"cell_num\":14,\"cell_source\":\"val_preds = catboost_clf.predict(pool_val)\nf1 = f1_score(pool_val.get_label(), val_preds, average="weighted")\nprint(\\"F1 score on the validation dataset:\\", f1)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:31:26.536Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6f2a26df12d143dc8da767d321ead265\",\"cell_num\":15,\"cell_source\":\"val_preds = catboost_clf.predict(pool_val)\nf1 = f1_score(pool_val.get_label(), val_preds, average="weighted")\nprint(\\"F1 score on the validation dataset:\\", f1)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":58}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:32:15.850Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"rendered\",\"cell_index\":\"e26ffc463e6f4ad99448934e2dbf738b\",\"cell_num\":15,\"cell_source\":\"\",\"cell_type\":\"markdown\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:32:15.858Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"e26ffc463e6f4ad99448934e2dbf738b\",\"cell_num\":15,\"cell_source\":\"\",\"cell_type\":\"markdown\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:32:16.070Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"cell_index\":\"e26ffc463e6f4ad99448934e2dbf738b\",\"cell_num\":15,\"cell_type\":\"markdown\",\"event\":\"to_markdown\",\"cell_source\":\"\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:32:37.564Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"rendered\",\"cell_index\":\"e26ffc463e6f4ad99448934e2dbf738b\",\"cell_num\":15,\"cell_source\":\"## Let"s place all text feats in one column with join\",\"cell_type\":\"markdown\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:32:37.616Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"c0ca04abaac941eb8d1691c3111d24df\",\"cell_num\":15,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:32:51.738Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"c0ca04abaac941eb8d1691c3111d24df\",\"cell_num\":16,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:32:51.762Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"585bad5103814c92816a98844092d3a3\",\"cell_num\":16,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:32:52.022Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"c0ca04abaac941eb8d1691c3111d24df\",\"cell_num\":17,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":38}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:33:44.540Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"585bad5103814c92816a98844092d3a3\",\"cell_num\":17,\"cell_source\":\"train_features["comment"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:33:44.558Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"dbde11af81a34dbcb55a1c6f1467782d\",\"cell_num\":17,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:33:44.822Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"585bad5103814c92816a98844092d3a3\",\"cell_num\":18,\"cell_source\":\"train_features["comment"]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":708}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:33:48.151Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"6e67a63cb84d46b38324133564831671\",\"cell_num\":16,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:35:09.335Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"6e67a63cb84d46b38324133564831671\",\"cell_num\":17,\"cell_source\":\"def my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:35:09.465Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6e67a63cb84d46b38324133564831671\",\"cell_num\":18,\"cell_source\":\"def my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:35:17.585Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"169fed988ff74243868eb11d9a67e0ed\",\"cell_num\":null,\"cell_source\":\"max_len_text = max(train_features["text"].apply(my_len).max(),\n              validation_features["text"].apply(my_len).max(),\n              test_features["text"].apply(my_len).max())\nmax_len_comment = max(train_features["comment"].apply(my_len).max(),\n              validation_features["comment"].apply(my_len).max(),\n              test_features["comment"].apply(my_len).max())\nmax_len_packages = max(train_features["packages_info"].apply(my_len).max(),\n              validation_features["packages_info"].apply(my_len).max(),\n              test_features["packages_info"].apply(my_len).max())\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:35:17.973Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"9cc202e1df5f45c5976dfef36fd8f678\",\"cell_num\":null,\"cell_source\":\"max_len_text, max_len_comment, max_len_packages\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:36:54.866Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"585bad5103814c92816a98844092d3a3\",\"cell_num\":16,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\ntrain_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\ntrain_features["comment"] = train_features["comment"].apply(my_join)\ntrain_features["text"] = train_features["text"].apply(my_join)\ntrain_features["packages_info"] = train_features["packages_info"].apply(my_join)\n\ntest_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\ntest_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\ntest_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\ntest_features["comment"] = test_features["comment"].apply(my_join)\ntest_features["text"] = test_features["text"].apply(my_join)\ntest_features["packages_info"] = test_features["packages_info"].apply(my_join)\n\nvalidation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\nvalidation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\nvalidation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\nvalidation_features["comment"] = validation_features["comment"].apply(my_join)\nvalidation_features["text"] = validation_features["text"].apply(my_join)\nvalidation_features["packages_info"] = validation_features["packages_info"].apply(my_join)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:36:55.035Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"585bad5103814c92816a98844092d3a3\",\"cell_num\":17,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\ntrain_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\ntrain_features["comment"] = train_features["comment"].apply(my_join)\ntrain_features["text"] = train_features["text"].apply(my_join)\ntrain_features["packages_info"] = train_features["packages_info"].apply(my_join)\n\ntest_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\ntest_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\ntest_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\ntest_features["comment"] = test_features["comment"].apply(my_join)\ntest_features["text"] = test_features["text"].apply(my_join)\ntest_features["packages_info"] = test_features["packages_info"].apply(my_join)\n\nvalidation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\nvalidation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\nvalidation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\nvalidation_features["comment"] = validation_features["comment"].apply(my_join)\nvalidation_features["text"] = validation_features["text"].apply(my_join)\nvalidation_features["packages_info"] = validation_features["packages_info"].apply(my_join)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:37:16.114Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"dbde11af81a34dbcb55a1c6f1467782d\",\"cell_num\":17,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\n# text_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats_fixed = []\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\ntrain_features = train_features.drop(columns=text_feats_fixed+primary_labels)\nvalidation_features = validation_features.drop(columns=text_feats_fixed+primary_labels)\ntest_features = test_features.drop(columns=text_feats_fixed)\n\ntrain_features[text_feats] = train_features[text_feats].applymap(add_small)\ntest_features[text_feats] = test_features[text_feats].applymap(add_small)\nvalidation_features[text_feats] = validation_features[text_feats].applymap(add_small)\n\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:37:16.170Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"deafe10ee598417299226a39f04f09ed\",\"cell_num\":17,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:37:16.441Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"dbde11af81a34dbcb55a1c6f1467782d\",\"cell_num\":18,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\n# text_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats_fixed = []\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\ntrain_features = train_features.drop(columns=text_feats_fixed+primary_labels)\nvalidation_features = validation_features.drop(columns=text_feats_fixed+primary_labels)\ntest_features = test_features.drop(columns=text_feats_fixed)\n\ntrain_features[text_feats] = train_features[text_feats].applymap(add_small)\ntest_features[text_feats] = test_features[text_feats].applymap(add_small)\nvalidation_features[text_feats] = validation_features[text_feats].applymap(add_small)\n\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:37:29.847Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"deafe10ee598417299226a39f04f09ed\",\"cell_num\":18,\"cell_source\":\"pool_train = Pool(train_features.values,\n                  train_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_val = Pool(validation_features.values,\n                  validation_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_test = Pool(test_features.values,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:37:29.892Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"dcdb1ea499a5456c97186d4379178e82\",\"cell_num\":18,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:37:30.160Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"deafe10ee598417299226a39f04f09ed\",\"cell_num\":19,\"cell_source\":\"pool_train = Pool(train_features.values,\n                  train_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_val = Pool(validation_features.values,\n                  validation_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_test = Pool(test_features.values,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:37:37.753Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"dcdb1ea499a5456c97186d4379178e82\",\"cell_num\":19,\"cell_source\":\"catboost_clf = CatBoostClassifier(random_seed=3407, iterations=10,\n                                 loss_function="MultiClass", custom_metric=["F1"])\n\ncatboost_clf.fit(\n    pool_train,\n    eval_set=pool_val\n)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:37:37.806Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"4fe4fdc742fe48b889118e1501cb1200\",\"cell_num\":19,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:38:30.770Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"25fcedd448434701ad4be269fc2ff671\",\"cell_num\":19,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:38:32.685Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"rendered\",\"cell_index\":\"f204d21966364d348320d6e84f91f976\",\"cell_num\":20,\"cell_source\":\"\",\"cell_type\":\"markdown\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:38:32.688Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"f204d21966364d348320d6e84f91f976\",\"cell_num\":20,\"cell_source\":\"\",\"cell_type\":\"markdown\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:38:33.166Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"cell_index\":\"f204d21966364d348320d6e84f91f976\",\"cell_num\":20,\"cell_type\":\"markdown\",\"event\":\"to_markdown\",\"cell_source\":\"\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:38:37.849Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"rendered\",\"cell_index\":\"f204d21966364d348320d6e84f91f976\",\"cell_num\":20,\"cell_source\":\"And optuna\",\"cell_type\":\"markdown\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:39:10.511Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"dcdb1ea499a5456c97186d4379178e82\",\"cell_num\":19,\"cell_source\":\"catboost_clf = CatBoostClassifier(random_seed=3407, iterations=10,\n                                 loss_function="MultiClass", custom_metric=["F1"])\n\ncatboost_clf.fit(\n    pool_train,\n    eval_set=pool_val\n)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":991},{\\"output_type\\":\\"execute_result\\",\\"size\\":69}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:39:15.141Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"4d2c9f4a66af47cfa4e74f866f8183e7\",\"cell_num\":19,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:39:16.930Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"4d2c9f4a66af47cfa4e74f866f8183e7\",\"cell_num\":20,\"cell_source\":\"val_preds = catboost_clf.predict(pool_val)\nf1 = f1_score(pool_val.get_label(), val_preds, average="weighted")\nprint(\\"F1 score on the validation dataset:\\", f1)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:39:17.342Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"4d2c9f4a66af47cfa4e74f866f8183e7\",\"cell_num\":21,\"cell_source\":\"val_preds = catboost_clf.predict(pool_val)\nf1 = f1_score(pool_val.get_label(), val_preds, average="weighted")\nprint(\\"F1 score on the validation dataset:\\", f1)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":58}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:40:01.236Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"dcdb1ea499a5456c97186d4379178e82\",\"cell_num\":19,\"cell_source\":\"catboost_clf = CatBoostClassifier(random_seed=3407, iterations=50,\n                                 loss_function="MultiClass", custom_metric=["F1"])\n\ncatboost_clf.fit(\n    pool_train,\n    eval_set=pool_val\n)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:40:09.950Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"rendered\",\"cell_index\":\"f204d21966364d348320d6e84f91f976\",\"cell_num\":21,\"cell_source\":\"**And optuna**\",\"cell_type\":\"markdown\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:41:45.595Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"2538748083cc4c91a9654136c4ac1f1e\",\"cell_num\":22,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:43:15.546Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"5cf417942b6b4fd58f1a28123ce7f3cb\",\"cell_num\":23,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:43:17.557Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"rendered\",\"cell_index\":\"a7ff62ff219141c98cfc96be2ff8384e\",\"cell_num\":24,\"cell_source\":\"\",\"cell_type\":\"markdown\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:43:17.558Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"a7ff62ff219141c98cfc96be2ff8384e\",\"cell_num\":24,\"cell_source\":\"\",\"cell_type\":\"markdown\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:43:18.199Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"cell_index\":\"a7ff62ff219141c98cfc96be2ff8384e\",\"cell_num\":24,\"cell_type\":\"markdown\",\"event\":\"to_markdown\",\"cell_source\":\"\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:43:31.440Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"rendered\",\"cell_index\":\"a7ff62ff219141c98cfc96be2ff8384e\",\"cell_num\":24,\"cell_source\":\"## What if nvm about text feats\",\"cell_type\":\"markdown\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:43:31.520Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"ef4e001afbff4cbb8c08b41a9f8fb2bb\",\"cell_num\":24,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:43:59.775Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"6b15afd966ad47188fd2674ae6997908\",\"cell_num\":25,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:44:27.382Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"711bfb1314a54bdd8781939e4e9e9870\",\"cell_num\":26,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:45:23.474Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"ad1d20c8946c452e8b62e3de822f53bd\",\"cell_num\":27,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:45:55.949Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"eedb324f942b4df5ba6ea81f9fc441cc\",\"cell_num\":28,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:46:08.153Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"0e4dcb6343784df5bb9aa1256855a3be\",\"cell_num\":29,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:47:07.744Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"dcdb1ea499a5456c97186d4379178e82\",\"cell_num\":27,\"cell_source\":\"catboost_clf = CatBoostClassifier(random_seed=3407, iterations=50,\n                                 loss_function="MultiClass", custom_metric=["F1"])\n\ncatboost_clf.fit(\n    pool_train,\n    eval_set=pool_val\n)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":4821},{\\"output_type\\":\\"execute_result\\",\\"size\\":69}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:47:11.800Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"4d2c9f4a66af47cfa4e74f866f8183e7\",\"cell_num\":20,\"cell_source\":\"val_preds = catboost_clf.predict(pool_val)\nf1 = f1_score(pool_val.get_label(), val_preds, average="weighted")\nprint(\\"F1 score on the validation dataset:\\", f1)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:47:12.400Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"4d2c9f4a66af47cfa4e74f866f8183e7\",\"cell_num\":21,\"cell_source\":\"val_preds = catboost_clf.predict(pool_val)\nf1 = f1_score(pool_val.get_label(), val_preds, average="weighted")\nprint(\\"F1 score on the validation dataset:\\", f1)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":58}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:47:21.875Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"ef4e001afbff4cbb8c08b41a9f8fb2bb\",\"cell_num\":25,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:47:22.334Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"ef4e001afbff4cbb8c08b41a9f8fb2bb\",\"cell_num\":26,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":38}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:47:24.192Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"6b15afd966ad47188fd2674ae6997908\",\"cell_num\":26,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:47:24.436Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6b15afd966ad47188fd2674ae6997908\",\"cell_num\":27,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:47:28.550Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"711bfb1314a54bdd8781939e4e9e9870\",\"cell_num\":27,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\n# text_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats_fixed = []\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\ntrain_features = train_features.drop(columns=text_feats+primary_labels)\nvalidation_features = validation_features.drop(columns=text_feats+primary_labels)\ntest_features = test_features.drop(columns=text_feats)\n\n\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:47:28.725Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"711bfb1314a54bdd8781939e4e9e9870\",\"cell_num\":28,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\n# text_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats_fixed = []\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\ntrain_features = train_features.drop(columns=text_feats+primary_labels)\nvalidation_features = validation_features.drop(columns=text_feats+primary_labels)\ntest_features = test_features.drop(columns=text_feats)\n\n\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:47:31.591Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"ad1d20c8946c452e8b62e3de822f53bd\",\"cell_num\":28,\"cell_source\":\"pool_train = Pool(train_features.values,\n                  train_labels,\n                  cat_features=categorical_indices)\npool_val = Pool(validation_features.values,\n                  validation_labels,\n                  cat_features=categorical_indices)\npool_test = Pool(test_features.values,\n                  cat_features=categorical_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:47:31.773Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"ad1d20c8946c452e8b62e3de822f53bd\",\"cell_num\":29,\"cell_source\":\"pool_train = Pool(train_features.values,\n                  train_labels,\n                  cat_features=categorical_indices)\npool_val = Pool(validation_features.values,\n                  validation_labels,\n                  cat_features=categorical_indices)\npool_test = Pool(test_features.values,\n                  cat_features=categorical_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:47:33.999Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"eedb324f942b4df5ba6ea81f9fc441cc\",\"cell_num\":29,\"cell_source\":\"catboost_clf = CatBoostClassifier(random_seed=3407, iterations=50,\n                                 loss_function="MultiClass", custom_metric=["F1"])\n\ncatboost_clf.fit(\n    pool_train,\n    eval_set=pool_val\n)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:47:42.812Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"eedb324f942b4df5ba6ea81f9fc441cc\",\"cell_num\":30,\"cell_source\":\"catboost_clf = CatBoostClassifier(random_seed=3407, iterations=50,\n                                 loss_function="MultiClass", custom_metric=["F1"])\n\ncatboost_clf.fit(\n    pool_train,\n    eval_set=pool_val\n)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":4782},{\\"output_type\\":\\"execute_result\\",\\"size\\":69}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:47:45.536Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"0e4dcb6343784df5bb9aa1256855a3be\",\"cell_num\":30,\"cell_source\":\"val_preds = catboost_clf.predict(pool_val)\nf1 = f1_score(pool_val.get_label(), val_preds, average="weighted")\nprint(\\"F1 score on the validation dataset:\\", f1)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:47:45.596Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"725c61f8d6f241dc81f841190d488d0d\",\"cell_num\":30,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:47:45.997Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"0e4dcb6343784df5bb9aa1256855a3be\",\"cell_num\":31,\"cell_source\":\"val_preds = catboost_clf.predict(pool_val)\nf1 = f1_score(pool_val.get_label(), val_preds, average="weighted")\nprint(\\"F1 score on the validation dataset:\\", f1)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":58}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:47:54.732Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"eedb324f942b4df5ba6ea81f9fc441cc\",\"cell_num\":29,\"cell_source\":\"catboost_clf = CatBoostClassifier(random_seed=3407, iterations=1000,\n                                 loss_function="MultiClass", custom_metric=["F1"])\n\ncatboost_clf.fit(\n    pool_train,\n    eval_set=pool_val\n)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:49:03.959Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"02f84332b7cb426596984ebb7fbfaead\",\"cell_num\":31,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:54:26.466Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"eedb324f942b4df5ba6ea81f9fc441cc\",\"cell_num\":31,\"cell_source\":\"catboost_clf = CatBoostClassifier(random_seed=3407, iterations=1000,\n                                 loss_function="MultiClass", custom_metric=["F1"])\n\ncatboost_clf.fit(\n    pool_train,\n    eval_set=pool_val\n)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":8787},{\\"output_type\\":\\"stream\\",\\"size\\":8751},{\\"output_type\\":\\"stream\\",\\"size\\":8792},{\\"output_type\\":\\"stream\\",\\"size\\":8766},{\\"output_type\\":\\"stream\\",\\"size\\":8818},{\\"output_type\\":\\"stream\\",\\"size\\":8821},{\\"output_type\\":\\"stream\\",\\"size\\":8788},{\\"output_type\\":\\"stream\\",\\"size\\":8789},{\\"output_type\\":\\"stream\\",\\"size\\":8783},{\\"output_type\\":\\"stream\\",\\"size\\":8806},{\\"output_type\\":\\"stream\\",\\"size\\":8777},{\\"output_type\\":\\"stream\\",\\"size\\":379},{\\"output_type\\":\\"execute_result\\",\\"size\\":69}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:54:29.011Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"0e4dcb6343784df5bb9aa1256855a3be\",\"cell_num\":30,\"cell_source\":\"val_preds = catboost_clf.predict(pool_val)\nf1 = f1_score(pool_val.get_label(), val_preds, average="weighted")\nprint(\\"F1 score on the validation dataset:\\", f1)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:54:29.311Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"0e4dcb6343784df5bb9aa1256855a3be\",\"cell_num\":31,\"cell_source\":\"val_preds = catboost_clf.predict(pool_val)\nf1 = f1_score(pool_val.get_label(), val_preds, average="weighted")\nprint(\\"F1 score on the validation dataset:\\", f1)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":58}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:54:47.704Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"725c61f8d6f241dc81f841190d488d0d\",\"cell_num\":32,\"cell_source\":\"import optuna\n\n\ndef objective(trial):\n    iterations = trial.suggest_int(\\"iterations\\", 100, 1000)\n    depth = trial.suggest_int(\\"depth\\", 4, 12)\n    learning_rate = trial.suggest_float(\\"learning_rate\\", 1e-3, 0.1)\n    l2_leaf_reg = trial.suggest_float(\\"l2_leaf_reg\\", 1, 10)\n\n    # Train the CatBoost model with the suggested hyperparameters\n    catboost_clf = CatBoostClassifier(\n        random_seed=3407,\n        early_stopping_rounds=50,\n        iterations=iterations,\n        depth=depth,\n        learning_rate=learning_rate,\n        l2_leaf_reg=l2_leaf_reg,\n        loss_function=\\"MultiClass\\",\n        custom_metric=[\\"F1\\"],\n        verbose=False,\n    )\n    catboost_clf.fit(pool_train, eval_set=pool_val)\n\n    val_preds = catboost_clf.predict(pool_val)\n\n    # Calculate the F1 score\n    f1 = f1_score(pool_val.get_label(), val_preds, average=\\"weighted\\")\n    print("f1 is", f1)\n\n    return f1\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T16:54:47.704Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"725c61f8d6f241dc81f841190d488d0d\",\"cell_num\":32,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"ModuleNotFoundError\\",\\"evalue\\":\\"No module named "optuna"\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:55:01.316Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"285842e24650406bbb96a8f2afd4e8af\",\"cell_num\":30,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:55:07.247Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"285842e24650406bbb96a8f2afd4e8af\",\"cell_num\":31,\"cell_source\":\"!pip install optuna\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:55:26.850Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"285842e24650406bbb96a8f2afd4e8af\",\"cell_num\":32,\"cell_source\":\"!pip install optuna\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":3419}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:55:41.730Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"285842e24650406bbb96a8f2afd4e8af\",\"cell_num\":null,\"cell_source\":\"!pip install optuna\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:55:44.362Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"725c61f8d6f241dc81f841190d488d0d\",\"cell_num\":31,\"cell_source\":\"import optuna\n\n\ndef objective(trial):\n    iterations = trial.suggest_int(\\"iterations\\", 100, 1000)\n    depth = trial.suggest_int(\\"depth\\", 4, 12)\n    learning_rate = trial.suggest_float(\\"learning_rate\\", 1e-3, 0.1)\n    l2_leaf_reg = trial.suggest_float(\\"l2_leaf_reg\\", 1, 10)\n\n    # Train the CatBoost model with the suggested hyperparameters\n    catboost_clf = CatBoostClassifier(\n        random_seed=3407,\n        early_stopping_rounds=50,\n        iterations=iterations,\n        depth=depth,\n        learning_rate=learning_rate,\n        l2_leaf_reg=l2_leaf_reg,\n        loss_function=\\"MultiClass\\",\n        custom_metric=[\\"F1\\"],\n        verbose=False,\n    )\n    catboost_clf.fit(pool_train, eval_set=pool_val)\n\n    val_preds = catboost_clf.predict(pool_val)\n\n    # Calculate the F1 score\n    f1 = f1_score(pool_val.get_label(), val_preds, average=\\"weighted\\")\n    print("f1 is", f1)\n\n    return f1\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:55:46.832Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"725c61f8d6f241dc81f841190d488d0d\",\"cell_num\":32,\"cell_source\":\"import optuna\n\n\ndef objective(trial):\n    iterations = trial.suggest_int(\\"iterations\\", 100, 1000)\n    depth = trial.suggest_int(\\"depth\\", 4, 12)\n    learning_rate = trial.suggest_float(\\"learning_rate\\", 1e-3, 0.1)\n    l2_leaf_reg = trial.suggest_float(\\"l2_leaf_reg\\", 1, 10)\n\n    # Train the CatBoost model with the suggested hyperparameters\n    catboost_clf = CatBoostClassifier(\n        random_seed=3407,\n        early_stopping_rounds=50,\n        iterations=iterations,\n        depth=depth,\n        learning_rate=learning_rate,\n        l2_leaf_reg=l2_leaf_reg,\n        loss_function=\\"MultiClass\\",\n        custom_metric=[\\"F1\\"],\n        verbose=False,\n    )\n    catboost_clf.fit(pool_train, eval_set=pool_val)\n\n    val_preds = catboost_clf.predict(pool_val)\n\n    # Calculate the F1 score\n    f1 = f1_score(pool_val.get_label(), val_preds, average=\\"weighted\\")\n    print("f1 is", f1)\n\n    return f1\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:56:15.790Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"02f84332b7cb426596984ebb7fbfaead\",\"cell_num\":33,\"cell_source\":\"study = optuna.create_study(direction=\\"maximize\\")\nstudy.optimize(objective, n_trials=50, timeout=3600)\n\nprint(\\"Best hyperparameters:\\", study.best_params)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":1684},{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T16:56:15.790Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"02f84332b7cb426596984ebb7fbfaead\",\"cell_num\":33,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"KeyboardInterrupt\\",\\"evalue\\":\\"\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:56:19.008Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"725c61f8d6f241dc81f841190d488d0d\",\"cell_num\":31,\"cell_source\":\"import optuna\n\n\ndef objective(trial):\n    iterations = trial.suggest_int(\\"iterations\\", 100, 1000)\n    depth = trial.suggest_int(\\"depth\\", 4, 12)\n    learning_rate = trial.suggest_float(\\"learning_rate\\", 1e-3, 0.1)\n    l2_leaf_reg = trial.suggest_float(\\"l2_leaf_reg\\", 1, 10)\n\n    # Train the CatBoost model with the suggested hyperparameters\n    catboost_clf = CatBoostClassifier(\n        random_seed=3407,\n        early_stopping_rounds=50,\n        iterations=iterations,\n        depth=depth,\n        learning_rate=learning_rate,\n        l2_leaf_reg=l2_leaf_reg,\n        loss_function=\\"MultiClass\\",\n        custom_metric=[\\"F1\\"]\n    )\n    catboost_clf.fit(pool_train, eval_set=pool_val)\n\n    val_preds = catboost_clf.predict(pool_val)\n\n    # Calculate the F1 score\n    f1 = f1_score(pool_val.get_label(), val_preds, average=\\"weighted\\")\n    print("f1 is", f1)\n\n    return f1\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T16:56:19.255Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"725c61f8d6f241dc81f841190d488d0d\",\"cell_num\":32,\"cell_source\":\"import optuna\n\n\ndef objective(trial):\n    iterations = trial.suggest_int(\\"iterations\\", 100, 1000)\n    depth = trial.suggest_int(\\"depth\\", 4, 12)\n    learning_rate = trial.suggest_float(\\"learning_rate\\", 1e-3, 0.1)\n    l2_leaf_reg = trial.suggest_float(\\"l2_leaf_reg\\", 1, 10)\n\n    # Train the CatBoost model with the suggested hyperparameters\n    catboost_clf = CatBoostClassifier(\n        random_seed=3407,\n        early_stopping_rounds=50,\n        iterations=iterations,\n        depth=depth,\n        learning_rate=learning_rate,\n        l2_leaf_reg=l2_leaf_reg,\n        loss_function=\\"MultiClass\\",\n        custom_metric=[\\"F1\\"]\n    )\n    catboost_clf.fit(pool_train, eval_set=pool_val)\n\n    val_preds = catboost_clf.predict(pool_val)\n\n    # Calculate the F1 score\n    f1 = f1_score(pool_val.get_label(), val_preds, average=\\"weighted\\")\n    print("f1 is", f1)\n\n    return f1\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:05:39.520Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"02f84332b7cb426596984ebb7fbfaead\",\"cell_num\":22,\"cell_source\":\"study = optuna.create_study(direction=\\"maximize\\")\nstudy.optimize(objective, n_trials=50, timeout=3600)\n\nprint(\\"Best hyperparameters:\\", study.best_params)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":145},{\\"output_type\\":\\"stream\\",\\"size\\":8789},{\\"output_type\\":\\"stream\\",\\"size\\":8763},{\\"output_type\\":\\"stream\\",\\"size\\":537},{\\"output_type\\":\\"stream\\",\\"size\\":273},{\\"output_type\\":\\"stream\\",\\"size\\":8775},{\\"output_type\\":\\"stream\\",\\"size\\":8784},{\\"output_type\\":\\"stream\\",\\"size\\":1433},{\\"output_type\\":\\"stream\\",\\"size\\":276},{\\"output_type\\":\\"stream\\",\\"size\\":8774},{\\"output_type\\":\\"stream\\",\\"size\\":8748},{\\"output_type\\":\\"stream\\",\\"size\\":2393},{\\"output_type\\":\\"stream\\",\\"size\\":275},{\\"output_type\\":\\"stream\\",\\"size\\":870},{\\"output_type\\":\\"stream\\",\\"size\\":1542},{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T17:05:39.520Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"02f84332b7cb426596984ebb7fbfaead\",\"cell_num\":22,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"KeyboardInterrupt\\",\\"evalue\\":\\"\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:06:05.430Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"ce6f508196fa4879828280c945633f21\",\"cell_num\":19,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:06:12.166Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"c0ca04abaac941eb8d1691c3111d24df\",\"cell_num\":14,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:06:13.515Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"c0ca04abaac941eb8d1691c3111d24df\",\"cell_num\":15,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":38}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:06:14.148Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"6e67a63cb84d46b38324133564831671\",\"cell_num\":15,\"cell_source\":\"def my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:06:14.435Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6e67a63cb84d46b38324133564831671\",\"cell_num\":16,\"cell_source\":\"def my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:06:19.331Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"585bad5103814c92816a98844092d3a3\",\"cell_num\":16,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\ntrain_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\ntrain_features["comment"] = train_features["comment"].apply(my_join)\ntrain_features["text"] = train_features["text"].apply(my_join)\ntrain_features["packages_info"] = train_features["packages_info"].apply(my_join)\n\ntest_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\ntest_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\ntest_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\ntest_features["comment"] = test_features["comment"].apply(my_join)\ntest_features["text"] = test_features["text"].apply(my_join)\ntest_features["packages_info"] = test_features["packages_info"].apply(my_join)\n\nvalidation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\nvalidation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\nvalidation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\nvalidation_features["comment"] = validation_features["comment"].apply(my_join)\nvalidation_features["text"] = validation_features["text"].apply(my_join)\nvalidation_features["packages_info"] = validation_features["packages_info"].apply(my_join)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:06:19.645Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"585bad5103814c92816a98844092d3a3\",\"cell_num\":17,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\ntrain_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\ntrain_features["comment"] = train_features["comment"].apply(my_join)\ntrain_features["text"] = train_features["text"].apply(my_join)\ntrain_features["packages_info"] = train_features["packages_info"].apply(my_join)\n\ntest_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\ntest_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\ntest_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\ntest_features["comment"] = test_features["comment"].apply(my_join)\ntest_features["text"] = test_features["text"].apply(my_join)\ntest_features["packages_info"] = test_features["packages_info"].apply(my_join)\n\nvalidation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\nvalidation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\nvalidation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\nvalidation_features["comment"] = validation_features["comment"].apply(my_join)\nvalidation_features["text"] = validation_features["text"].apply(my_join)\nvalidation_features["packages_info"] = validation_features["packages_info"].apply(my_join)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:06:23.003Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"dbde11af81a34dbcb55a1c6f1467782d\",\"cell_num\":17,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\n# text_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats_fixed = []\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\ntrain_features = train_features.drop(columns=text_feats_fixed+primary_labels)\nvalidation_features = validation_features.drop(columns=text_feats_fixed+primary_labels)\ntest_features = test_features.drop(columns=text_feats_fixed)\n\n# train_features[text_feats] = train_features[text_feats].applymap(add_small)\n# test_features[text_feats] = test_features[text_feats].applymap(add_small)\n# validation_features[text_feats] = validation_features[text_feats].applymap(add_small)\n\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:06:23.237Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"dbde11af81a34dbcb55a1c6f1467782d\",\"cell_num\":18,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\n# text_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats_fixed = []\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\ntrain_features = train_features.drop(columns=text_feats_fixed+primary_labels)\nvalidation_features = validation_features.drop(columns=text_feats_fixed+primary_labels)\ntest_features = test_features.drop(columns=text_feats_fixed)\n\n# train_features[text_feats] = train_features[text_feats].applymap(add_small)\n# test_features[text_feats] = test_features[text_feats].applymap(add_small)\n# validation_features[text_feats] = validation_features[text_feats].applymap(add_small)\n\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:06:24.770Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"deafe10ee598417299226a39f04f09ed\",\"cell_num\":18,\"cell_source\":\"pool_train = Pool(train_features.values,\n                  train_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_val = Pool(validation_features.values,\n                  validation_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_test = Pool(test_features.values,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:06:25.060Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"deafe10ee598417299226a39f04f09ed\",\"cell_num\":19,\"cell_source\":\"pool_train = Pool(train_features.values,\n                  train_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_val = Pool(validation_features.values,\n                  validation_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_test = Pool(test_features.values,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:07:08.922Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"8b0e8fb486814a9f98079d49008b1b7a\",\"cell_num\":18,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:07:11.335Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"8b0e8fb486814a9f98079d49008b1b7a\",\"cell_num\":19,\"cell_source\":\"print()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:07:11.582Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"8b0e8fb486814a9f98079d49008b1b7a\",\"cell_num\":20,\"cell_source\":\"print()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":4}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:07:14.398Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"8b0e8fb486814a9f98079d49008b1b7a\",\"cell_num\":null,\"cell_source\":\"print()\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:07:29.281Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"kernel_restarting\",\"cell_index\":\"\",\"cell_num\":21,\"cell_source\":\"\",\"cell_type\":\"\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:08:42.728Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"kernel_restarting\",\"cell_index\":\"\",\"cell_num\":20,\"cell_source\":\"\",\"cell_type\":\"\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:08:45.709Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"d22ae43fa27a4a3f86efb141048b7e61\",\"cell_num\":0,\"cell_source\":\"# # Do not forget to check if your notebook log collection plugin is working\nfrom mining_extension import check_logging\ncheck_logging(\\"http://3.249.245.244:9999\\")\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:08:46.574Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":1,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:08:46.820Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"d22ae43fa27a4a3f86efb141048b7e61\",\"cell_num\":2,\"cell_source\":\"# # Do not forget to check if your notebook log collection plugin is working\nfrom mining_extension import check_logging\ncheck_logging(\\"http://3.249.245.244:9999\\")\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":23}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:08:48.182Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":2,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":38}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:08:52.935Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"c0ca04abaac941eb8d1691c3111d24df\",\"cell_num\":14,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:08:53.164Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"c0ca04abaac941eb8d1691c3111d24df\",\"cell_num\":15,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":38}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:08:53.695Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"6e67a63cb84d46b38324133564831671\",\"cell_num\":15,\"cell_source\":\"def my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:08:53.943Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6e67a63cb84d46b38324133564831671\",\"cell_num\":16,\"cell_source\":\"def my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:08:55.630Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"585bad5103814c92816a98844092d3a3\",\"cell_num\":16,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\ntrain_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\ntrain_features["comment"] = train_features["comment"].apply(my_join)\ntrain_features["text"] = train_features["text"].apply(my_join)\ntrain_features["packages_info"] = train_features["packages_info"].apply(my_join)\n\ntest_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\ntest_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\ntest_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\ntest_features["comment"] = test_features["comment"].apply(my_join)\ntest_features["text"] = test_features["text"].apply(my_join)\ntest_features["packages_info"] = test_features["packages_info"].apply(my_join)\n\nvalidation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\nvalidation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\nvalidation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\nvalidation_features["comment"] = validation_features["comment"].apply(my_join)\nvalidation_features["text"] = validation_features["text"].apply(my_join)\nvalidation_features["packages_info"] = validation_features["packages_info"].apply(my_join)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:08:55.885Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"585bad5103814c92816a98844092d3a3\",\"cell_num\":17,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\ntrain_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\ntrain_features["comment"] = train_features["comment"].apply(my_join)\ntrain_features["text"] = train_features["text"].apply(my_join)\ntrain_features["packages_info"] = train_features["packages_info"].apply(my_join)\n\ntest_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\ntest_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\ntest_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\ntest_features["comment"] = test_features["comment"].apply(my_join)\ntest_features["text"] = test_features["text"].apply(my_join)\ntest_features["packages_info"] = test_features["packages_info"].apply(my_join)\n\nvalidation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\nvalidation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\nvalidation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\nvalidation_features["comment"] = validation_features["comment"].apply(my_join)\nvalidation_features["text"] = validation_features["text"].apply(my_join)\nvalidation_features["packages_info"] = validation_features["packages_info"].apply(my_join)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:08:57.209Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"dbde11af81a34dbcb55a1c6f1467782d\",\"cell_num\":17,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\n# text_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats_fixed = []\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\ntrain_features = train_features.drop(columns=text_feats_fixed+primary_labels)\nvalidation_features = validation_features.drop(columns=text_feats_fixed+primary_labels)\ntest_features = test_features.drop(columns=text_feats_fixed)\n\n# train_features[text_feats] = train_features[text_feats].applymap(add_small)\n# test_features[text_feats] = test_features[text_feats].applymap(add_small)\n# validation_features[text_feats] = validation_features[text_feats].applymap(add_small)\n\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:08:57.424Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"dbde11af81a34dbcb55a1c6f1467782d\",\"cell_num\":18,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\n# text_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats_fixed = []\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\ntrain_features = train_features.drop(columns=text_feats_fixed+primary_labels)\nvalidation_features = validation_features.drop(columns=text_feats_fixed+primary_labels)\ntest_features = test_features.drop(columns=text_feats_fixed)\n\n# train_features[text_feats] = train_features[text_feats].applymap(add_small)\n# test_features[text_feats] = test_features[text_feats].applymap(add_small)\n# validation_features[text_feats] = validation_features[text_feats].applymap(add_small)\n\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:08:59.501Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"deafe10ee598417299226a39f04f09ed\",\"cell_num\":19,\"cell_source\":\"pool_train = Pool(train_features.values,\n                  train_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_val = Pool(validation_features.values,\n                  validation_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_test = Pool(test_features.values,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T17:08:59.501Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"deafe10ee598417299226a39f04f09ed\",\"cell_num\":19,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"NameError\\",\\"evalue\\":\\"name "Pool" is not defined\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:09:12.351Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"deafe10ee598417299226a39f04f09ed\",\"cell_num\":18,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\npool_train = Pool(train_features.values,\n                  train_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_val = Pool(validation_features.values,\n                  validation_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_test = Pool(test_features.values,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:09:14.584Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"deafe10ee598417299226a39f04f09ed\",\"cell_num\":19,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\npool_train = Pool(train_features.values,\n                  train_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_val = Pool(validation_features.values,\n                  validation_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_test = Pool(test_features.values,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:09:46.412Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"kernel_restarting\",\"cell_index\":\"\",\"cell_num\":21,\"cell_source\":\"\",\"cell_type\":\"\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:10:14.866Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"d22ae43fa27a4a3f86efb141048b7e61\",\"cell_num\":0,\"cell_source\":\"# # Do not forget to check if your notebook log collection plugin is working\nfrom mining_extension import check_logging\ncheck_logging(\\"http://3.249.245.244:9999\\")\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:10:15.241Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"d22ae43fa27a4a3f86efb141048b7e61\",\"cell_num\":1,\"cell_source\":\"# # Do not forget to check if your notebook log collection plugin is working\nfrom mining_extension import check_logging\ncheck_logging(\\"http://3.249.245.244:9999\\")\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":23}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:10:15.440Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":1,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:10:16.543Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"4a9ec462b11b495ca439820377c646ea\",\"cell_num\":2,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":38}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:10:23.147Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"ef4e001afbff4cbb8c08b41a9f8fb2bb\",\"cell_num\":26,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:10:23.385Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"ef4e001afbff4cbb8c08b41a9f8fb2bb\",\"cell_num\":27,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":38}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:10:24.435Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"6b15afd966ad47188fd2674ae6997908\",\"cell_num\":27,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:10:24.659Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6b15afd966ad47188fd2674ae6997908\",\"cell_num\":28,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:10:24.664Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"711bfb1314a54bdd8781939e4e9e9870\",\"cell_num\":28,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\n# text_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats_fixed = []\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\ntrain_features = train_features.drop(columns=text_feats+primary_labels)\nvalidation_features = validation_features.drop(columns=text_feats+primary_labels)\ntest_features = test_features.drop(columns=text_feats)\n\n\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:10:24.891Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"711bfb1314a54bdd8781939e4e9e9870\",\"cell_num\":29,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\n# text_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats_fixed = []\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\ntrain_features = train_features.drop(columns=text_feats+primary_labels)\nvalidation_features = validation_features.drop(columns=text_feats+primary_labels)\ntest_features = test_features.drop(columns=text_feats)\n\n\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:10:28.939Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"ad1d20c8946c452e8b62e3de822f53bd\",\"cell_num\":30,\"cell_source\":\"pool_train = Pool(train_features.values,\n                  train_labels,\n                  cat_features=categorical_indices)\npool_val = Pool(validation_features.values,\n                  validation_labels,\n                  cat_features=categorical_indices)\npool_test = Pool(test_features.values,\n                  cat_features=categorical_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T17:10:28.939Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"ad1d20c8946c452e8b62e3de822f53bd\",\"cell_num\":30,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"NameError\\",\\"evalue\\":\\"name "Pool" is not defined\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:10:45.865Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"c0ca04abaac941eb8d1691c3111d24df\",\"cell_num\":14,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:10:46.109Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"c0ca04abaac941eb8d1691c3111d24df\",\"cell_num\":15,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":38}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:10:46.428Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"6e67a63cb84d46b38324133564831671\",\"cell_num\":15,\"cell_source\":\"def my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:10:46.746Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"6e67a63cb84d46b38324133564831671\",\"cell_num\":16,\"cell_source\":\"def my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:10:47.689Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"585bad5103814c92816a98844092d3a3\",\"cell_num\":16,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\ntrain_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\ntrain_features["comment"] = train_features["comment"].apply(my_join)\ntrain_features["text"] = train_features["text"].apply(my_join)\ntrain_features["packages_info"] = train_features["packages_info"].apply(my_join)\n\ntest_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\ntest_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\ntest_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\ntest_features["comment"] = test_features["comment"].apply(my_join)\ntest_features["text"] = test_features["text"].apply(my_join)\ntest_features["packages_info"] = test_features["packages_info"].apply(my_join)\n\nvalidation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\nvalidation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\nvalidation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\nvalidation_features["comment"] = validation_features["comment"].apply(my_join)\nvalidation_features["text"] = validation_features["text"].apply(my_join)\nvalidation_features["packages_info"] = validation_features["packages_info"].apply(my_join)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:10:47.913Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"585bad5103814c92816a98844092d3a3\",\"cell_num\":17,\"cell_source\":\"train_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\ntrain_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\ntrain_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\ntrain_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\ntrain_features["comment"] = train_features["comment"].apply(my_join)\ntrain_features["text"] = train_features["text"].apply(my_join)\ntrain_features["packages_info"] = train_features["packages_info"].apply(my_join)\n\ntest_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\ntest_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\ntest_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\ntest_features["comment"] = test_features["comment"].apply(my_join)\ntest_features["text"] = test_features["text"].apply(my_join)\ntest_features["packages_info"] = test_features["packages_info"].apply(my_join)\n\nvalidation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\nvalidation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\nvalidation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\nvalidation_features["comment"] = validation_features["comment"].apply(my_join)\nvalidation_features["text"] = validation_features["text"].apply(my_join)\nvalidation_features["packages_info"] = validation_features["packages_info"].apply(my_join)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:10:48.266Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"dbde11af81a34dbcb55a1c6f1467782d\",\"cell_num\":17,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\n# text_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats_fixed = []\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\ntrain_features = train_features.drop(columns=text_feats_fixed+primary_labels)\nvalidation_features = validation_features.drop(columns=text_feats_fixed+primary_labels)\ntest_features = test_features.drop(columns=text_feats_fixed)\n\n# train_features[text_feats] = train_features[text_feats].applymap(add_small)\n# test_features[text_feats] = test_features[text_feats].applymap(add_small)\n# validation_features[text_feats] = validation_features[text_feats].applymap(add_small)\n\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:10:48.484Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"dbde11af81a34dbcb55a1c6f1467782d\",\"cell_num\":18,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\n# text_feats_fixed = ["text", "comment", "packages_info"]\ntext_feats_fixed = []\ntext_feats = [column for column in train_features.columns if column not in categorical_feats and column \n             not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\ntrain_features = train_features.drop(columns=text_feats_fixed+primary_labels)\nvalidation_features = validation_features.drop(columns=text_feats_fixed+primary_labels)\ntest_features = test_features.drop(columns=text_feats_fixed)\n\n# train_features[text_feats] = train_features[text_feats].applymap(add_small)\n# test_features[text_feats] = test_features[text_feats].applymap(add_small)\n# validation_features[text_feats] = validation_features[text_feats].applymap(add_small)\n\ncategorical_indices = [train_features.columns.get_loc(feature) for feature in categorical_feats]\ntext_indices = [train_features.columns.get_loc(feature) for feature in text_feats]\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:10:50.027Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"deafe10ee598417299226a39f04f09ed\",\"cell_num\":18,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\npool_train = Pool(train_features.values,\n                  train_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_val = Pool(validation_features.values,\n                  validation_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_test = Pool(test_features.values,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:10:52.020Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"deafe10ee598417299226a39f04f09ed\",\"cell_num\":19,\"cell_source\":\"from catboost import CatBoostClassifier, Pool\nfrom sklearn.metrics import f1_score\n\n\npool_train = Pool(train_features.values,\n                  train_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_val = Pool(validation_features.values,\n                  validation_labels,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\npool_test = Pool(test_features.values,\n                  cat_features=categorical_indices,\n                  text_features=text_indices)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:10:57.579Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"ce6f508196fa4879828280c945633f21\",\"cell_num\":21,\"cell_source\":\"catboost_clf = CatBoostClassifier(random_seed=3407, iterations=50,\n                                 loss_function="MultiClass", custom_metric=["F1"],\n        text_processing={\n            \\"feature_processing\\": {\n                \\"default\\": [\n                    {\n                        \\"dictionaries_names\\": [\\"Unigram\\"],\n                        \\"feature_calcers\\": [\\"TFIDF\\"],\n                    },\n                ],\n            },\n        },)\n\ncatboost_clf.fit(\n    pool_train,\n    eval_set=pool_val\n)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T17:10:57.579Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"ce6f508196fa4879828280c945633f21\",\"cell_num\":21,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"CatBoostError\\",\\"evalue\\":\\"catboost/private/libs/options/text_processing_options.cpp:146: Unknown feature estimator type TFIDF\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:10:57.581Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"ce6f508196fa4879828280c945633f21\",\"cell_num\":21,\"cell_source\":\"catboost_clf = CatBoostClassifier(random_seed=3407, iterations=50,\n                                 loss_function="MultiClass", custom_metric=["F1"],\n        text_processing={\n            \\"feature_processing\\": {\n                \\"default\\": [\n                    {\n                        \\"dictionaries_names\\": [\\"Unigram\\"],\n                        \\"feature_calcers\\": [\\"TFIDF\\"],\n                    },\n                ],\n            },\n        },)\n\ncatboost_clf.fit(\n    pool_train,\n    eval_set=pool_val\n)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T17:10:57.581Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"ce6f508196fa4879828280c945633f21\",\"cell_num\":21,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"CatBoostError\\",\\"evalue\\":\\"catboost/private/libs/options/text_processing_options.cpp:146: Unknown feature estimator type TFIDF\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:10:57.584Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"ce6f508196fa4879828280c945633f21\",\"cell_num\":21,\"cell_source\":\"catboost_clf = CatBoostClassifier(random_seed=3407, iterations=50,\n                                 loss_function="MultiClass", custom_metric=["F1"],\n        text_processing={\n            \\"feature_processing\\": {\n                \\"default\\": [\n                    {\n                        \\"dictionaries_names\\": [\\"Unigram\\"],\n                        \\"feature_calcers\\": [\\"TFIDF\\"],\n                    },\n                ],\n            },\n        },)\n\ncatboost_clf.fit(\n    pool_train,\n    eval_set=pool_val\n)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T17:10:57.584Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"ce6f508196fa4879828280c945633f21\",\"cell_num\":21,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"CatBoostError\\",\\"evalue\\":\\"catboost/private/libs/options/text_processing_options.cpp:146: Unknown feature estimator type TFIDF\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:11:54.702Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"ce6f508196fa4879828280c945633f21\",\"cell_num\":null,\"cell_source\":\"catboost_clf = CatBoostClassifier(random_seed=3407, iterations=50,\n                                 loss_function="MultiClass", custom_metric=["F1"])\n\ncatboost_clf.fit(\n    pool_train,\n    eval_set=pool_val\n)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:11:56.405Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"d8ffec31c9cd4e5fb2a970b6b5409bf1\",\"cell_num\":20,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:11:57.729Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"d8ffec31c9cd4e5fb2a970b6b5409bf1\",\"cell_num\":21,\"cell_source\":\"catboost_clf = CatBoostClassifier(random_seed=3407, iterations=50,\n                                 loss_function="MultiClass", custom_metric=["F1"])\n\ncatboost_clf.fit(\n    pool_train,\n    eval_set=pool_val\n)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:12:01.397Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"ea288e5833604847811d0ccc518fc1d3\",\"cell_num\":21,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:19:02.569Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"rendered\",\"cell_index\":\"06f4e54b714b43c5b03a2dc40e403159\",\"cell_num\":35,\"cell_source\":\"\",\"cell_type\":\"markdown\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:19:02.576Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"06f4e54b714b43c5b03a2dc40e403159\",\"cell_num\":35,\"cell_source\":\"\",\"cell_type\":\"markdown\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:19:03.662Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"cell_index\":\"06f4e54b714b43c5b03a2dc40e403159\",\"cell_num\":35,\"cell_type\":\"markdown\",\"event\":\"to_markdown\",\"cell_source\":\"\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:19:11.296Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"rendered\",\"cell_index\":\"06f4e54b714b43c5b03a2dc40e403159\",\"cell_num\":35,\"cell_source\":\"## TF-IDF\",\"cell_type\":\"markdown\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:19:11.573Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"9dc63e92a97741bb9bac81c699f2562c\",\"cell_num\":35,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:19:18.242Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"d8ffec31c9cd4e5fb2a970b6b5409bf1\",\"cell_num\":36,\"cell_source\":\"catboost_clf = CatBoostClassifier(random_seed=3407, iterations=50,\n                                 loss_function="MultiClass", custom_metric=["F1"])\n\ncatboost_clf.fit(\n    pool_train,\n    eval_set=pool_val\n)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":4828},{\\"output_type\\":\\"execute_result\\",\\"size\\":69}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:19:36.065Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"ea288e5833604847811d0ccc518fc1d3\",\"cell_num\":22,\"cell_source\":\"val_preds = catboost_clf.predict(pool_val)\nf1 = f1_score(pool_val.get_label(), val_preds, average="weighted")\nprint(\\"F1 score on the validation dataset:\\", f1)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:19:36.441Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"ea288e5833604847811d0ccc518fc1d3\",\"cell_num\":23,\"cell_source\":\"val_preds = catboost_clf.predict(pool_val)\nf1 = f1_score(pool_val.get_label(), val_preds, average="weighted")\nprint(\\"F1 score on the validation dataset:\\", f1)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":58}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:20:01.468Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"9dc63e92a97741bb9bac81c699f2562c\",\"cell_num\":36,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:20:01.503Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"d8d7669ae80f4fb5bb6b13ef4c6b52e8\",\"cell_num\":36,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:20:02.204Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"9dc63e92a97741bb9bac81c699f2562c\",\"cell_num\":37,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":38}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:20:12.769Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"d8d7669ae80f4fb5bb6b13ef4c6b52e8\",\"cell_num\":37,\"cell_source\":\"def my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:20:12.809Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"9fa48c6f275c48b1b8ed0fef085fdcfc\",\"cell_num\":37,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:20:13.390Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"d8d7669ae80f4fb5bb6b13ef4c6b52e8\",\"cell_num\":38,\"cell_source\":\"def my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:21:36.039Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"9fa48c6f275c48b1b8ed0fef085fdcfc\",\"cell_num\":38,\"cell_source\":\"from sklearn.feature_extraction.text import TfidfVectorizer\n\n\ntrain_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\nvectorizer = TfidfVectorizer()\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n# train_features["comment"] = train_features["comment"].apply(my_join)\n# train_features["text"] = train_features["text"].apply(my_join)\n# train_features["packages_info"] = train_features["packages_info"].apply(my_join)\n\n# test_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\n# test_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\n# test_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\n# test_features["comment"] = test_features["comment"].apply(my_join)\n# test_features["text"] = test_features["text"].apply(my_join)\n# test_features["packages_info"] = test_features["packages_info"].apply(my_join)\n\n# validation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\n# validation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\n# validation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n# validation_features["comment"] = validation_features["comment"].apply(my_join)\n# validation_features["text"] = validation_features["text"].apply(my_join)\n# validation_features["packages_info"] = validation_features["packages_info"].apply(my_join)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:21:36.078Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"bd62600ff7f94cacaede3bf5eee9e104\",\"cell_num\":38,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:21:36.629Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"9fa48c6f275c48b1b8ed0fef085fdcfc\",\"cell_num\":39,\"cell_source\":\"from sklearn.feature_extraction.text import TfidfVectorizer\n\n\ntrain_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\nvectorizer = TfidfVectorizer()\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n# train_features["comment"] = train_features["comment"].apply(my_join)\n# train_features["text"] = train_features["text"].apply(my_join)\n# train_features["packages_info"] = train_features["packages_info"].apply(my_join)\n\n# test_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\n# test_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\n# test_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\n# test_features["comment"] = test_features["comment"].apply(my_join)\n# test_features["text"] = test_features["text"].apply(my_join)\n# test_features["packages_info"] = test_features["packages_info"].apply(my_join)\n\n# validation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\n# validation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\n# validation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n# validation_features["comment"] = validation_features["comment"].apply(my_join)\n# validation_features["text"] = validation_features["text"].apply(my_join)\n# validation_features["packages_info"] = validation_features["packages_info"].apply(my_join)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:21:48.989Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"bd62600ff7f94cacaede3bf5eee9e104\",\"cell_num\":40,\"cell_source\":\"vectorizer.fit_transform(train_features["text"])\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T17:21:48.989Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"bd62600ff7f94cacaede3bf5eee9e104\",\"cell_num\":40,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"AttributeError\\",\\"evalue\\":\\""list" object has no attribute "lower"\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:22:04.796Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"bd62600ff7f94cacaede3bf5eee9e104\",\"cell_num\":39,\"cell_source\":\"vectorizer.fit_transform(train_features["text"].apply(my_join))\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:22:05.050Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"bd62600ff7f94cacaede3bf5eee9e104\",\"cell_num\":40,\"cell_source\":\"vectorizer.fit_transform(train_features["text"].apply(my_join))\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":139}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:22:44.054Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"bd62600ff7f94cacaede3bf5eee9e104\",\"cell_num\":40,\"cell_source\":\"train_features["kewk"] = vectorizer.fit_transform(train_features["text"].apply(my_join))\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T17:22:44.054Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"bd62600ff7f94cacaede3bf5eee9e104\",\"cell_num\":40,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"TypeError\\",\\"evalue\\":\\"sparse matrix length is ambiguous; use getnnz() or shape[0]\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:25:57.650Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"30b3e669bfb641da802ce344b63c5861\",\"cell_num\":38,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:27:34.189Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"30b3e669bfb641da802ce344b63c5861\",\"cell_num\":40,\"cell_source\":\"categorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\n# text_feats_fixed = []\n# text_feats = [column for column in train_features.columns if column not in categorical_feats and column \n#              not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\n\ntrain_features = train_features[categorical_feats + num_feats]\nnon_text_sparse = csr_matrix(pd.get_dummies(train_features, sparse=True).values)\ncombined_features = hstack([non_text_sparse, tfidf_features])\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T17:27:34.189Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"30b3e669bfb641da802ce344b63c5861\",\"cell_num\":40,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"NameError\\",\\"evalue\\":\\"name "csr_matrix" is not defined\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:27:44.157Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"30b3e669bfb641da802ce344b63c5861\",\"cell_num\":40,\"cell_source\":\"from scipy.sparse import csr_matrix, hstack\n\n\ncategorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\n# text_feats_fixed = []\n# text_feats = [column for column in train_features.columns if column not in categorical_feats and column \n#              not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\n\ntrain_features = train_features[categorical_feats + num_feats]\nnon_text_sparse = csr_matrix(pd.get_dummies(train_features, sparse=True).values)\ncombined_features = hstack([non_text_sparse, tfidf_features])\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T17:27:44.157Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"30b3e669bfb641da802ce344b63c5861\",\"cell_num\":40,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"NameError\\",\\"evalue\\":\\"name "tfidf_features" is not defined\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:27:53.530Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"30b3e669bfb641da802ce344b63c5861\",\"cell_num\":40,\"cell_source\":\"from scipy.sparse import csr_matrix, hstack\n\n\ncategorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\n# text_feats_fixed = []\n# text_feats = [column for column in train_features.columns if column not in categorical_feats and column \n#              not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\ntfidf_features = vectorizer.fit_transform(train_features["text"])\ntrain_features = train_features[categorical_feats + num_feats]\nnon_text_sparse = csr_matrix(pd.get_dummies(train_features, sparse=True).values)\ncombined_features = hstack([non_text_sparse, tfidf_features])\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T17:27:53.530Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"30b3e669bfb641da802ce344b63c5861\",\"cell_num\":40,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"KeyError\\",\\"evalue\\":\\""text"\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:28:05.492Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"9dc63e92a97741bb9bac81c699f2562c\",\"cell_num\":36,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:28:05.806Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"9dc63e92a97741bb9bac81c699f2562c\",\"cell_num\":37,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":38}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:28:12.666Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"9fa48c6f275c48b1b8ed0fef085fdcfc\",\"cell_num\":38,\"cell_source\":\"from sklearn.feature_extraction.text import TfidfVectorizer\n\n\ntrain_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\nvectorizer = TfidfVectorizer()\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n# train_features["comment"] = train_features["comment"].apply(my_join)\n# train_features["text"] = train_features["text"].apply(my_join)\n# train_features["packages_info"] = train_features["packages_info"].apply(my_join)\n\n# test_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\n# test_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\n# test_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\n# test_features["comment"] = test_features["comment"].apply(my_join)\n# test_features["text"] = test_features["text"].apply(my_join)\n# test_features["packages_info"] = test_features["packages_info"].apply(my_join)\n\n# validation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\n# validation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\n# validation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n# validation_features["comment"] = validation_features["comment"].apply(my_join)\n# validation_features["text"] = validation_features["text"].apply(my_join)\n# validation_features["packages_info"] = validation_features["packages_info"].apply(my_join)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:28:12.976Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"9fa48c6f275c48b1b8ed0fef085fdcfc\",\"cell_num\":39,\"cell_source\":\"from sklearn.feature_extraction.text import TfidfVectorizer\n\n\ntrain_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\nvectorizer = TfidfVectorizer()\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n# train_features["comment"] = train_features["comment"].apply(my_join)\n# train_features["text"] = train_features["text"].apply(my_join)\n# train_features["packages_info"] = train_features["packages_info"].apply(my_join)\n\n# test_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\n# test_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\n# test_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\n# test_features["comment"] = test_features["comment"].apply(my_join)\n# test_features["text"] = test_features["text"].apply(my_join)\n# test_features["packages_info"] = test_features["packages_info"].apply(my_join)\n\n# validation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\n# validation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\n# validation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n# validation_features["comment"] = validation_features["comment"].apply(my_join)\n# validation_features["text"] = validation_features["text"].apply(my_join)\n# validation_features["packages_info"] = validation_features["packages_info"].apply(my_join)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:28:14.899Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"30b3e669bfb641da802ce344b63c5861\",\"cell_num\":40,\"cell_source\":\"from scipy.sparse import csr_matrix, hstack\n\n\ncategorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\n# text_feats_fixed = []\n# text_feats = [column for column in train_features.columns if column not in categorical_feats and column \n#              not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\ntfidf_features = vectorizer.fit_transform(train_features["text"])\ntrain_features = train_features[categorical_feats + num_feats]\nnon_text_sparse = csr_matrix(pd.get_dummies(train_features, sparse=True).values)\ncombined_features = hstack([non_text_sparse, tfidf_features])\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T17:28:14.899Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"30b3e669bfb641da802ce344b63c5861\",\"cell_num\":40,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"AttributeError\\",\\"evalue\\":\\""list" object has no attribute "lower"\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:28:44.011Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"30b3e669bfb641da802ce344b63c5861\",\"cell_num\":39,\"cell_source\":\"from scipy.sparse import csr_matrix, hstack\n\n\ncategorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\n# text_feats_fixed = []\n# text_feats = [column for column in train_features.columns if column not in categorical_feats and column \n#              not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\ntfidf_features = vectorizer.fit_transform(train_features["text"].apply(my_join))\ntrain_features = train_features[categorical_feats + num_feats]\nnon_text_sparse = csr_matrix(pd.get_dummies(train_features, sparse=True).values)\ncombined_features = hstack([non_text_sparse, tfidf_features])\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:28:44.526Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"30b3e669bfb641da802ce344b63c5861\",\"cell_num\":40,\"cell_source\":\"from scipy.sparse import csr_matrix, hstack\n\n\ncategorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\n# text_feats_fixed = []\n# text_feats = [column for column in train_features.columns if column not in categorical_feats and column \n#              not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\ntfidf_features = vectorizer.fit_transform(train_features["text"].apply(my_join))\ntrain_features = train_features[categorical_feats + num_feats]\nnon_text_sparse = csr_matrix(pd.get_dummies(train_features, sparse=True).values)\ncombined_features = hstack([non_text_sparse, tfidf_features])\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:28:49.275Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"delete\",\"cell_index\":\"bd62600ff7f94cacaede3bf5eee9e104\",\"cell_num\":null,\"cell_source\":\"tfidf_features = vectorizer.fit_transform(train_features["text"])\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:30:12.217Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"9dc63e92a97741bb9bac81c699f2562c\",\"cell_num\":36,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:30:12.554Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"9dc63e92a97741bb9bac81c699f2562c\",\"cell_num\":37,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":38}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:30:14.644Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"9fa48c6f275c48b1b8ed0fef085fdcfc\",\"cell_num\":38,\"cell_source\":\"from sklearn.feature_extraction.text import TfidfVectorizer\n\n\ntrain_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\nvectorizer = TfidfVectorizer()\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n# train_features["comment"] = train_features["comment"].apply(my_join)\n# train_features["text"] = train_features["text"].apply(my_join)\n# train_features["packages_info"] = train_features["packages_info"].apply(my_join)\n\n# test_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\n# test_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\n# test_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\n# test_features["comment"] = test_features["comment"].apply(my_join)\n# test_features["text"] = test_features["text"].apply(my_join)\n# test_features["packages_info"] = test_features["packages_info"].apply(my_join)\n\n# validation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\n# validation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\n# validation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n# validation_features["comment"] = validation_features["comment"].apply(my_join)\n# validation_features["text"] = validation_features["text"].apply(my_join)\n# validation_features["packages_info"] = validation_features["packages_info"].apply(my_join)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:30:14.954Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"9fa48c6f275c48b1b8ed0fef085fdcfc\",\"cell_num\":39,\"cell_source\":\"from sklearn.feature_extraction.text import TfidfVectorizer\n\n\ntrain_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\nvectorizer = TfidfVectorizer()\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n# train_features["comment"] = train_features["comment"].apply(my_join)\n# train_features["text"] = train_features["text"].apply(my_join)\n# train_features["packages_info"] = train_features["packages_info"].apply(my_join)\n\n# test_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\n# test_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\n# test_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\n# test_features["comment"] = test_features["comment"].apply(my_join)\n# test_features["text"] = test_features["text"].apply(my_join)\n# test_features["packages_info"] = test_features["packages_info"].apply(my_join)\n\n# validation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\n# validation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\n# validation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n# validation_features["comment"] = validation_features["comment"].apply(my_join)\n# validation_features["text"] = validation_features["text"].apply(my_join)\n# validation_features["packages_info"] = validation_features["packages_info"].apply(my_join)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:30:17.574Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"30b3e669bfb641da802ce344b63c5861\",\"cell_num\":40,\"cell_source\":\"from scipy.sparse import csr_matrix, hstack\n\n\ncategorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\n# text_feats_fixed = []\n# text_feats = [column for column in train_features.columns if column not in categorical_feats and column \n#              not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\ntfidf_features = vectorizer.fit_transform(train_features["text"].apply(my_join))\ntrain_features = train_features[categorical_feats + num_feats]\nnon_text_sparse = csr_matrix(pd.get_dummies(train_features, sparse=True).values)\ntrain_features = hstack([non_text_sparse, tfidf_features])\n\ntfidf_features = vectorizer.fit_transform(test_features["text"].apply(my_join))\ntest_features = test_features[categorical_feats + num_feats]\nnon_text_sparse = csr_matrix(pd.get_dummies(test_features, sparse=True).values)\ntest_features = hstack([non_text_sparse, tfidf_features])\n\ntfidf_features = vectorizer.fit_transform(validation_features["text"].apply(my_join))\nvalidation_features = train_features[categorical_feats + num_feats]\nnon_text_sparse = csr_matrix(pd.get_dummies(validation_features, sparse=True).values)\nvalidation_features = hstack([non_text_sparse, tfidf_features])\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T17:30:17.574Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"30b3e669bfb641da802ce344b63c5861\",\"cell_num\":40,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"UFuncTypeError\\",\\"evalue\\":\\"ufunc "maximum" did not contain a loop with signature matching types (dtype("<U15"), dtype("<U15")) -> None\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:30:27.778Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"30b3e669bfb641da802ce344b63c5861\",\"cell_num\":39,\"cell_source\":\"from scipy.sparse import csr_matrix, hstack\n\n\ncategorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\n# text_feats_fixed = []\n# text_feats = [column for column in train_features.columns if column not in categorical_feats and column \n#              not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\n# tfidf_features = vectorizer.fit_transform(train_features["text"].apply(my_join))\n# train_features = train_features[categorical_feats + num_feats]\n# non_text_sparse = csr_matrix(pd.get_dummies(train_features, sparse=True).values)\n# train_features = hstack([non_text_sparse, tfidf_features])\n\n# tfidf_features = vectorizer.fit_transform(test_features["text"].apply(my_join))\n# test_features = test_features[categorical_feats + num_feats]\n# non_text_sparse = csr_matrix(pd.get_dummies(test_features, sparse=True).values)\n# test_features = hstack([non_text_sparse, tfidf_features])\n\n# tfidf_features = vectorizer.fit_transform(validation_features["text"].apply(my_join))\nvalidation_features = validation_features[categorical_feats + num_feats]\nnon_text_sparse = csr_matrix(pd.get_dummies(validation_features, sparse=True).values)\nvalidation_features = hstack([non_text_sparse, tfidf_features])\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:30:28.024Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"30b3e669bfb641da802ce344b63c5861\",\"cell_num\":40,\"cell_source\":\"from scipy.sparse import csr_matrix, hstack\n\n\ncategorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\n# text_feats_fixed = []\n# text_feats = [column for column in train_features.columns if column not in categorical_feats and column \n#              not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\n# tfidf_features = vectorizer.fit_transform(train_features["text"].apply(my_join))\n# train_features = train_features[categorical_feats + num_feats]\n# non_text_sparse = csr_matrix(pd.get_dummies(train_features, sparse=True).values)\n# train_features = hstack([non_text_sparse, tfidf_features])\n\n# tfidf_features = vectorizer.fit_transform(test_features["text"].apply(my_join))\n# test_features = test_features[categorical_feats + num_feats]\n# non_text_sparse = csr_matrix(pd.get_dummies(test_features, sparse=True).values)\n# test_features = hstack([non_text_sparse, tfidf_features])\n\n# tfidf_features = vectorizer.fit_transform(validation_features["text"].apply(my_join))\nvalidation_features = validation_features[categorical_feats + num_feats]\nnon_text_sparse = csr_matrix(pd.get_dummies(validation_features, sparse=True).values)\nvalidation_features = hstack([non_text_sparse, tfidf_features])\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:31:00.448Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"faa83e0393794cf5826edcae1cec6fca\",\"cell_num\":40,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:31:00.956Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"1029a1e93ea748249093900e38200fac\",\"cell_num\":41,\"cell_source\":\"pool_train = Pool(train_features.values,\n                  train_labels)\npool_val = Pool(validation_features.values,\n                  validation_labels)\npool_test = Pool(test_features.values)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T17:31:00.956Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"1029a1e93ea748249093900e38200fac\",\"cell_num\":41,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"AttributeError\\",\\"evalue\\":\\"values not found\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:31:08.419Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"1029a1e93ea748249093900e38200fac\",\"cell_num\":40,\"cell_source\":\"pool_train = Pool(train_features,\n                  train_labels)\npool_val = Pool(validation_features,\n                  validation_labels)\npool_test = Pool(test_features)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:31:08.706Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"1029a1e93ea748249093900e38200fac\",\"cell_num\":41,\"cell_source\":\"pool_train = Pool(train_features,\n                  train_labels)\npool_val = Pool(validation_features,\n                  validation_labels)\npool_test = Pool(test_features)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:31:28.096Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"faa83e0393794cf5826edcae1cec6fca\",\"cell_num\":42,\"cell_source\":\"catboost_clf = CatBoostClassifier(random_seed=3407, iterations=10,\n                                 loss_function="MultiClass", custom_metric=["F1"])\n\ncatboost_clf.fit(\n    pool_train,\n    eval_set=pool_val\n)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T17:31:28.096Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"faa83e0393794cf5826edcae1cec6fca\",\"cell_num\":42,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"CatBoostError\\",\\"evalue\\":\\"catboost/libs/data/features_layout.cpp:469: Feature #7800 is used in training data, but not available in test dataset #0\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:32:06.678Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"9dc63e92a97741bb9bac81c699f2562c\",\"cell_num\":36,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:32:06.934Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"9dc63e92a97741bb9bac81c699f2562c\",\"cell_num\":37,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":38}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:32:07.870Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"d8d7669ae80f4fb5bb6b13ef4c6b52e8\",\"cell_num\":37,\"cell_source\":\"def my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:32:08.160Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"9fa48c6f275c48b1b8ed0fef085fdcfc\",\"cell_num\":38,\"cell_source\":\"from sklearn.feature_extraction.text import TfidfVectorizer\n\n\ntrain_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\nvectorizer = TfidfVectorizer()\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n# train_features["comment"] = train_features["comment"].apply(my_join)\n# train_features["text"] = train_features["text"].apply(my_join)\n# train_features["packages_info"] = train_features["packages_info"].apply(my_join)\n\n# test_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\n# test_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\n# test_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\n# test_features["comment"] = test_features["comment"].apply(my_join)\n# test_features["text"] = test_features["text"].apply(my_join)\n# test_features["packages_info"] = test_features["packages_info"].apply(my_join)\n\n# validation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\n# validation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\n# validation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n# validation_features["comment"] = validation_features["comment"].apply(my_join)\n# validation_features["text"] = validation_features["text"].apply(my_join)\n# validation_features["packages_info"] = validation_features["packages_info"].apply(my_join)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:32:08.360Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"d8d7669ae80f4fb5bb6b13ef4c6b52e8\",\"cell_num\":39,\"cell_source\":\"def my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:32:08.442Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"9fa48c6f275c48b1b8ed0fef085fdcfc\",\"cell_num\":39,\"cell_source\":\"from sklearn.feature_extraction.text import TfidfVectorizer\n\n\ntrain_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\nvectorizer = TfidfVectorizer()\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n# train_features["comment"] = train_features["comment"].apply(my_join)\n# train_features["text"] = train_features["text"].apply(my_join)\n# train_features["packages_info"] = train_features["packages_info"].apply(my_join)\n\n# test_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\n# test_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\n# test_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\n# test_features["comment"] = test_features["comment"].apply(my_join)\n# test_features["text"] = test_features["text"].apply(my_join)\n# test_features["packages_info"] = test_features["packages_info"].apply(my_join)\n\n# validation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\n# validation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\n# validation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n# validation_features["comment"] = validation_features["comment"].apply(my_join)\n# validation_features["text"] = validation_features["text"].apply(my_join)\n# validation_features["packages_info"] = validation_features["packages_info"].apply(my_join)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:32:10.292Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"30b3e669bfb641da802ce344b63c5861\",\"cell_num\":39,\"cell_source\":\"from scipy.sparse import csr_matrix, hstack\n\n\ncategorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\n# text_feats_fixed = []\n# text_feats = [column for column in train_features.columns if column not in categorical_feats and column \n#              not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\ntfidf_features = vectorizer.fit_transform(train_features["text"].apply(my_join))\ntrain_features = train_features[categorical_feats + num_feats]\nnon_text_sparse = csr_matrix(pd.get_dummies(train_features, sparse=True).values)\ntrain_features = hstack([non_text_sparse, tfidf_features])\n\ntfidf_features = vectorizer.transform(test_features["text"].apply(my_join))\ntest_features = test_features[categorical_feats + num_feats]\nnon_text_sparse = csr_matrix(pd.get_dummies(test_features, sparse=True).values)\ntest_features = hstack([non_text_sparse, tfidf_features])\n\ntfidf_features = vectorizer.transform(validation_features["text"].apply(my_join))\nvalidation_features = validation_features[categorical_feats + num_feats]\nnon_text_sparse = csr_matrix(pd.get_dummies(validation_features, sparse=True).values)\nvalidation_features = hstack([non_text_sparse, tfidf_features])\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:32:10.755Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"30b3e669bfb641da802ce344b63c5861\",\"cell_num\":40,\"cell_source\":\"from scipy.sparse import csr_matrix, hstack\n\n\ncategorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\n# text_feats_fixed = []\n# text_feats = [column for column in train_features.columns if column not in categorical_feats and column \n#              not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\ntfidf_features = vectorizer.fit_transform(train_features["text"].apply(my_join))\ntrain_features = train_features[categorical_feats + num_feats]\nnon_text_sparse = csr_matrix(pd.get_dummies(train_features, sparse=True).values)\ntrain_features = hstack([non_text_sparse, tfidf_features])\n\ntfidf_features = vectorizer.transform(test_features["text"].apply(my_join))\ntest_features = test_features[categorical_feats + num_feats]\nnon_text_sparse = csr_matrix(pd.get_dummies(test_features, sparse=True).values)\ntest_features = hstack([non_text_sparse, tfidf_features])\n\ntfidf_features = vectorizer.transform(validation_features["text"].apply(my_join))\nvalidation_features = validation_features[categorical_feats + num_feats]\nnon_text_sparse = csr_matrix(pd.get_dummies(validation_features, sparse=True).values)\nvalidation_features = hstack([non_text_sparse, tfidf_features])\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:32:12.978Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"1029a1e93ea748249093900e38200fac\",\"cell_num\":40,\"cell_source\":\"pool_train = Pool(train_features,\n                  train_labels)\npool_val = Pool(validation_features,\n                  validation_labels)\npool_test = Pool(test_features)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:32:13.232Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"1029a1e93ea748249093900e38200fac\",\"cell_num\":41,\"cell_source\":\"pool_train = Pool(train_features,\n                  train_labels)\npool_val = Pool(validation_features,\n                  validation_labels)\npool_test = Pool(test_features)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:32:15.003Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"faa83e0393794cf5826edcae1cec6fca\",\"cell_num\":42,\"cell_source\":\"catboost_clf = CatBoostClassifier(random_seed=3407, iterations=10,\n                                 loss_function="MultiClass", custom_metric=["F1"])\n\ncatboost_clf.fit(\n    pool_train,\n    eval_set=pool_val\n)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T17:32:15.003Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"faa83e0393794cf5826edcae1cec6fca\",\"cell_num\":42,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"CatBoostError\\",\\"evalue\\":\\"catboost/libs/data/features_layout.cpp:469: Feature #16649 is used in training data, but not available in test dataset #0\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:34:48.782Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"9fa48c6f275c48b1b8ed0fef085fdcfc\",\"cell_num\":39,\"cell_source\":\"from sklearn.feature_extraction.text import TfidfVectorizer\n\n\ntrain_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\nvectorizer = TfidfVectorizer()\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n# train_features["comment"] = train_features["comment"].apply(my_join)\n# train_features["text"] = train_features["text"].apply(my_join)\n# train_features["packages_info"] = train_features["packages_info"].apply(my_join)\n\n# test_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\n# test_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\n# test_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\n# test_features["comment"] = test_features["comment"].apply(my_join)\n# test_features["text"] = test_features["text"].apply(my_join)\n# test_features["packages_info"] = test_features["packages_info"].apply(my_join)\n\n# validation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\n# validation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\n# validation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n# validation_features["comment"] = validation_features["comment"].apply(my_join)\n# validation_features["text"] = validation_features["text"].apply(my_join)\n# validation_features["packages_info"] = validation_features["packages_info"].apply(my_join)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T17:34:48.782Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"9fa48c6f275c48b1b8ed0fef085fdcfc\",\"cell_num\":39,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"IndexError\\",\\"evalue\\":\\"Index dimension must be 1 or 2\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:34:51.456Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"9dc63e92a97741bb9bac81c699f2562c\",\"cell_num\":36,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:34:51.722Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"9dc63e92a97741bb9bac81c699f2562c\",\"cell_num\":37,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":38}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:34:51.935Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"d8d7669ae80f4fb5bb6b13ef4c6b52e8\",\"cell_num\":37,\"cell_source\":\"def my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:34:52.187Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"d8d7669ae80f4fb5bb6b13ef4c6b52e8\",\"cell_num\":38,\"cell_source\":\"def my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:34:52.244Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"9fa48c6f275c48b1b8ed0fef085fdcfc\",\"cell_num\":38,\"cell_source\":\"from sklearn.feature_extraction.text import TfidfVectorizer\n\n\ntrain_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\nvectorizer = TfidfVectorizer()\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n# train_features["comment"] = train_features["comment"].apply(my_join)\n# train_features["text"] = train_features["text"].apply(my_join)\n# train_features["packages_info"] = train_features["packages_info"].apply(my_join)\n\n# test_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\n# test_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\n# test_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\n# test_features["comment"] = test_features["comment"].apply(my_join)\n# test_features["text"] = test_features["text"].apply(my_join)\n# test_features["packages_info"] = test_features["packages_info"].apply(my_join)\n\n# validation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\n# validation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\n# validation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n# validation_features["comment"] = validation_features["comment"].apply(my_join)\n# validation_features["text"] = validation_features["text"].apply(my_join)\n# validation_features["packages_info"] = validation_features["packages_info"].apply(my_join)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:34:52.480Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"9fa48c6f275c48b1b8ed0fef085fdcfc\",\"cell_num\":39,\"cell_source\":\"from sklearn.feature_extraction.text import TfidfVectorizer\n\n\ntrain_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\nvectorizer = TfidfVectorizer()\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n# train_features["comment"] = train_features["comment"].apply(my_join)\n# train_features["text"] = train_features["text"].apply(my_join)\n# train_features["packages_info"] = train_features["packages_info"].apply(my_join)\n\n# test_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\n# test_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\n# test_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\n# test_features["comment"] = test_features["comment"].apply(my_join)\n# test_features["text"] = test_features["text"].apply(my_join)\n# test_features["packages_info"] = test_features["packages_info"].apply(my_join)\n\n# validation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\n# validation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\n# validation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n# validation_features["comment"] = validation_features["comment"].apply(my_join)\n# validation_features["text"] = validation_features["text"].apply(my_join)\n# validation_features["packages_info"] = validation_features["packages_info"].apply(my_join)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:34:57.263Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"1029a1e93ea748249093900e38200fac\",\"cell_num\":41,\"cell_source\":\"pool_train = Pool(train_features,\n                  train_labels)\npool_val = Pool(validation_features,\n                  validation_labels)\npool_test = Pool(test_features)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":81},{\\"output_type\\":\\"stream\\",\\"size\\":3377}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:35:02.007Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"9dc63e92a97741bb9bac81c699f2562c\",\"cell_num\":36,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:35:02.349Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"9dc63e92a97741bb9bac81c699f2562c\",\"cell_num\":37,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":38}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:35:02.895Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"d8d7669ae80f4fb5bb6b13ef4c6b52e8\",\"cell_num\":37,\"cell_source\":\"def my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:35:03.157Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"d8d7669ae80f4fb5bb6b13ef4c6b52e8\",\"cell_num\":38,\"cell_source\":\"def my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:35:03.558Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"9fa48c6f275c48b1b8ed0fef085fdcfc\",\"cell_num\":38,\"cell_source\":\"from sklearn.feature_extraction.text import TfidfVectorizer\n\n\ntrain_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\nvectorizer = TfidfVectorizer()\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n# train_features["comment"] = train_features["comment"].apply(my_join)\n# train_features["text"] = train_features["text"].apply(my_join)\n# train_features["packages_info"] = train_features["packages_info"].apply(my_join)\n\n# test_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\n# test_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\n# test_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\n# test_features["comment"] = test_features["comment"].apply(my_join)\n# test_features["text"] = test_features["text"].apply(my_join)\n# test_features["packages_info"] = test_features["packages_info"].apply(my_join)\n\n# validation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\n# validation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\n# validation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n# validation_features["comment"] = validation_features["comment"].apply(my_join)\n# validation_features["text"] = validation_features["text"].apply(my_join)\n# validation_features["packages_info"] = validation_features["packages_info"].apply(my_join)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:35:03.849Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"9fa48c6f275c48b1b8ed0fef085fdcfc\",\"cell_num\":39,\"cell_source\":\"from sklearn.feature_extraction.text import TfidfVectorizer\n\n\ntrain_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\n\n\nvectorizer = TfidfVectorizer()\n# train_features["code_line_before"] = train_features["code_line_before"].apply(my_join)\n# train_features["code_line_after"] = train_features["code_line_after"].apply(my_join)\n# train_features["markdown_heading"] = train_features["markdown_heading"].apply(my_join)\n# train_features["comment"] = train_features["comment"].apply(my_join)\n# train_features["text"] = train_features["text"].apply(my_join)\n# train_features["packages_info"] = train_features["packages_info"].apply(my_join)\n\n# test_features["code_line_before"] = test_features["code_line_before"].apply(my_join)\n# test_features["code_line_after"] = test_features["code_line_after"].apply(my_join)\n# test_features["markdown_heading"] = test_features["markdown_heading"].apply(my_join)\n# test_features["comment"] = test_features["comment"].apply(my_join)\n# test_features["text"] = test_features["text"].apply(my_join)\n# test_features["packages_info"] = test_features["packages_info"].apply(my_join)\n\n# validation_features["code_line_before"] = validation_features["code_line_before"].apply(my_join)\n# validation_features["code_line_after"] = validation_features["code_line_after"].apply(my_join)\n# validation_features["markdown_heading"] = validation_features["markdown_heading"].apply(my_join)\n# validation_features["comment"] = validation_features["comment"].apply(my_join)\n# validation_features["text"] = validation_features["text"].apply(my_join)\n# validation_features["packages_info"] = validation_features["packages_info"].apply(my_join)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:35:41.606Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"30b3e669bfb641da802ce344b63c5861\",\"cell_num\":39,\"cell_source\":\"from scipy.sparse import csr_matrix, hstack\n\n\ncategorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\n# text_feats_fixed = []\n# text_feats = [column for column in train_features.columns if column not in categorical_feats and column \n#              not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\nvectorizer = TfidfVectorizer()\ntfidf_features = vectorizer.fit_transform(train_features["text"].apply(my_join))\ntrain_features = train_features[categorical_feats + num_feats]\nnon_text_sparse = csr_matrix(pd.get_dummies(train_features, sparse=True).values)\ntrain_features = hstack([non_text_sparse, tfidf_features])\n\ntfidf_features = vectorizer.transform(test_features["text"].apply(my_join))\ntest_features = test_features[categorical_feats + num_feats]\nnon_text_sparse = csr_matrix(pd.get_dummies(test_features, sparse=True).values)\ntest_features = hstack([non_text_sparse, tfidf_features])\n\ntfidf_features = vectorizer.transform(validation_features["text"].apply(my_join))\nvalidation_features = validation_features[categorical_feats + num_feats]\nnon_text_sparse = csr_matrix(pd.get_dummies(validation_features, sparse=True).values)\nvalidation_features = hstack([non_text_sparse, tfidf_features])\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:35:42.053Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"30b3e669bfb641da802ce344b63c5861\",\"cell_num\":40,\"cell_source\":\"from scipy.sparse import csr_matrix, hstack\n\n\ncategorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\n# text_feats_fixed = []\n# text_feats = [column for column in train_features.columns if column not in categorical_feats and column \n#              not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\nvectorizer = TfidfVectorizer()\ntfidf_features = vectorizer.fit_transform(train_features["text"].apply(my_join))\ntrain_features = train_features[categorical_feats + num_feats]\nnon_text_sparse = csr_matrix(pd.get_dummies(train_features, sparse=True).values)\ntrain_features = hstack([non_text_sparse, tfidf_features])\n\ntfidf_features = vectorizer.transform(test_features["text"].apply(my_join))\ntest_features = test_features[categorical_feats + num_feats]\nnon_text_sparse = csr_matrix(pd.get_dummies(test_features, sparse=True).values)\ntest_features = hstack([non_text_sparse, tfidf_features])\n\ntfidf_features = vectorizer.transform(validation_features["text"].apply(my_join))\nvalidation_features = validation_features[categorical_feats + num_feats]\nnon_text_sparse = csr_matrix(pd.get_dummies(validation_features, sparse=True).values)\nvalidation_features = hstack([non_text_sparse, tfidf_features])\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:35:45.553Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"1029a1e93ea748249093900e38200fac\",\"cell_num\":40,\"cell_source\":\"pool_train = Pool(train_features,\n                  train_labels)\npool_val = Pool(validation_features,\n                  validation_labels)\npool_test = Pool(test_features)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:35:45.817Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"1029a1e93ea748249093900e38200fac\",\"cell_num\":41,\"cell_source\":\"pool_train = Pool(train_features,\n                  train_labels)\npool_val = Pool(validation_features,\n                  validation_labels)\npool_test = Pool(test_features)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:35:48.300Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"faa83e0393794cf5826edcae1cec6fca\",\"cell_num\":42,\"cell_source\":\"catboost_clf = CatBoostClassifier(random_seed=3407, iterations=10,\n                                 loss_function="MultiClass", custom_metric=["F1"])\n\ncatboost_clf.fit(\n    pool_train,\n    eval_set=pool_val\n)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"error\\",\\"size\\":0}]\"}"[EVENT_SEPARATOR]
"{\"time\":\"2023-05-06T17:35:48.300Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"error\",\"cell_index\":\"faa83e0393794cf5826edcae1cec6fca\",\"cell_num\":42,\"cell_source\":\"{\\"output_type\\":\\"error\\",\\"ename\\":\\"CatBoostError\\",\\"evalue\\":\\"catboost/libs/data/features_layout.cpp:469: Feature #16649 is used in training data, but not available in test dataset #0\\"}\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:37:32.553Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"9dc63e92a97741bb9bac81c699f2562c\",\"cell_num\":36,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:37:32.834Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"9dc63e92a97741bb9bac81c699f2562c\",\"cell_num\":37,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":38}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:37:32.910Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"d8d7669ae80f4fb5bb6b13ef4c6b52e8\",\"cell_num\":37,\"cell_source\":\"def my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:37:33.123Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"d8d7669ae80f4fb5bb6b13ef4c6b52e8\",\"cell_num\":38,\"cell_source\":\"def my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:37:33.484Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"9fa48c6f275c48b1b8ed0fef085fdcfc\",\"cell_num\":38,\"cell_source\":\"from sklearn.feature_extraction.text import TfidfVectorizer\n\n\ntrain_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:37:33.762Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"9fa48c6f275c48b1b8ed0fef085fdcfc\",\"cell_num\":39,\"cell_source\":\"from sklearn.feature_extraction.text import TfidfVectorizer\n\n\ntrain_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:37:35.979Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"30b3e669bfb641da802ce344b63c5861\",\"cell_num\":39,\"cell_source\":\"from scipy.sparse import csr_matrix, hstack\n\n\ncategorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\n# text_feats_fixed = []\n# text_feats = [column for column in train_features.columns if column not in categorical_feats and column \n#              not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\nvectorizer = TfidfVectorizer()\ntfidf_features = vectorizer.fit_transform(train_features["text"].apply(my_join))\ntrain_features = train_features[num_feats]\nnon_text_sparse = csr_matrix(pd.get_dummies(train_features, sparse=True).values)\ntrain_features = hstack([non_text_sparse, tfidf_features])\n\n# tfidf_features = vectorizer.transform(test_features["text"].apply(my_join))\n# test_features = test_features[categorical_feats + num_feats]\n# non_text_sparse = csr_matrix(pd.get_dummies(test_features, sparse=True).values)\n# test_features = hstack([non_text_sparse, tfidf_features])\n\ntfidf_features = vectorizer.transform(validation_features["text"].apply(my_join))\nvalidation_features = validation_features[num_feats]\nnon_text_sparse = csr_matrix(pd.get_dummies(validation_features, sparse=True).values)\nvalidation_features = hstack([non_text_sparse, tfidf_features])\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:37:36.303Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"30b3e669bfb641da802ce344b63c5861\",\"cell_num\":40,\"cell_source\":\"from scipy.sparse import csr_matrix, hstack\n\n\ncategorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\n# text_feats_fixed = []\n# text_feats = [column for column in train_features.columns if column not in categorical_feats and column \n#              not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\nvectorizer = TfidfVectorizer()\ntfidf_features = vectorizer.fit_transform(train_features["text"].apply(my_join))\ntrain_features = train_features[num_feats]\nnon_text_sparse = csr_matrix(pd.get_dummies(train_features, sparse=True).values)\ntrain_features = hstack([non_text_sparse, tfidf_features])\n\n# tfidf_features = vectorizer.transform(test_features["text"].apply(my_join))\n# test_features = test_features[categorical_feats + num_feats]\n# non_text_sparse = csr_matrix(pd.get_dummies(test_features, sparse=True).values)\n# test_features = hstack([non_text_sparse, tfidf_features])\n\ntfidf_features = vectorizer.transform(validation_features["text"].apply(my_join))\nvalidation_features = validation_features[num_feats]\nnon_text_sparse = csr_matrix(pd.get_dummies(validation_features, sparse=True).values)\nvalidation_features = hstack([non_text_sparse, tfidf_features])\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:37:38.194Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"1029a1e93ea748249093900e38200fac\",\"cell_num\":41,\"cell_source\":\"pool_train = Pool(train_features,\n                  train_labels)\npool_val = Pool(validation_features,\n                  validation_labels)\npool_test = Pool(test_features)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":81},{\\"output_type\\":\\"stream\\",\\"size\\":3375}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:37:53.650Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"9dc63e92a97741bb9bac81c699f2562c\",\"cell_num\":36,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:37:53.889Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"9dc63e92a97741bb9bac81c699f2562c\",\"cell_num\":37,\"cell_source\":\"import pandas as pd\nfeatures_path = "data/task2/"\ntest_features = pd.read_pickle(features_path+"test_features.pkl")\ntrain_features = pd.read_pickle(features_path+"train_features.pkl")\nvalidation_features = pd.read_pickle(features_path+"validation_features.pkl")\n\ntrain_features.index = range(train_features.shape[0])\nvalidation_features.index = range(validation_features.shape[0])\ntest_features.index = range(test_features.shape[0])\n\ntrain_features.fillna(0,inplace=True)\ntest_features.fillna(0,inplace=True)\nvalidation_features.fillna(0,inplace=True)\n\nprint(train_features.shape)\nprint(validation_features.shape)\nprint(test_features.shape)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":38}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:37:54.284Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"d8d7669ae80f4fb5bb6b13ef4c6b52e8\",\"cell_num\":37,\"cell_source\":\"def my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:37:54.496Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"d8d7669ae80f4fb5bb6b13ef4c6b52e8\",\"cell_num\":38,\"cell_source\":\"def my_join(x):\n    if isinstance(x, list):\n        return "".join(x)\n    else:\n        return ""\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:37:54.798Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"9fa48c6f275c48b1b8ed0fef085fdcfc\",\"cell_num\":38,\"cell_source\":\"from sklearn.feature_extraction.text import TfidfVectorizer\n\n\ntrain_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:37:55.067Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"9fa48c6f275c48b1b8ed0fef085fdcfc\",\"cell_num\":39,\"cell_source\":\"from sklearn.feature_extraction.text import TfidfVectorizer\n\n\ntrain_labels = train_features["primary_label"]\ntrain_features = train_features.drop(columns=["primary_label"])\n# test_labels = test_features["primary_label"]\n# test_features = test_features.drop(columns=["primary_label"])\nvalidation_labels = validation_features["primary_label"]\nvalidation_features = validation_features.drop(columns=["primary_label"])\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:37:56.106Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"30b3e669bfb641da802ce344b63c5861\",\"cell_num\":39,\"cell_source\":\"from scipy.sparse import csr_matrix, hstack\n\n\ncategorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\n# text_feats_fixed = []\n# text_feats = [column for column in train_features.columns if column not in categorical_feats and column \n#              not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\nvectorizer = TfidfVectorizer()\ntfidf_features = vectorizer.fit_transform(train_features["text"].apply(my_join))\ntrain_features = train_features[num_feats]\nnon_text_sparse = csr_matrix(pd.get_dummies(train_features, sparse=True).values)\ntrain_features = hstack([non_text_sparse, tfidf_features])\n\ntfidf_features = vectorizer.transform(test_features["text"].apply(my_join))\ntest_features = test_features[num_feats]\nnon_text_sparse = csr_matrix(pd.get_dummies(test_features, sparse=True).values)\ntest_features = hstack([non_text_sparse, tfidf_features])\n\ntfidf_features = vectorizer.transform(validation_features["text"].apply(my_join))\nvalidation_features = validation_features[num_feats]\nnon_text_sparse = csr_matrix(pd.get_dummies(validation_features, sparse=True).values)\nvalidation_features = hstack([non_text_sparse, tfidf_features])\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:37:56.472Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"30b3e669bfb641da802ce344b63c5861\",\"cell_num\":40,\"cell_source\":\"from scipy.sparse import csr_matrix, hstack\n\n\ncategorical_feats = ["filename", "cell_type", "text/plain", "image/png", "text/html",\n                     "execute_result", "display_data", "stream"]\nnum_feats = ["cell_number", "execution_count", "linesofcomment", "linesofcode", "variable_count",\n            "function_count", "error"]\nprimary_labels = ["helper_functions", "load_data", "data_preprocessing",\n            "data_exploration", "modelling", "prediction", "evaluation", "result_visualization",\n            "save_results", "comment_only"]\n# text_feats_fixed = []\n# text_feats = [column for column in train_features.columns if column not in categorical_feats and column \n#              not in num_feats and column not in text_feats_fixed and column not in primary_labels]\n\nvectorizer = TfidfVectorizer()\ntfidf_features = vectorizer.fit_transform(train_features["text"].apply(my_join))\ntrain_features = train_features[num_feats]\nnon_text_sparse = csr_matrix(pd.get_dummies(train_features, sparse=True).values)\ntrain_features = hstack([non_text_sparse, tfidf_features])\n\ntfidf_features = vectorizer.transform(test_features["text"].apply(my_join))\ntest_features = test_features[num_feats]\nnon_text_sparse = csr_matrix(pd.get_dummies(test_features, sparse=True).values)\ntest_features = hstack([non_text_sparse, tfidf_features])\n\ntfidf_features = vectorizer.transform(validation_features["text"].apply(my_join))\nvalidation_features = validation_features[num_feats]\nnon_text_sparse = csr_matrix(pd.get_dummies(validation_features, sparse=True).values)\nvalidation_features = hstack([non_text_sparse, tfidf_features])\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:37:56.994Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"1029a1e93ea748249093900e38200fac\",\"cell_num\":40,\"cell_source\":\"pool_train = Pool(train_features,\n                  train_labels)\npool_val = Pool(validation_features,\n                  validation_labels)\npool_test = Pool(test_features)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:37:57.252Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"1029a1e93ea748249093900e38200fac\",\"cell_num\":41,\"cell_source\":\"pool_train = Pool(train_features,\n                  train_labels)\npool_val = Pool(validation_features,\n                  validation_labels)\npool_test = Pool(test_features)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:37:59.554Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"faa83e0393794cf5826edcae1cec6fca\",\"cell_num\":41,\"cell_source\":\"catboost_clf = CatBoostClassifier(random_seed=3407, iterations=10,\n                                 loss_function="MultiClass", custom_metric=["F1"])\n\ncatboost_clf.fit(\n    pool_train,\n    eval_set=pool_val\n)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:38:05.649Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"faa83e0393794cf5826edcae1cec6fca\",\"cell_num\":42,\"cell_source\":\"catboost_clf = CatBoostClassifier(random_seed=3407, iterations=10,\n                                 loss_function="MultiClass", custom_metric=["F1"])\n\ncatboost_clf.fit(\n    pool_train,\n    eval_set=pool_val\n)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":991},{\\"output_type\\":\\"execute_result\\",\\"size\\":69}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:38:12.807Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"73e816acf0604fd0864a9692728484b0\",\"cell_num\":42,\"cell_source\":\"val_preds = catboost_clf.predict(pool_val)\nf1 = f1_score(pool_val.get_label(), val_preds, average="weighted")\nprint(\\"F1 score on the validation dataset:\\", f1)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:38:12.897Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"8c1df888cc334b4081fcaed823da3f95\",\"cell_num\":42,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:38:13.404Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"73e816acf0604fd0864a9692728484b0\",\"cell_num\":43,\"cell_source\":\"val_preds = catboost_clf.predict(pool_val)\nf1 = f1_score(pool_val.get_label(), val_preds, average="weighted")\nprint(\\"F1 score on the validation dataset:\\", f1)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":58}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:38:28.946Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"faa83e0393794cf5826edcae1cec6fca\",\"cell_num\":41,\"cell_source\":\"catboost_clf = CatBoostClassifier(random_seed=3407, iterations=1000, early_stopping_rounds=100,\n                                 loss_function="MultiClass", custom_metric=["F1"])\n\ncatboost_clf.fit(\n    pool_train,\n    eval_set=pool_val\n)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:38:38.032Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"73e816acf0604fd0864a9692728484b0\",\"cell_num\":42,\"cell_source\":\"val_preds = catboost_clf.predict(pool_val)\nf1 = f1_score(pool_val.get_label(), val_preds, average="weighted")\nprint(\\"F1 score on the validation dataset:\\", f1)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:52:49.810Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"faa83e0393794cf5826edcae1cec6fca\",\"cell_num\":40,\"cell_source\":\"catboost_clf = CatBoostClassifier(random_seed=3407, iterations=1000, early_stopping_rounds=100,\n                                 loss_function="MultiClass", custom_metric=["F1"])\n\ncatboost_clf.fit(\n    pool_train,\n    eval_set=pool_val\n)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":8755},{\\"output_type\\":\\"stream\\",\\"size\\":8750},{\\"output_type\\":\\"stream\\",\\"size\\":8762},{\\"output_type\\":\\"stream\\",\\"size\\":8779},{\\"output_type\\":\\"stream\\",\\"size\\":8785},{\\"output_type\\":\\"stream\\",\\"size\\":8786},{\\"output_type\\":\\"stream\\",\\"size\\":8791},{\\"output_type\\":\\"stream\\",\\"size\\":8780},{\\"output_type\\":\\"stream\\",\\"size\\":8788},{\\"output_type\\":\\"stream\\",\\"size\\":8778},{\\"output_type\\":\\"stream\\",\\"size\\":8804},{\\"output_type\\":\\"stream\\",\\"size\\":1264},{\\"output_type\\":\\"execute_result\\",\\"size\\":69}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:52:50.173Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"73e816acf0604fd0864a9692728484b0\",\"cell_num\":40,\"cell_source\":\"val_preds = catboost_clf.predict(pool_val)\nf1 = f1_score(pool_val.get_label(), val_preds, average="weighted")\nprint(\\"F1 score on the validation dataset:\\", f1)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":57}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:52:54.210Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"73e816acf0604fd0864a9692728484b0\",\"cell_num\":42,\"cell_source\":\"val_preds = catboost_clf.predict(pool_val)\nf1 = f1_score(pool_val.get_label(), val_preds, average="weighted")\nprint(\\"F1 score on the validation dataset:\\", f1)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:52:54.522Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"73e816acf0604fd0864a9692728484b0\",\"cell_num\":43,\"cell_source\":\"val_preds = catboost_clf.predict(pool_val)\nf1 = f1_score(pool_val.get_label(), val_preds, average="weighted")\nprint(\\"F1 score on the validation dataset:\\", f1)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":57}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:53:17.200Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"8c1df888cc334b4081fcaed823da3f95\",\"cell_num\":43,\"cell_source\":\"test_preds = catboost_clf.predict(pool_test)\n\npreds_df = pd.DataFrame(test_preds, columns=[\\"prediction\\"])\n\npreds_df.to_csv(\\"submission.csv\\", index=False)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:53:17.314Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"0197d961702e4a7a89b614365e7886ec\",\"cell_num\":43,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:53:17.858Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"8c1df888cc334b4081fcaed823da3f95\",\"cell_num\":44,\"cell_source\":\"test_preds = catboost_clf.predict(pool_test)\n\npreds_df = pd.DataFrame(test_preds, columns=[\\"prediction\\"])\n\npreds_df.to_csv(\\"submission.csv\\", index=False)\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:53:21.449Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"0197d961702e4a7a89b614365e7886ec\",\"cell_num\":44,\"cell_source\":\"preds_df\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:53:21.489Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"902e641f35b54842acafbd3d5b071907\",\"cell_num\":44,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:53:22.040Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"0197d961702e4a7a89b614365e7886ec\",\"cell_num\":45,\"cell_source\":\"preds_df\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":1633}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:53:50.291Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"0197d961702e4a7a89b614365e7886ec\",\"cell_num\":44,\"cell_source\":\"preds_df\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:53:51.140Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"0197d961702e4a7a89b614365e7886ec\",\"cell_num\":45,\"cell_source\":\"preds_df\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"execute_result\\",\\"size\\":1633}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:54:06.294Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"902e641f35b54842acafbd3d5b071907\",\"cell_num\":45,\"cell_source\":\"!ls\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:54:06.341Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"create\",\"cell_index\":\"7352dedb663b45b99cb7841d63307726\",\"cell_num\":45,\"cell_source\":\"\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:54:06.930Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"902e641f35b54842acafbd3d5b071907\",\"cell_num\":46,\"cell_source\":\"!ls\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":444}]\"}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:54:10.359Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"execute\",\"cell_index\":\"902e641f35b54842acafbd3d5b071907\",\"cell_num\":45,\"cell_source\":\"!git status\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":null}"[EVENT_SEPARATOR]
"{\"ip_address\":\"127.0.0.1\",\"time\":\"2023-05-06T17:54:10.958Z\",\"kernel_id\":\"8a599028-9e81-4862-ad7f-15500e742f27\",\"notebook_name\":\"task2.ipynb\",\"event\":\"finished_execute\",\"cell_index\":\"902e641f35b54842acafbd3d5b071907\",\"cell_num\":46,\"cell_source\":\"!git status\",\"cell_type\":\"code\",\"session_id\":\"3b9a88f4-fe7e-4e41-b0e5-c02e9fa21352\",\"cell_output\":\"[{\\"output_type\\":\\"stream\\",\\"size\\":1255}]\"}"[EVENT_SEPARATOR]
